2021-02-01 09:17:57.101 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 09:17:57.146 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 09:17:57.147 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 09:17:57.147 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 09:17:57.147 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 09:17:57.147 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 09:17:57.147 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 09:17:57.294 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 09:17:57.295 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 09:17:57.296 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 09:17:57.296 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 09:17:57.296 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 09:17:57.296 -05:00 [DBG] Error Url: /home/error
2021-02-01 09:17:57.296 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 09:18:08.284 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 09:18:08.333 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 09:18:08.333 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 09:18:08.333 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 09:18:08.333 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 09:18:08.334 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 09:18:08.334 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 09:18:08.659 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 09:18:08.661 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 09:18:08.661 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 09:18:08.661 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 09:18:08.661 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 09:18:08.661 -05:00 [DBG] Error Url: /home/error
2021-02-01 09:18:08.661 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 09:18:10.726 -05:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2021-02-01 09:18:26.651 -05:00 [DBG] Augmenting SignInContext
2021-02-01 09:18:26.653 -05:00 [DBG] Adding idp claim with value: local
2021-02-01 09:18:26.654 -05:00 [DBG] Adding amr claim with value: pwd
2021-02-01 09:18:26.654 -05:00 [DBG] Adding auth_time claim with value: 1612189106
2021-02-01 09:18:26.661 -05:00 [WRN] The cookie 'idsrv.session' has set 'SameSite=None' and must also set 'Secure'.
2021-02-01 09:18:26.678 -05:00 [WRN] The cookie '.AspNetCore.Identity.Application' has set 'SameSite=None' and must also set 'Secure'.
2021-02-01 09:18:26.680 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 09:18:26.748 -05:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2021-02-01 09:19:59.314 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 09:19:59.355 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 09:19:59.356 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 09:19:59.356 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 09:19:59.357 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 09:19:59.357 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 09:19:59.357 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 09:20:00.001 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 09:20:00.003 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 09:20:00.004 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 09:20:00.005 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 09:20:00.005 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 09:20:00.006 -05:00 [DBG] Error Url: /home/error
2021-02-01 09:20:00.007 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 09:20:10.369 -05:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2021-02-01 09:20:21.648 -05:00 [DBG] Augmenting SignInContext
2021-02-01 09:20:21.650 -05:00 [DBG] Adding idp claim with value: local
2021-02-01 09:20:21.651 -05:00 [DBG] Adding amr claim with value: pwd
2021-02-01 09:20:21.652 -05:00 [DBG] Adding auth_time claim with value: 1612189221
2021-02-01 09:20:21.669 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 09:20:31.579 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 09:21:32.565 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 09:21:32.606 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 09:21:32.606 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 09:21:32.606 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 09:21:32.606 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 09:21:32.606 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 09:21:32.606 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 09:21:32.743 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 09:21:32.745 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 09:21:32.745 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 09:21:32.745 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 09:21:32.745 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 09:21:32.745 -05:00 [DBG] Error Url: /home/error
2021-02-01 09:21:32.745 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 09:21:46.307 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:21:46.310 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:21:46.310 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:21:46.312 -05:00 [DBG] Start discovery request
2021-02-01 09:21:46.412 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 09:21:46.414 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 09:21:46.415 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 09:21:46.417 -05:00 [DBG] Start authorize request
2021-02-01 09:21:46.423 -05:00 [DBG] User in authorize request: 4
2021-02-01 09:21:46.428 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 09:21:46.440 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 09:21:46.475 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 09:21:46.490 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"af676bb3ffee4aafa43022a544aa47df","UiLocales":null,"Nonce":"b60aa6d1ffc04a0aa51b5b7dc86a64f8","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"A60AB7B0AB8D28E38E34CFB5E01B0761","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"af676bb3ffee4aafa43022a544aa47df","nonce":"b60aa6d1ffc04a0aa51b5b7dc86a64f8"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 09:21:47.362 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 09:21:47.366 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 09:21:47.379 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 09:21:47.380 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 09:21:47.615 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 09:21:47.634 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"af676bb3ffee4aafa43022a544aa47df","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 09:21:47.642 -05:00 [DBG] Augmenting SignInContext
2021-02-01 09:21:47.660 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 09:21:48.721 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:21:48.722 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:21:48.722 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:21:48.722 -05:00 [DBG] Start discovery request
2021-02-01 09:21:48.735 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 09:21:48.735 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 09:21:48.736 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 09:21:48.737 -05:00 [DBG] Start key discovery request
2021-02-01 09:21:48.777 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:21:48.779 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:21:48.779 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:21:48.779 -05:00 [DBG] Start discovery request
2021-02-01 09:21:48.792 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 09:21:48.794 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 09:21:48.794 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 09:21:48.797 -05:00 [DBG] Start userinfo request
2021-02-01 09:21:48.799 -05:00 [DBG] Bearer token found in header
2021-02-01 09:21:48.864 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 09:21:48.866 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 09:21:48.911 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 09:21:48.912 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"A200CAEBD104036ED76366F04E1080C6","Claims":{"nbf":1612189307,"exp":1612192907,"iss":"https://localhost:44302","client_id":"wewantdoughnuts","sub":"4","auth_time":1612189221,"idp":"local","jti":"A200CAEBD104036ED76366F04E1080C6","sid":"A60AB7B0AB8D28E38E34CFB5E01B0761","iat":1612189307,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 09:21:48.917 -05:00 [DBG] Creating userinfo response
2021-02-01 09:21:48.919 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 09:21:48.921 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 09:21:48.927 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 09:21:48.927 -05:00 [DBG] End userinfo request
2021-02-01 09:21:48.937 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:21:48.937 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:21:48.937 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:21:48.937 -05:00 [DBG] Start discovery request
2021-02-01 09:21:48.961 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 09:21:48.961 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 09:21:48.961 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 09:21:48.962 -05:00 [DBG] Rendering check session result
2021-02-01 09:21:49.054 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:21:49.054 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:21:49.055 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:21:49.055 -05:00 [DBG] Start discovery request
2021-02-01 09:21:49.069 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 09:21:49.069 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 09:21:49.069 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 09:21:49.070 -05:00 [DBG] Rendering check session result
2021-02-01 09:21:49.294 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:21:49.295 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:21:49.295 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:21:49.295 -05:00 [DBG] Start discovery request
2021-02-01 09:21:49.486 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 09:21:49.487 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 09:21:49.487 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 09:21:49.487 -05:00 [DBG] Start key discovery request
2021-02-01 09:21:55.500 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:21:55.501 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:21:55.501 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:21:55.501 -05:00 [DBG] Start discovery request
2021-02-01 09:21:55.540 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 09:21:55.540 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 09:21:55.540 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 09:21:55.540 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 09:21:55.540 -05:00 [DBG] Rendering check session result
2021-02-01 09:21:55.540 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 09:21:55.541 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 09:21:55.541 -05:00 [DBG] Start authorize request
2021-02-01 09:21:55.541 -05:00 [DBG] User in authorize request: 4
2021-02-01 09:21:55.541 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 09:21:55.541 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 09:21:55.542 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 09:21:55.542 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"5b8022c546f94257bc9c38a15019f33b","UiLocales":null,"Nonce":"4fff462c738c4da7986f2ffa7403b33e","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"A60AB7B0AB8D28E38E34CFB5E01B0761","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"5b8022c546f94257bc9c38a15019f33b","nonce":"4fff462c738c4da7986f2ffa7403b33e"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 09:21:55.547 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 09:21:55.547 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 09:21:55.547 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 09:21:55.547 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 09:21:55.553 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 09:21:55.559 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"5b8022c546f94257bc9c38a15019f33b","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 09:21:56.084 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:21:56.085 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:21:56.085 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:21:56.085 -05:00 [DBG] Start discovery request
2021-02-01 09:21:56.093 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:21:56.093 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:21:56.093 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:21:56.093 -05:00 [DBG] Start discovery request
2021-02-01 09:21:56.122 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 09:21:56.124 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 09:21:56.125 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 09:21:56.125 -05:00 [DBG] Start key discovery request
2021-02-01 09:21:56.125 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 09:21:56.125 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 09:21:56.125 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 09:21:56.125 -05:00 [DBG] Rendering check session result
2021-02-01 09:21:56.155 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:21:56.155 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:21:56.155 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:21:56.155 -05:00 [DBG] Start discovery request
2021-02-01 09:21:56.171 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 09:21:56.171 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 09:21:56.171 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 09:21:56.172 -05:00 [DBG] Start userinfo request
2021-02-01 09:21:56.172 -05:00 [DBG] Bearer token found in header
2021-02-01 09:21:56.172 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 09:21:56.173 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 09:21:56.176 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 09:21:56.176 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"BB611D89015B26A4BAFF6BA180836D77","Claims":{"nbf":1612189315,"exp":1612192915,"iss":"https://localhost:44302","client_id":"wewantdoughnuts","sub":"4","auth_time":1612189221,"idp":"local","jti":"BB611D89015B26A4BAFF6BA180836D77","sid":"A60AB7B0AB8D28E38E34CFB5E01B0761","iat":1612189315,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 09:21:56.177 -05:00 [DBG] Creating userinfo response
2021-02-01 09:21:56.177 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 09:21:56.177 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 09:21:56.182 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 09:21:56.182 -05:00 [DBG] End userinfo request
2021-02-01 09:21:56.306 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:21:56.307 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:21:56.307 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:21:56.307 -05:00 [DBG] Start discovery request
2021-02-01 09:21:56.335 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 09:21:56.335 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 09:21:56.336 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 09:21:56.336 -05:00 [DBG] Rendering check session result
2021-02-01 09:22:01.126 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:22:01.127 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:22:01.127 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:22:01.127 -05:00 [DBG] Start discovery request
2021-02-01 09:22:01.155 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 09:22:01.155 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 09:22:01.155 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 09:22:01.155 -05:00 [DBG] Rendering check session result
2021-02-01 09:22:37.176 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:22:37.176 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:22:37.176 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:22:37.176 -05:00 [DBG] Start discovery request
2021-02-01 09:22:37.216 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 09:22:37.216 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 09:22:37.216 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 09:22:37.216 -05:00 [DBG] Rendering check session result
2021-02-01 09:22:37.218 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 09:22:37.226 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 09:22:37.226 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 09:22:37.226 -05:00 [DBG] Start authorize request
2021-02-01 09:22:37.226 -05:00 [DBG] User in authorize request: 4
2021-02-01 09:22:37.226 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 09:22:37.226 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 09:22:37.226 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 09:22:37.227 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"bbd7e30e79e74c988003aea99c584ab7","UiLocales":null,"Nonce":"2754bdb4825d46c29c21a852e2a21967","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"A60AB7B0AB8D28E38E34CFB5E01B0761","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"bbd7e30e79e74c988003aea99c584ab7","nonce":"2754bdb4825d46c29c21a852e2a21967"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 09:22:37.232 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 09:22:37.232 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 09:22:37.232 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 09:22:37.232 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 09:22:37.241 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 09:22:37.247 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"bbd7e30e79e74c988003aea99c584ab7","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 09:22:37.773 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:22:37.773 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:22:37.773 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:22:37.773 -05:00 [DBG] Start discovery request
2021-02-01 09:22:37.781 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:22:37.782 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:22:37.782 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:22:37.782 -05:00 [DBG] Start discovery request
2021-02-01 09:22:37.817 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 09:22:37.817 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 09:22:37.817 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 09:22:37.817 -05:00 [DBG] Start key discovery request
2021-02-01 09:22:37.820 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 09:22:37.820 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 09:22:37.820 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 09:22:37.820 -05:00 [DBG] Rendering check session result
2021-02-01 09:22:37.853 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:22:37.854 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:22:37.854 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:22:37.854 -05:00 [DBG] Start discovery request
2021-02-01 09:22:37.870 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 09:22:37.874 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 09:22:37.874 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 09:22:37.874 -05:00 [DBG] Start userinfo request
2021-02-01 09:22:37.874 -05:00 [DBG] Bearer token found in header
2021-02-01 09:22:37.875 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 09:22:37.875 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 09:22:37.878 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 09:22:37.878 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"6094C58A276D234EA91D0CCF8EFC44B7","Claims":{"nbf":1612189357,"exp":1612192957,"iss":"https://localhost:44302","client_id":"wewantdoughnuts","sub":"4","auth_time":1612189221,"idp":"local","jti":"6094C58A276D234EA91D0CCF8EFC44B7","sid":"A60AB7B0AB8D28E38E34CFB5E01B0761","iat":1612189357,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 09:22:37.879 -05:00 [DBG] Creating userinfo response
2021-02-01 09:22:37.879 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 09:22:37.879 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 09:22:37.882 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 09:22:37.882 -05:00 [DBG] End userinfo request
2021-02-01 09:22:38.000 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:22:38.000 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:22:38.000 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:22:38.000 -05:00 [DBG] Start discovery request
2021-02-01 09:22:38.054 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 09:22:38.054 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 09:22:38.054 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 09:22:38.054 -05:00 [DBG] Rendering check session result
2021-02-01 09:24:20.408 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:24:20.408 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:24:20.408 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:24:20.408 -05:00 [DBG] Start discovery request
2021-02-01 09:24:20.446 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 09:24:20.446 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 09:24:20.446 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 09:24:20.446 -05:00 [DBG] Rendering check session result
2021-02-01 09:24:20.448 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 09:24:20.448 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 09:24:20.448 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 09:24:20.448 -05:00 [DBG] Start authorize request
2021-02-01 09:24:20.449 -05:00 [DBG] User in authorize request: 4
2021-02-01 09:24:20.449 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 09:24:20.449 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 09:24:20.449 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 09:24:20.450 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"75fe1ddaa9ac4b87919339a240892a57","UiLocales":null,"Nonce":"a7d9f40bacae4611962a87f138cda379","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"A60AB7B0AB8D28E38E34CFB5E01B0761","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"75fe1ddaa9ac4b87919339a240892a57","nonce":"a7d9f40bacae4611962a87f138cda379"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 09:24:20.458 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 09:24:20.458 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 09:24:20.458 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 09:24:20.458 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 09:24:20.471 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 09:24:20.477 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"75fe1ddaa9ac4b87919339a240892a57","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 09:24:21.107 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:24:21.107 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:24:21.107 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:24:21.107 -05:00 [DBG] Start discovery request
2021-02-01 09:24:21.114 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:24:21.115 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:24:21.115 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:24:21.115 -05:00 [DBG] Start discovery request
2021-02-01 09:24:21.141 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 09:24:21.141 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 09:24:21.141 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 09:24:21.141 -05:00 [DBG] Start key discovery request
2021-02-01 09:24:21.143 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 09:24:21.143 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 09:24:21.143 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 09:24:21.143 -05:00 [DBG] Rendering check session result
2021-02-01 09:24:21.172 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:24:21.172 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:24:21.172 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:24:21.172 -05:00 [DBG] Start discovery request
2021-02-01 09:24:21.186 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 09:24:21.186 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 09:24:21.186 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 09:24:21.187 -05:00 [DBG] Start userinfo request
2021-02-01 09:24:21.187 -05:00 [DBG] Bearer token found in header
2021-02-01 09:24:21.188 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 09:24:21.188 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 09:24:21.191 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 09:24:21.191 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"FA115DF7DFDF3F979927F3CD968B6738","Claims":{"nbf":1612189460,"exp":1612193060,"iss":"https://localhost:44302","client_id":"wewantdoughnuts","sub":"4","auth_time":1612189221,"idp":"local","jti":"FA115DF7DFDF3F979927F3CD968B6738","sid":"A60AB7B0AB8D28E38E34CFB5E01B0761","iat":1612189460,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 09:24:21.192 -05:00 [DBG] Creating userinfo response
2021-02-01 09:24:21.192 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 09:24:21.192 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 09:24:21.196 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 09:24:21.196 -05:00 [DBG] End userinfo request
2021-02-01 09:24:21.320 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:24:21.321 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:24:21.321 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:24:21.321 -05:00 [DBG] Start discovery request
2021-02-01 09:24:21.363 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 09:24:21.363 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 09:24:21.363 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 09:24:21.363 -05:00 [DBG] Rendering check session result
2021-02-01 09:25:40.995 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:25:40.995 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:25:40.995 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:25:40.995 -05:00 [DBG] Start discovery request
2021-02-01 09:25:41.033 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 09:25:41.033 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 09:25:41.033 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 09:25:41.033 -05:00 [DBG] Rendering check session result
2021-02-01 09:25:41.033 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 09:25:41.033 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 09:25:41.034 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 09:25:41.034 -05:00 [DBG] Start authorize request
2021-02-01 09:25:41.034 -05:00 [DBG] User in authorize request: 4
2021-02-01 09:25:41.034 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 09:25:41.034 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 09:25:41.034 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 09:25:41.034 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"6e8e5f40a1c64749bc55e2bf9bdc7101","UiLocales":null,"Nonce":"c43b97082afb43c9836d722e2da77b8a","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"A60AB7B0AB8D28E38E34CFB5E01B0761","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"6e8e5f40a1c64749bc55e2bf9bdc7101","nonce":"c43b97082afb43c9836d722e2da77b8a"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 09:25:41.039 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 09:25:41.039 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 09:25:41.039 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 09:25:41.039 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 09:25:41.050 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 09:25:41.055 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"6e8e5f40a1c64749bc55e2bf9bdc7101","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 09:25:41.905 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:25:41.905 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:25:41.905 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:25:41.905 -05:00 [DBG] Start discovery request
2021-02-01 09:25:41.909 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:25:41.909 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:25:41.910 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:25:41.910 -05:00 [DBG] Start discovery request
2021-02-01 09:25:41.930 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 09:25:41.931 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 09:25:41.931 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 09:25:41.931 -05:00 [DBG] Start key discovery request
2021-02-01 09:25:41.932 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 09:25:41.932 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 09:25:41.932 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 09:25:41.932 -05:00 [DBG] Rendering check session result
2021-02-01 09:25:41.954 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:25:41.954 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:25:41.954 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:25:41.954 -05:00 [DBG] Start discovery request
2021-02-01 09:25:41.966 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 09:25:41.966 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 09:25:41.966 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 09:25:41.966 -05:00 [DBG] Start userinfo request
2021-02-01 09:25:41.966 -05:00 [DBG] Bearer token found in header
2021-02-01 09:25:41.967 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 09:25:41.967 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 09:25:41.970 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 09:25:41.970 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"DEB081240429A611E5B5BAC2DC6C7371","Claims":{"nbf":1612189541,"exp":1612193141,"iss":"https://localhost:44302","client_id":"wewantdoughnuts","sub":"4","auth_time":1612189221,"idp":"local","jti":"DEB081240429A611E5B5BAC2DC6C7371","sid":"A60AB7B0AB8D28E38E34CFB5E01B0761","iat":1612189541,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 09:25:41.970 -05:00 [DBG] Creating userinfo response
2021-02-01 09:25:41.970 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 09:25:41.970 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 09:25:41.973 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 09:25:41.973 -05:00 [DBG] End userinfo request
2021-02-01 09:25:42.081 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:25:42.082 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:25:42.082 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:25:42.082 -05:00 [DBG] Start discovery request
2021-02-01 09:25:42.095 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 09:25:42.095 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 09:25:42.095 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 09:25:42.095 -05:00 [DBG] Rendering check session result
2021-02-01 09:25:45.128 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:25:45.128 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:25:45.128 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:25:45.128 -05:00 [DBG] Start discovery request
2021-02-01 09:25:45.145 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 09:25:45.145 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 09:25:45.145 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 09:25:45.145 -05:00 [DBG] Rendering check session result
2021-02-01 09:25:46.419 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:25:46.420 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:25:46.420 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:25:46.420 -05:00 [DBG] Start discovery request
2021-02-01 09:25:46.439 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 09:25:46.440 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 09:25:46.440 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 09:25:46.440 -05:00 [DBG] Rendering check session result
2021-02-01 09:27:00.548 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:27:00.548 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:27:00.549 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:27:00.549 -05:00 [DBG] Start discovery request
2021-02-01 09:27:00.586 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 09:27:00.586 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 09:27:00.586 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 09:27:00.586 -05:00 [DBG] Rendering check session result
2021-02-01 09:27:00.587 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 09:27:00.587 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 09:27:00.587 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 09:27:00.587 -05:00 [DBG] Start authorize request
2021-02-01 09:27:00.587 -05:00 [DBG] User in authorize request: 4
2021-02-01 09:27:00.587 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 09:27:00.587 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 09:27:00.588 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 09:27:00.588 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"08142c5d3fc6412b8e010596b057827a","UiLocales":null,"Nonce":"55cf30526cb74d0c8fd155633f4689f6","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"A60AB7B0AB8D28E38E34CFB5E01B0761","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"08142c5d3fc6412b8e010596b057827a","nonce":"55cf30526cb74d0c8fd155633f4689f6"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 09:27:00.592 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 09:27:00.592 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 09:27:00.592 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 09:27:00.592 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 09:27:00.602 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 09:27:00.607 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"08142c5d3fc6412b8e010596b057827a","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 09:27:01.109 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:27:01.109 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:27:01.110 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:27:01.110 -05:00 [DBG] Start discovery request
2021-02-01 09:27:01.113 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:27:01.114 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:27:01.114 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:27:01.114 -05:00 [DBG] Start discovery request
2021-02-01 09:27:01.136 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 09:27:01.137 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 09:27:01.137 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 09:27:01.137 -05:00 [DBG] Start key discovery request
2021-02-01 09:27:01.140 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 09:27:01.140 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 09:27:01.140 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 09:27:01.140 -05:00 [DBG] Rendering check session result
2021-02-01 09:27:01.161 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:27:01.162 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:27:01.162 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:27:01.162 -05:00 [DBG] Start discovery request
2021-02-01 09:27:01.174 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 09:27:01.174 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 09:27:01.174 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 09:27:01.174 -05:00 [DBG] Start userinfo request
2021-02-01 09:27:01.174 -05:00 [DBG] Bearer token found in header
2021-02-01 09:27:01.175 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 09:27:01.175 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 09:27:01.177 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 09:27:01.178 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"51F25E5B9A1FF95382DE1E2E617B070B","Claims":{"nbf":1612189620,"exp":1612193220,"iss":"https://localhost:44302","client_id":"wewantdoughnuts","sub":"4","auth_time":1612189221,"idp":"local","jti":"51F25E5B9A1FF95382DE1E2E617B070B","sid":"A60AB7B0AB8D28E38E34CFB5E01B0761","iat":1612189620,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 09:27:01.178 -05:00 [DBG] Creating userinfo response
2021-02-01 09:27:01.178 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 09:27:01.178 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 09:27:01.181 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 09:27:01.181 -05:00 [DBG] End userinfo request
2021-02-01 09:27:15.147 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:27:15.148 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:27:15.148 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:27:15.148 -05:00 [DBG] Start discovery request
2021-02-01 09:27:15.188 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 09:27:15.188 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 09:27:15.188 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 09:27:15.188 -05:00 [DBG] Rendering check session result
2021-02-01 09:27:15.190 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 09:27:15.191 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 09:27:15.191 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 09:27:15.191 -05:00 [DBG] Start authorize request
2021-02-01 09:27:15.191 -05:00 [DBG] User in authorize request: 4
2021-02-01 09:27:15.191 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 09:27:15.191 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 09:27:15.191 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 09:27:15.192 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"a0a429630bdc4d078b44b398bc3945a2","UiLocales":null,"Nonce":"2403f002c4f341a687848701aec6e62e","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"A60AB7B0AB8D28E38E34CFB5E01B0761","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"a0a429630bdc4d078b44b398bc3945a2","nonce":"2403f002c4f341a687848701aec6e62e"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 09:27:15.196 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 09:27:15.197 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 09:27:15.197 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 09:27:15.197 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 09:27:15.206 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 09:27:15.211 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"a0a429630bdc4d078b44b398bc3945a2","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 09:27:15.709 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:27:15.709 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:27:15.709 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:27:15.709 -05:00 [DBG] Start discovery request
2021-02-01 09:27:15.712 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:27:15.713 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:27:15.713 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:27:15.713 -05:00 [DBG] Start discovery request
2021-02-01 09:27:15.736 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 09:27:15.736 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 09:27:15.737 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 09:27:15.737 -05:00 [DBG] Start key discovery request
2021-02-01 09:27:15.740 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 09:27:15.740 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 09:27:15.741 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 09:27:15.741 -05:00 [DBG] Rendering check session result
2021-02-01 09:27:15.764 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:27:15.764 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:27:15.764 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:27:15.765 -05:00 [DBG] Start discovery request
2021-02-01 09:27:15.776 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 09:27:15.776 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 09:27:15.776 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 09:27:15.776 -05:00 [DBG] Start userinfo request
2021-02-01 09:27:15.776 -05:00 [DBG] Bearer token found in header
2021-02-01 09:27:15.777 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 09:27:15.777 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 09:27:15.780 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 09:27:15.780 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"F505A45B5239E6F2D5DDACA79E577EEE","Claims":{"nbf":1612189635,"exp":1612193235,"iss":"https://localhost:44302","client_id":"wewantdoughnuts","sub":"4","auth_time":1612189221,"idp":"local","jti":"F505A45B5239E6F2D5DDACA79E577EEE","sid":"A60AB7B0AB8D28E38E34CFB5E01B0761","iat":1612189635,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 09:27:15.780 -05:00 [DBG] Creating userinfo response
2021-02-01 09:27:15.780 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 09:27:15.780 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 09:27:15.783 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 09:27:15.783 -05:00 [DBG] End userinfo request
2021-02-01 09:27:15.893 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 09:27:15.894 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 09:27:15.894 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 09:27:15.894 -05:00 [DBG] Start discovery request
2021-02-01 09:27:15.917 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 09:27:15.917 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 09:27:15.917 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 09:27:15.917 -05:00 [DBG] Rendering check session result
2021-02-01 13:20:30.419 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 13:20:30.456 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 13:20:30.456 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 13:20:30.456 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 13:20:30.456 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 13:20:30.456 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 13:20:30.456 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 13:20:30.714 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 13:20:30.716 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 13:20:30.716 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 13:20:30.716 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 13:20:30.716 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 13:20:30.717 -05:00 [DBG] Error Url: /home/error
2021-02-01 13:20:30.717 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 13:20:30.735 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 13:20:30.751 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 13:20:30.752 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 13:20:30.754 -05:00 [DBG] Start discovery request
2021-02-01 13:20:30.877 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 13:20:30.884 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 13:20:30.885 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 13:20:30.887 -05:00 [DBG] Start authorize request
2021-02-01 13:20:30.893 -05:00 [DBG] No user present in authorize request
2021-02-01 13:20:30.967 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 13:20:30.980 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 13:20:31.021 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 13:20:31.036 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"anonymous","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"18ed93e2de8c4161ba09c82cec39a602","UiLocales":null,"Nonce":"a9d4cb07b3a1443a8b949da60c091415","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"18ed93e2de8c4161ba09c82cec39a602","nonce":"a9d4cb07b3a1443a8b949da60c091415"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 13:20:31.054 -05:00 [INF] Showing login: User is not authenticated
2021-02-01 13:20:31.214 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 13:20:31.215 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 13:20:31.216 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 13:20:31.218 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 13:20:45.217 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 13:20:45.217 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 13:20:45.218 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 13:20:46.095 -05:00 [DBG] Augmenting SignInContext
2021-02-01 13:20:46.096 -05:00 [DBG] Adding idp claim with value: local
2021-02-01 13:20:46.097 -05:00 [DBG] Adding amr claim with value: pwd
2021-02-01 13:20:46.097 -05:00 [DBG] Adding auth_time claim with value: 1612203646
2021-02-01 13:20:46.115 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 13:20:46.140 -05:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2021-02-01 13:20:46.142 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2021-02-01 13:20:46.142 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2021-02-01 13:20:46.146 -05:00 [DBG] Start authorize callback request
2021-02-01 13:20:46.151 -05:00 [DBG] User in authorize request: 4
2021-02-01 13:20:46.151 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 13:20:46.151 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 13:20:46.152 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 13:20:46.152 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"18ed93e2de8c4161ba09c82cec39a602","UiLocales":null,"Nonce":"a9d4cb07b3a1443a8b949da60c091415","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"519852CA946CD6C574E995EBA93DE0C1","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"18ed93e2de8c4161ba09c82cec39a602","nonce":"a9d4cb07b3a1443a8b949da60c091415"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 13:20:46.252 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 13:20:46.257 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 13:20:46.273 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 13:20:46.275 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 13:20:46.542 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 13:20:46.566 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"18ed93e2de8c4161ba09c82cec39a602","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 13:20:46.572 -05:00 [DBG] Augmenting SignInContext
2021-02-01 13:20:46.573 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 13:20:47.746 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 13:20:47.747 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 13:20:47.747 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 13:20:47.747 -05:00 [DBG] Start discovery request
2021-02-01 13:20:47.858 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 13:20:47.860 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 13:20:47.860 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 13:20:47.861 -05:00 [DBG] Start key discovery request
2021-02-01 13:20:47.964 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 13:20:47.978 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 13:20:47.978 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 13:20:47.978 -05:00 [DBG] Start discovery request
2021-02-01 13:20:48.108 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 13:20:48.110 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 13:20:48.111 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 13:20:48.114 -05:00 [DBG] Start userinfo request
2021-02-01 13:20:48.117 -05:00 [DBG] Bearer token found in header
2021-02-01 13:20:48.198 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 13:20:48.201 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 13:20:48.208 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 13:20:48.210 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"005B8A45DB2DDE138A418D195A606867","Claims":{"nbf":1612203646,"exp":1612207246,"iss":"https://localhost:44302","client_id":"wewantdoughnuts","sub":"4","auth_time":1612203646,"idp":"local","jti":"005B8A45DB2DDE138A418D195A606867","sid":"519852CA946CD6C574E995EBA93DE0C1","iat":1612203646,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 13:20:48.215 -05:00 [DBG] Creating userinfo response
2021-02-01 13:20:48.217 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 13:20:48.220 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 13:20:48.228 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 13:20:48.228 -05:00 [DBG] End userinfo request
2021-02-01 13:20:48.273 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 13:20:48.274 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 13:20:48.274 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 13:20:48.274 -05:00 [DBG] Start discovery request
2021-02-01 13:20:48.323 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 13:20:48.324 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 13:20:48.324 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 13:20:48.326 -05:00 [DBG] Rendering check session result
2021-02-01 13:20:48.386 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 13:20:48.387 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 13:20:48.387 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 13:20:48.387 -05:00 [DBG] Start discovery request
2021-02-01 13:20:48.414 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 13:20:48.415 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 13:20:48.415 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 13:20:48.415 -05:00 [DBG] Rendering check session result
2021-02-01 13:20:51.504 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 13:20:51.505 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 13:20:51.505 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 13:20:51.505 -05:00 [DBG] Start discovery request
2021-02-01 13:20:51.719 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 13:20:51.719 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 13:20:51.719 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 13:20:51.719 -05:00 [DBG] Start key discovery request
2021-02-01 13:20:52.181 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 13:20:52.182 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 13:20:52.182 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 13:20:52.182 -05:00 [DBG] Start discovery request
2021-02-01 13:20:52.201 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 13:20:52.201 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 13:20:52.201 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 13:20:52.201 -05:00 [DBG] Rendering check session result
2021-02-01 13:21:10.570 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 13:21:10.571 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 13:21:10.571 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 13:21:10.571 -05:00 [DBG] Start discovery request
2021-02-01 13:21:10.612 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 13:21:10.612 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 13:21:10.612 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 13:21:10.612 -05:00 [DBG] Rendering check session result
2021-02-01 13:21:10.612 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 13:21:10.613 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 13:21:10.613 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 13:21:10.613 -05:00 [DBG] Start authorize request
2021-02-01 13:21:10.613 -05:00 [DBG] User in authorize request: 4
2021-02-01 13:21:10.613 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 13:21:10.613 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 13:21:10.614 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 13:21:10.614 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"8a94fe4c9dfe46d7b3830cf1832fbe39","UiLocales":null,"Nonce":"19fca79116f74d35b470e278b6ed3011","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"519852CA946CD6C574E995EBA93DE0C1","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"8a94fe4c9dfe46d7b3830cf1832fbe39","nonce":"19fca79116f74d35b470e278b6ed3011"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 13:21:10.617 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 13:21:10.617 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 13:21:10.617 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 13:21:10.617 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 13:21:10.623 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 13:21:10.629 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"8a94fe4c9dfe46d7b3830cf1832fbe39","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 13:21:11.286 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 13:21:11.287 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 13:21:11.287 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 13:21:11.287 -05:00 [DBG] Start discovery request
2021-02-01 13:21:11.292 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 13:21:11.292 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 13:21:11.292 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 13:21:11.292 -05:00 [DBG] Start discovery request
2021-02-01 13:21:11.382 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 13:21:11.385 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 13:21:11.385 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 13:21:11.385 -05:00 [DBG] Start key discovery request
2021-02-01 13:21:11.393 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 13:21:11.394 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 13:21:11.394 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 13:21:11.394 -05:00 [DBG] Rendering check session result
2021-02-01 13:21:11.442 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 13:21:11.442 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 13:21:11.442 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 13:21:11.442 -05:00 [DBG] Start discovery request
2021-02-01 13:21:11.458 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 13:21:11.458 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 13:21:11.459 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 13:21:11.459 -05:00 [DBG] Start userinfo request
2021-02-01 13:21:11.459 -05:00 [DBG] Bearer token found in header
2021-02-01 13:21:11.460 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 13:21:11.460 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 13:21:11.464 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 13:21:11.464 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"A967BF653BA65D019F428866384AAE94","Claims":{"nbf":1612203670,"exp":1612207270,"iss":"https://localhost:44302","client_id":"wewantdoughnuts","sub":"4","auth_time":1612203646,"idp":"local","jti":"A967BF653BA65D019F428866384AAE94","sid":"519852CA946CD6C574E995EBA93DE0C1","iat":1612203670,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 13:21:11.465 -05:00 [DBG] Creating userinfo response
2021-02-01 13:21:11.465 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 13:21:11.465 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 13:21:11.469 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 13:21:11.469 -05:00 [DBG] End userinfo request
2021-02-01 13:21:11.602 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 13:21:11.603 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 13:21:11.603 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 13:21:11.603 -05:00 [DBG] Start discovery request
2021-02-01 13:21:11.654 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 13:21:11.654 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 13:21:11.654 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 13:21:11.654 -05:00 [DBG] Rendering check session result
2021-02-01 13:21:11.716 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 13:21:11.717 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 13:21:11.717 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 13:21:11.717 -05:00 [DBG] Start discovery request
2021-02-01 13:21:11.735 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 13:21:11.736 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 13:21:11.736 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 13:21:11.736 -05:00 [DBG] Rendering check session result
2021-02-01 16:31:34.607 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 16:31:34.625 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 16:31:34.625 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 16:31:34.625 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 16:31:34.625 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 16:31:34.625 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 16:31:34.625 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 16:31:34.687 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 16:31:34.688 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 16:31:34.688 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 16:31:34.688 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 16:31:34.688 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 16:31:34.688 -05:00 [DBG] Error Url: /home/error
2021-02-01 16:31:34.688 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 16:31:34.697 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:31:34.704 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:31:34.704 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:31:34.705 -05:00 [DBG] Start discovery request
2021-02-01 16:31:35.128 -05:00 [INF] AuthenticationScheme: Identity.Application signed out.
2021-02-01 16:31:35.128 -05:00 [INF] AuthenticationScheme: Identity.Application signed out.
2021-02-01 16:31:35.128 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 16:31:35.128 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 16:31:35.128 -05:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2021-02-01 16:31:35.128 -05:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2021-02-01 16:31:35.130 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 16:31:35.130 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 16:31:35.131 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 16:31:35.131 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 16:31:35.132 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 16:31:35.132 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 16:31:35.132 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 16:31:35.132 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 16:31:35.132 -05:00 [DBG] Rendering check session result
2021-02-01 16:31:35.134 -05:00 [DBG] SignOutCalled set; processing post-signout session cleanup.
2021-02-01 16:31:35.135 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 16:31:35.136 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 16:31:35.136 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 16:31:35.137 -05:00 [DBG] Start authorize request
2021-02-01 16:31:35.138 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 16:31:35.139 -05:00 [DBG] No user present in authorize request
2021-02-01 16:31:35.141 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 16:31:35.146 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 16:31:35.162 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 16:31:35.168 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"anonymous","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"c824efd0927d42bf90363af2fe8e088b","UiLocales":null,"Nonce":"5edaf3c5e40644889e2ebb89e10c217d","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"c824efd0927d42bf90363af2fe8e088b","nonce":"5edaf3c5e40644889e2ebb89e10c217d"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 16:31:35.175 -05:00 [INF] Showing login: User is not authenticated
2021-02-01 16:31:35.177 -05:00 [DBG] SignOutCalled set; processing post-signout session cleanup.
2021-02-01 16:31:35.177 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 16:31:35.215 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 16:31:35.216 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 16:31:35.216 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 16:31:35.216 -05:00 [DBG] Start authorize request
2021-02-01 16:31:35.216 -05:00 [DBG] No user present in authorize request
2021-02-01 16:31:35.216 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 16:31:35.216 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 16:31:35.217 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 16:31:35.217 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"7e664a6973a344a2ad37d65fb92564da","UiLocales":null,"Nonce":"207a5b2fdec24709ad7637c385bb84d8","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token","scope":"openid","state":"7e664a6973a344a2ad37d65fb92564da","nonce":"207a5b2fdec24709ad7637c385bb84d8","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 16:31:35.217 -05:00 [INF] Showing login: User is not authenticated
2021-02-01 16:31:35.217 -05:00 [INF] Changing response to LoginRequired: prompt=none was requested
2021-02-01 16:31:35.218 -05:00 [INF] {"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"7e664a6973a344a2ad37d65fb92564da","UiLocales":null,"Nonce":"207a5b2fdec24709ad7637c385bb84d8","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token","scope":"openid","state":"7e664a6973a344a2ad37d65fb92564da","nonce":"207a5b2fdec24709ad7637c385bb84d8","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 16:31:35.227 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 16:31:35.227 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 16:31:35.228 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 16:31:35.229 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 16:31:47.301 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 16:31:47.301 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 16:31:47.302 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 16:31:47.302 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 16:31:48.621 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 16:31:48.621 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 16:31:48.621 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 16:31:48.665 -05:00 [DBG] Augmenting SignInContext
2021-02-01 16:31:48.666 -05:00 [DBG] Adding idp claim with value: local
2021-02-01 16:31:48.666 -05:00 [DBG] Adding amr claim with value: pwd
2021-02-01 16:31:48.666 -05:00 [DBG] Adding auth_time claim with value: 1612215108
2021-02-01 16:31:48.668 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 16:31:48.679 -05:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2021-02-01 16:31:48.679 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2021-02-01 16:31:48.679 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2021-02-01 16:31:48.680 -05:00 [DBG] Start authorize callback request
2021-02-01 16:31:48.681 -05:00 [DBG] User in authorize request: 4
2021-02-01 16:31:48.681 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 16:31:48.682 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 16:31:48.682 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 16:31:48.682 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"c824efd0927d42bf90363af2fe8e088b","UiLocales":null,"Nonce":"5edaf3c5e40644889e2ebb89e10c217d","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"5C78B572DD5CB947177F2D4B564F3CB3","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"c824efd0927d42bf90363af2fe8e088b","nonce":"5edaf3c5e40644889e2ebb89e10c217d"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 16:31:48.687 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 16:31:48.689 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 16:31:48.695 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 16:31:48.695 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 16:31:48.793 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 16:31:48.800 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"c824efd0927d42bf90363af2fe8e088b","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 16:31:48.801 -05:00 [DBG] Augmenting SignInContext
2021-02-01 16:31:48.802 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 16:31:49.200 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:31:49.200 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:31:49.200 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:31:49.200 -05:00 [DBG] Start discovery request
2021-02-01 16:31:49.202 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:31:49.203 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:31:49.203 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:31:49.203 -05:00 [DBG] Start discovery request
2021-02-01 16:31:49.214 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 16:31:49.215 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 16:31:49.215 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 16:31:49.216 -05:00 [DBG] Start key discovery request
2021-02-01 16:31:49.216 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 16:31:49.216 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 16:31:49.216 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 16:31:49.216 -05:00 [DBG] Rendering check session result
2021-02-01 16:31:49.245 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:31:49.245 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:31:49.245 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:31:49.245 -05:00 [DBG] Start discovery request
2021-02-01 16:31:49.259 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 16:31:49.259 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 16:31:49.259 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 16:31:49.261 -05:00 [DBG] Start userinfo request
2021-02-01 16:31:49.262 -05:00 [DBG] Bearer token found in header
2021-02-01 16:31:49.294 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 16:31:49.295 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 16:31:49.298 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 16:31:49.299 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"6738E4C5ADB54E63EA49E4615F44E0BA","Claims":{"nbf":1612215108,"exp":1612218708,"iss":"https://localhost:44302","client_id":"wewantdoughnuts","sub":"4","auth_time":1612215108,"idp":"local","jti":"6738E4C5ADB54E63EA49E4615F44E0BA","sid":"5C78B572DD5CB947177F2D4B564F3CB3","iat":1612215108,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 16:31:49.301 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 16:31:49.301 -05:00 [DBG] Creating userinfo response
2021-02-01 16:31:49.302 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 16:31:49.303 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 16:31:49.303 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 16:31:49.304 -05:00 [DBG] Start authorize request
2021-02-01 16:31:49.304 -05:00 [DBG] User in authorize request: 4
2021-02-01 16:31:49.304 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 16:31:49.304 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 16:31:49.304 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 16:31:49.304 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 16:31:49.304 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"623510009e614efb94ae41a6ffa67118","UiLocales":null,"Nonce":"511b854c93584e4889b74a43e64acbb8","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"5C78B572DD5CB947177F2D4B564F3CB3","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token","scope":"openid","state":"623510009e614efb94ae41a6ffa67118","nonce":"511b854c93584e4889b74a43e64acbb8","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 16:31:49.305 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 16:31:49.305 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 16:31:49.305 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 16:31:49.306 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 16:31:49.306 -05:00 [DBG] End userinfo request
2021-02-01 16:31:49.307 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"623510009e614efb94ae41a6ffa67118","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 16:31:49.378 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:31:49.378 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:31:49.378 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:31:49.378 -05:00 [DBG] Start discovery request
2021-02-01 16:31:49.387 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 16:31:49.387 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 16:31:49.387 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 16:31:49.387 -05:00 [DBG] Rendering check session result
2021-02-01 16:31:49.552 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:31:49.552 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:31:49.553 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:31:49.553 -05:00 [DBG] Start discovery request
2021-02-01 16:31:49.554 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:31:49.555 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:31:49.555 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:31:49.555 -05:00 [DBG] Start discovery request
2021-02-01 16:31:49.566 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 16:31:49.566 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 16:31:49.566 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 16:31:49.566 -05:00 [DBG] Start key discovery request
2021-02-01 16:31:49.566 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 16:31:49.566 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 16:31:49.566 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 16:31:49.566 -05:00 [DBG] Rendering check session result
2021-02-01 16:31:49.638 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:31:49.638 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:31:49.638 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:31:49.638 -05:00 [DBG] Start discovery request
2021-02-01 16:31:49.653 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 16:31:49.653 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 16:31:49.653 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 16:31:49.653 -05:00 [DBG] Rendering check session result
2021-02-01 16:31:50.525 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:31:50.525 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:31:50.525 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:31:50.525 -05:00 [DBG] Start discovery request
2021-02-01 16:31:50.615 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 16:31:50.616 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 16:31:50.616 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 16:31:50.616 -05:00 [DBG] Start key discovery request
2021-02-01 16:31:50.818 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:31:50.818 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:31:50.818 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:31:50.818 -05:00 [DBG] Start discovery request
2021-02-01 16:31:50.823 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:31:50.823 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:31:50.823 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:31:50.823 -05:00 [DBG] Start discovery request
2021-02-01 16:31:50.830 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 16:31:50.830 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 16:31:50.830 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 16:31:50.830 -05:00 [DBG] Rendering check session result
2021-02-01 16:31:50.840 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 16:31:50.840 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 16:31:50.840 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 16:31:50.840 -05:00 [DBG] Rendering check session result
2021-02-01 16:32:04.876 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:32:04.876 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:32:04.876 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:32:04.876 -05:00 [DBG] Start discovery request
2021-02-01 16:32:04.892 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 16:32:04.892 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 16:32:04.892 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 16:32:04.892 -05:00 [DBG] Rendering check session result
2021-02-01 16:32:04.893 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 16:32:04.893 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 16:32:04.893 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 16:32:04.893 -05:00 [DBG] Start authorize request
2021-02-01 16:32:04.893 -05:00 [DBG] User in authorize request: 4
2021-02-01 16:32:04.893 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 16:32:04.893 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 16:32:04.893 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 16:32:04.893 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"a838261c30d74d9291cb2b7366582c7c","UiLocales":null,"Nonce":"e8cf9e4e923c4a1296e9e60d89aa6113","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"5C78B572DD5CB947177F2D4B564F3CB3","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"a838261c30d74d9291cb2b7366582c7c","nonce":"e8cf9e4e923c4a1296e9e60d89aa6113"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 16:32:04.894 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 16:32:04.894 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 16:32:04.894 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 16:32:04.894 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 16:32:04.896 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 16:32:04.897 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"a838261c30d74d9291cb2b7366582c7c","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 16:32:05.155 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:32:05.155 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:32:05.155 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:32:05.155 -05:00 [DBG] Start discovery request
2021-02-01 16:32:05.157 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:32:05.158 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:32:05.158 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:32:05.158 -05:00 [DBG] Start discovery request
2021-02-01 16:32:05.169 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 16:32:05.169 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 16:32:05.169 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 16:32:05.169 -05:00 [DBG] Start key discovery request
2021-02-01 16:32:05.170 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 16:32:05.170 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 16:32:05.170 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 16:32:05.170 -05:00 [DBG] Rendering check session result
2021-02-01 16:32:05.185 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:32:05.185 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:32:05.185 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:32:05.185 -05:00 [DBG] Start discovery request
2021-02-01 16:32:05.191 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 16:32:05.191 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 16:32:05.191 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 16:32:05.191 -05:00 [DBG] Start userinfo request
2021-02-01 16:32:05.191 -05:00 [DBG] Bearer token found in header
2021-02-01 16:32:05.191 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 16:32:05.191 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 16:32:05.193 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 16:32:05.193 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"90C746940CBD772B0AFE1502BC4135A3","Claims":{"nbf":1612215124,"exp":1612218724,"iss":"https://localhost:44302","client_id":"wewantdoughnuts","sub":"4","auth_time":1612215108,"idp":"local","jti":"90C746940CBD772B0AFE1502BC4135A3","sid":"5C78B572DD5CB947177F2D4B564F3CB3","iat":1612215124,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 16:32:05.193 -05:00 [DBG] Creating userinfo response
2021-02-01 16:32:05.193 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 16:32:05.193 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 16:32:05.194 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 16:32:05.194 -05:00 [DBG] End userinfo request
2021-02-01 16:32:05.253 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:32:05.253 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:32:05.253 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:32:05.253 -05:00 [DBG] Start discovery request
2021-02-01 16:32:05.260 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 16:32:05.260 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 16:32:05.260 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 16:32:05.260 -05:00 [DBG] Rendering check session result
2021-02-01 16:32:05.275 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:32:05.275 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:32:05.275 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:32:05.275 -05:00 [DBG] Start discovery request
2021-02-01 16:32:05.282 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 16:32:05.282 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 16:32:05.282 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 16:32:05.282 -05:00 [DBG] Rendering check session result
2021-02-01 16:32:59.619 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:32:59.620 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:32:59.620 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:32:59.620 -05:00 [DBG] Start discovery request
2021-02-01 16:32:59.636 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 16:32:59.636 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 16:32:59.636 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 16:32:59.636 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 16:32:59.636 -05:00 [DBG] Rendering check session result
2021-02-01 16:32:59.636 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 16:32:59.636 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 16:32:59.636 -05:00 [DBG] Start authorize request
2021-02-01 16:32:59.636 -05:00 [DBG] User in authorize request: 4
2021-02-01 16:32:59.636 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 16:32:59.636 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 16:32:59.636 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 16:32:59.636 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"ee79e033938249128283602ef8aaf918","UiLocales":null,"Nonce":"117997cff034430fa44601a844378bf8","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"5C78B572DD5CB947177F2D4B564F3CB3","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"ee79e033938249128283602ef8aaf918","nonce":"117997cff034430fa44601a844378bf8"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 16:32:59.639 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 16:32:59.639 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 16:32:59.639 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 16:32:59.639 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 16:32:59.643 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 16:32:59.645 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"ee79e033938249128283602ef8aaf918","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 16:32:59.991 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:32:59.991 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:32:59.991 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:32:59.991 -05:00 [DBG] Start discovery request
2021-02-01 16:32:59.993 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:32:59.993 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:32:59.993 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:32:59.993 -05:00 [DBG] Start discovery request
2021-02-01 16:33:00.006 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 16:33:00.006 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 16:33:00.006 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 16:33:00.006 -05:00 [DBG] Start key discovery request
2021-02-01 16:33:00.007 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 16:33:00.007 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 16:33:00.007 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 16:33:00.007 -05:00 [DBG] Rendering check session result
2021-02-01 16:33:00.020 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:33:00.020 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:33:00.020 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:33:00.020 -05:00 [DBG] Start discovery request
2021-02-01 16:33:00.027 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 16:33:00.029 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 16:33:00.029 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 16:33:00.029 -05:00 [DBG] Start userinfo request
2021-02-01 16:33:00.029 -05:00 [DBG] Bearer token found in header
2021-02-01 16:33:00.030 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 16:33:00.030 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 16:33:00.031 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 16:33:00.031 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"0BA39EE17B46CBF4F8B35DBE3A1C71E0","Claims":{"nbf":1612215179,"exp":1612218779,"iss":"https://localhost:44302","client_id":"wewantdoughnuts","sub":"4","auth_time":1612215108,"idp":"local","jti":"0BA39EE17B46CBF4F8B35DBE3A1C71E0","sid":"5C78B572DD5CB947177F2D4B564F3CB3","iat":1612215179,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 16:33:00.031 -05:00 [DBG] Creating userinfo response
2021-02-01 16:33:00.031 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 16:33:00.031 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 16:33:00.033 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 16:33:00.033 -05:00 [DBG] End userinfo request
2021-02-01 16:33:00.115 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:33:00.115 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:33:00.115 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:33:00.115 -05:00 [DBG] Start discovery request
2021-02-01 16:33:00.126 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 16:33:00.126 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 16:33:00.126 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 16:33:00.126 -05:00 [DBG] Rendering check session result
2021-02-01 16:33:00.201 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:33:00.201 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:33:00.201 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:33:00.201 -05:00 [DBG] Start discovery request
2021-02-01 16:33:00.219 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 16:33:00.219 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 16:33:00.219 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 16:33:00.219 -05:00 [DBG] Rendering check session result
2021-02-01 16:49:01.650 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:49:01.650 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:49:01.650 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:49:01.650 -05:00 [DBG] Start discovery request
2021-02-01 16:49:01.668 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 16:49:01.668 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 16:49:01.668 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 16:49:01.668 -05:00 [DBG] Rendering check session result
2021-02-01 16:49:01.668 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 16:49:01.668 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 16:49:01.668 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 16:49:01.668 -05:00 [DBG] Start authorize request
2021-02-01 16:49:01.668 -05:00 [DBG] User in authorize request: 4
2021-02-01 16:49:01.669 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 16:49:01.669 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 16:49:01.669 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 16:49:01.669 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"32f900d2fec947e6a445a50bdbeadfc0","UiLocales":null,"Nonce":"b9c40832c1fe41e3822601f1de65f52e","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"5C78B572DD5CB947177F2D4B564F3CB3","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"32f900d2fec947e6a445a50bdbeadfc0","nonce":"b9c40832c1fe41e3822601f1de65f52e"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 16:49:01.674 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 16:49:01.674 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 16:49:01.674 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 16:49:01.674 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 16:49:01.679 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 16:49:01.681 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"32f900d2fec947e6a445a50bdbeadfc0","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 16:49:01.934 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:49:01.934 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:49:01.934 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:49:01.935 -05:00 [DBG] Start discovery request
2021-02-01 16:49:01.936 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:49:01.936 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:49:01.936 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:49:01.936 -05:00 [DBG] Start discovery request
2021-02-01 16:49:01.951 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 16:49:01.951 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 16:49:01.951 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 16:49:01.951 -05:00 [DBG] Start key discovery request
2021-02-01 16:49:01.952 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 16:49:01.952 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 16:49:01.952 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 16:49:01.952 -05:00 [DBG] Rendering check session result
2021-02-01 16:49:01.966 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:49:01.966 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:49:01.966 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:49:01.966 -05:00 [DBG] Start discovery request
2021-02-01 16:49:01.972 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 16:49:01.972 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 16:49:01.972 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 16:49:01.972 -05:00 [DBG] Start userinfo request
2021-02-01 16:49:01.972 -05:00 [DBG] Bearer token found in header
2021-02-01 16:49:01.973 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 16:49:01.973 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 16:49:01.975 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 16:49:01.975 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"252167B83B1F8260F363F5F3A5037C60","Claims":{"nbf":1612216141,"exp":1612219741,"iss":"https://localhost:44302","client_id":"wewantdoughnuts","sub":"4","auth_time":1612215108,"idp":"local","jti":"252167B83B1F8260F363F5F3A5037C60","sid":"5C78B572DD5CB947177F2D4B564F3CB3","iat":1612216141,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 16:49:01.975 -05:00 [DBG] Creating userinfo response
2021-02-01 16:49:01.975 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 16:49:01.975 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 16:49:01.976 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 16:49:01.976 -05:00 [DBG] End userinfo request
2021-02-01 16:49:02.036 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:49:02.037 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:49:02.037 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:49:02.037 -05:00 [DBG] Start discovery request
2021-02-01 16:49:02.045 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 16:49:02.045 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 16:49:02.045 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 16:49:02.045 -05:00 [DBG] Rendering check session result
2021-02-01 16:49:02.113 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:49:02.113 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:49:02.113 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:49:02.113 -05:00 [DBG] Start discovery request
2021-02-01 16:49:02.144 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 16:49:02.144 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 16:49:02.144 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 16:49:02.144 -05:00 [DBG] Rendering check session result
2021-02-01 16:59:52.538 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:59:52.538 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:59:52.538 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:59:52.538 -05:00 [DBG] Start discovery request
2021-02-01 16:59:52.555 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 16:59:52.555 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 16:59:52.555 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 16:59:52.555 -05:00 [DBG] Rendering check session result
2021-02-01 16:59:52.555 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 16:59:52.556 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 16:59:52.556 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 16:59:52.556 -05:00 [DBG] Start authorize request
2021-02-01 16:59:52.556 -05:00 [DBG] User in authorize request: 4
2021-02-01 16:59:52.556 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 16:59:52.556 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 16:59:52.556 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 16:59:52.556 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"01d4d136ebb94e58bc11e17e65286c4a","UiLocales":null,"Nonce":"38b8a4f57a1545f0a0cff4fb50be82e1","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"5C78B572DD5CB947177F2D4B564F3CB3","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"01d4d136ebb94e58bc11e17e65286c4a","nonce":"38b8a4f57a1545f0a0cff4fb50be82e1"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 16:59:52.562 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 16:59:52.562 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 16:59:52.562 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 16:59:52.562 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 16:59:52.567 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 16:59:52.569 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"01d4d136ebb94e58bc11e17e65286c4a","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 16:59:52.821 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:59:52.821 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:59:52.821 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:59:52.821 -05:00 [DBG] Start discovery request
2021-02-01 16:59:52.822 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:59:52.822 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:59:52.822 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:59:52.822 -05:00 [DBG] Start discovery request
2021-02-01 16:59:52.833 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 16:59:52.833 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 16:59:52.833 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 16:59:52.833 -05:00 [DBG] Start key discovery request
2021-02-01 16:59:52.835 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 16:59:52.835 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 16:59:52.835 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 16:59:52.835 -05:00 [DBG] Rendering check session result
2021-02-01 16:59:52.849 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:59:52.849 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:59:52.849 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:59:52.849 -05:00 [DBG] Start discovery request
2021-02-01 16:59:52.854 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 16:59:52.854 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 16:59:52.854 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 16:59:52.854 -05:00 [DBG] Start userinfo request
2021-02-01 16:59:52.854 -05:00 [DBG] Bearer token found in header
2021-02-01 16:59:52.855 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 16:59:52.855 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 16:59:52.856 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 16:59:52.856 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"D568F2D6B9ECDF4A71F0EF595112A1FC","Claims":{"nbf":1612216792,"exp":1612220392,"iss":"https://localhost:44302","client_id":"wewantdoughnuts","sub":"4","auth_time":1612215108,"idp":"local","jti":"D568F2D6B9ECDF4A71F0EF595112A1FC","sid":"5C78B572DD5CB947177F2D4B564F3CB3","iat":1612216792,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 16:59:52.856 -05:00 [DBG] Creating userinfo response
2021-02-01 16:59:52.856 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 16:59:52.856 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 16:59:52.857 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 16:59:52.857 -05:00 [DBG] End userinfo request
2021-02-01 16:59:52.916 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:59:52.916 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:59:52.916 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:59:52.916 -05:00 [DBG] Start discovery request
2021-02-01 16:59:52.923 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 16:59:52.923 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 16:59:52.923 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 16:59:52.923 -05:00 [DBG] Rendering check session result
2021-02-01 16:59:53.003 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 16:59:53.003 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 16:59:53.003 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 16:59:53.003 -05:00 [DBG] Start discovery request
2021-02-01 16:59:53.027 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 16:59:53.027 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 16:59:53.027 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 16:59:53.027 -05:00 [DBG] Rendering check session result
2021-02-01 17:00:03.617 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:00:03.617 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:00:03.617 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:00:03.617 -05:00 [DBG] Start discovery request
2021-02-01 17:00:03.632 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:00:03.632 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:00:03.632 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:00:03.632 -05:00 [DBG] Rendering check session result
2021-02-01 17:00:03.633 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:00:03.633 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:00:03.633 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:00:03.633 -05:00 [DBG] Start authorize request
2021-02-01 17:00:03.633 -05:00 [DBG] User in authorize request: 4
2021-02-01 17:00:03.633 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:00:03.633 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:00:03.633 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:00:03.633 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"e47d48c93a164ed4873dd75d25ab384e","UiLocales":null,"Nonce":"e4cd7a59487e4aa0b5362e94eee5d4cd","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"5C78B572DD5CB947177F2D4B564F3CB3","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"e47d48c93a164ed4873dd75d25ab384e","nonce":"e4cd7a59487e4aa0b5362e94eee5d4cd"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:00:03.635 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 17:00:03.635 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 17:00:03.635 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 17:00:03.635 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 17:00:03.640 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 17:00:03.642 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"e47d48c93a164ed4873dd75d25ab384e","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 17:00:03.894 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:00:03.894 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:00:03.894 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:00:03.894 -05:00 [DBG] Start discovery request
2021-02-01 17:00:03.895 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:00:03.895 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:00:03.895 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:00:03.895 -05:00 [DBG] Start discovery request
2021-02-01 17:00:03.907 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:00:03.907 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:00:03.907 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:00:03.907 -05:00 [DBG] Start key discovery request
2021-02-01 17:00:03.908 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:00:03.908 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:00:03.908 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:00:03.908 -05:00 [DBG] Rendering check session result
2021-02-01 17:00:03.920 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:00:03.920 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:00:03.920 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:00:03.920 -05:00 [DBG] Start discovery request
2021-02-01 17:00:03.925 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 17:00:03.925 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 17:00:03.925 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 17:00:03.925 -05:00 [DBG] Start userinfo request
2021-02-01 17:00:03.925 -05:00 [DBG] Bearer token found in header
2021-02-01 17:00:03.925 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:00:03.925 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:00:03.926 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 17:00:03.926 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"34AB772007C24845B7A8B996B39B47A9","Claims":{"nbf":1612216803,"exp":1612220403,"iss":"https://localhost:44302","client_id":"wewantdoughnuts","sub":"4","auth_time":1612215108,"idp":"local","jti":"34AB772007C24845B7A8B996B39B47A9","sid":"5C78B572DD5CB947177F2D4B564F3CB3","iat":1612216803,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 17:00:03.926 -05:00 [DBG] Creating userinfo response
2021-02-01 17:00:03.927 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 17:00:03.927 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 17:00:03.927 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 17:00:03.927 -05:00 [DBG] End userinfo request
2021-02-01 17:00:03.986 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:00:03.986 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:00:03.986 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:00:03.986 -05:00 [DBG] Start discovery request
2021-02-01 17:00:04.007 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:00:04.008 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:00:04.008 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:00:04.008 -05:00 [DBG] Rendering check session result
2021-02-01 17:00:04.020 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:00:04.020 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:00:04.020 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:00:04.020 -05:00 [DBG] Start discovery request
2021-02-01 17:00:04.033 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:00:04.033 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:00:04.033 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:00:04.034 -05:00 [DBG] Rendering check session result
2021-02-01 17:00:26.524 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:00:26.524 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:00:26.524 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:00:26.524 -05:00 [DBG] Start discovery request
2021-02-01 17:00:26.543 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:00:26.544 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:00:26.544 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:00:26.544 -05:00 [DBG] Rendering check session result
2021-02-01 17:00:26.544 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:00:26.544 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:00:26.544 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:00:26.544 -05:00 [DBG] Start authorize request
2021-02-01 17:00:26.544 -05:00 [DBG] User in authorize request: 4
2021-02-01 17:00:26.544 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:00:26.544 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:00:26.544 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:00:26.544 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"fded1e45c9424a56a7e8fbd65da8e4a5","UiLocales":null,"Nonce":"0d3d72fd3d4e4f708db6cb6df520c4cb","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"5C78B572DD5CB947177F2D4B564F3CB3","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"fded1e45c9424a56a7e8fbd65da8e4a5","nonce":"0d3d72fd3d4e4f708db6cb6df520c4cb"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:00:26.546 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 17:00:26.546 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 17:00:26.546 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 17:00:26.546 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 17:00:26.550 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 17:00:26.552 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"fded1e45c9424a56a7e8fbd65da8e4a5","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 17:00:26.809 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:00:26.809 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:00:26.809 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:00:26.809 -05:00 [DBG] Start discovery request
2021-02-01 17:00:26.811 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:00:26.811 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:00:26.811 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:00:26.811 -05:00 [DBG] Start discovery request
2021-02-01 17:00:26.820 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:00:26.820 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:00:26.820 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:00:26.820 -05:00 [DBG] Start key discovery request
2021-02-01 17:00:26.821 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:00:26.821 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:00:26.821 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:00:26.821 -05:00 [DBG] Rendering check session result
2021-02-01 17:00:26.832 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:00:26.832 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:00:26.832 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:00:26.832 -05:00 [DBG] Start discovery request
2021-02-01 17:00:26.837 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 17:00:26.837 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 17:00:26.837 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 17:00:26.837 -05:00 [DBG] Start userinfo request
2021-02-01 17:00:26.837 -05:00 [DBG] Bearer token found in header
2021-02-01 17:00:26.838 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:00:26.838 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:00:26.839 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 17:00:26.839 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"2C96A39475DCFEF239BCDB7950C7F03C","Claims":{"nbf":1612216826,"exp":1612220426,"iss":"https://localhost:44302","client_id":"wewantdoughnuts","sub":"4","auth_time":1612215108,"idp":"local","jti":"2C96A39475DCFEF239BCDB7950C7F03C","sid":"5C78B572DD5CB947177F2D4B564F3CB3","iat":1612216826,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 17:00:26.839 -05:00 [DBG] Creating userinfo response
2021-02-01 17:00:26.839 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 17:00:26.839 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 17:00:26.840 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 17:00:26.840 -05:00 [DBG] End userinfo request
2021-02-01 17:00:26.902 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:00:26.902 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:00:26.902 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:00:26.902 -05:00 [DBG] Start discovery request
2021-02-01 17:00:26.909 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:00:26.910 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:00:26.910 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:00:26.910 -05:00 [DBG] Rendering check session result
2021-02-01 17:00:27.109 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:00:27.109 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:00:27.109 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:00:27.109 -05:00 [DBG] Start discovery request
2021-02-01 17:00:27.230 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:00:27.230 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:00:27.230 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:00:27.230 -05:00 [DBG] Start key discovery request
2021-02-01 17:00:40.407 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:00:40.407 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:00:40.407 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:00:40.407 -05:00 [DBG] Start discovery request
2021-02-01 17:00:40.414 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:00:40.414 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:00:40.414 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:00:40.414 -05:00 [DBG] Rendering check session result
2021-02-01 17:01:12.132 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 17:01:12.150 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 17:01:12.150 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 17:01:12.150 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 17:01:12.150 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 17:01:12.150 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 17:01:12.150 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 17:01:12.210 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 17:01:12.210 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 17:01:12.210 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 17:01:12.210 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 17:01:12.210 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 17:01:12.210 -05:00 [DBG] Error Url: /home/error
2021-02-01 17:01:12.210 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 17:01:12.218 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:12.224 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:12.225 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:12.225 -05:00 [DBG] Start discovery request
2021-02-01 17:01:12.279 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:01:12.279 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:01:12.279 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:01:12.280 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:01:12.280 -05:00 [DBG] Rendering check session result
2021-02-01 17:01:12.283 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:01:12.283 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:01:12.284 -05:00 [DBG] Start authorize request
2021-02-01 17:01:12.287 -05:00 [DBG] User in authorize request: 4
2021-02-01 17:01:12.288 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:01:12.294 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:01:12.309 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:01:12.315 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"46eaab50311741f4b51059c8cb04cc0c","UiLocales":null,"Nonce":"6aee0d9cab1a486094095f81a58aef32","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"5C78B572DD5CB947177F2D4B564F3CB3","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"46eaab50311741f4b51059c8cb04cc0c","nonce":"6aee0d9cab1a486094095f81a58aef32"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:01:12.681 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 17:01:12.682 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 17:01:12.688 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 17:01:12.689 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 17:01:12.786 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 17:01:12.794 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"46eaab50311741f4b51059c8cb04cc0c","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 17:01:13.048 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:13.049 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:13.049 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:13.049 -05:00 [DBG] Start discovery request
2021-02-01 17:01:13.050 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:13.058 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:13.058 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:13.058 -05:00 [DBG] Start discovery request
2021-02-01 17:01:13.059 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:01:13.059 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:01:13.059 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:01:13.059 -05:00 [DBG] Rendering check session result
2021-02-01 17:01:13.064 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:01:13.064 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:01:13.065 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:01:13.065 -05:00 [DBG] Start key discovery request
2021-02-01 17:01:13.085 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:13.085 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:13.085 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:13.085 -05:00 [DBG] Start discovery request
2021-02-01 17:01:13.098 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 17:01:13.098 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 17:01:13.098 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 17:01:13.100 -05:00 [DBG] Start userinfo request
2021-02-01 17:01:13.101 -05:00 [DBG] Bearer token found in header
2021-02-01 17:01:13.130 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:01:13.131 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:01:13.156 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 17:01:13.157 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"699A2ACE3EC0756B2B8A9E2ECDE0962F","Claims":{"nbf":1612216872,"exp":1612220472,"iss":"https://localhost:44302","client_id":"wewantdoughnuts","sub":"4","auth_time":1612215108,"idp":"local","jti":"699A2ACE3EC0756B2B8A9E2ECDE0962F","sid":"5C78B572DD5CB947177F2D4B564F3CB3","iat":1612216872,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 17:01:13.159 -05:00 [DBG] Creating userinfo response
2021-02-01 17:01:13.160 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 17:01:13.161 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 17:01:13.163 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 17:01:13.163 -05:00 [DBG] End userinfo request
2021-02-01 17:01:13.222 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:13.222 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:13.222 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:13.222 -05:00 [DBG] Start discovery request
2021-02-01 17:01:13.229 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:01:13.229 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:01:13.229 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:01:13.229 -05:00 [DBG] Rendering check session result
2021-02-01 17:01:17.369 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:17.369 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:17.369 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:17.369 -05:00 [DBG] Start discovery request
2021-02-01 17:01:17.377 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:01:17.377 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:01:17.377 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:01:17.377 -05:00 [DBG] Rendering check session result
2021-02-01 17:01:29.073 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:29.073 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:29.073 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:29.073 -05:00 [DBG] Start discovery request
2021-02-01 17:01:29.089 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:01:29.089 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:01:29.089 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:01:29.089 -05:00 [DBG] Rendering check session result
2021-02-01 17:01:29.090 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:01:29.090 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:01:29.090 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:01:29.090 -05:00 [DBG] Start authorize request
2021-02-01 17:01:29.090 -05:00 [DBG] User in authorize request: 4
2021-02-01 17:01:29.090 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:01:29.090 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:01:29.090 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:01:29.091 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"cfa7b4211987430b96c6487eae8206f4","UiLocales":null,"Nonce":"f153b9b627bf4efd8550f86eaa5f4bad","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"5C78B572DD5CB947177F2D4B564F3CB3","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"cfa7b4211987430b96c6487eae8206f4","nonce":"f153b9b627bf4efd8550f86eaa5f4bad"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:01:29.093 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 17:01:29.094 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 17:01:29.094 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 17:01:29.094 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 17:01:29.098 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 17:01:29.100 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"cfa7b4211987430b96c6487eae8206f4","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 17:01:29.353 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:29.353 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:29.353 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:29.353 -05:00 [DBG] Start discovery request
2021-02-01 17:01:29.354 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:29.355 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:29.355 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:29.355 -05:00 [DBG] Start discovery request
2021-02-01 17:01:29.365 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:01:29.365 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:01:29.365 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:01:29.365 -05:00 [DBG] Start key discovery request
2021-02-01 17:01:29.367 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:01:29.367 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:01:29.367 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:01:29.367 -05:00 [DBG] Rendering check session result
2021-02-01 17:01:29.379 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:29.379 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:29.379 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:29.379 -05:00 [DBG] Start discovery request
2021-02-01 17:01:29.385 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 17:01:29.385 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 17:01:29.385 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 17:01:29.385 -05:00 [DBG] Start userinfo request
2021-02-01 17:01:29.385 -05:00 [DBG] Bearer token found in header
2021-02-01 17:01:29.385 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:01:29.385 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:01:29.387 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 17:01:29.387 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"47E633B9E0E9CDF501C5FE8BFF6B745E","Claims":{"nbf":1612216889,"exp":1612220489,"iss":"https://localhost:44302","client_id":"wewantdoughnuts","sub":"4","auth_time":1612215108,"idp":"local","jti":"47E633B9E0E9CDF501C5FE8BFF6B745E","sid":"5C78B572DD5CB947177F2D4B564F3CB3","iat":1612216889,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 17:01:29.387 -05:00 [DBG] Creating userinfo response
2021-02-01 17:01:29.387 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 17:01:29.387 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 17:01:29.389 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 17:01:29.389 -05:00 [DBG] End userinfo request
2021-02-01 17:01:29.451 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:29.451 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:29.451 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:29.451 -05:00 [DBG] Start discovery request
2021-02-01 17:01:29.469 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:01:29.469 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:01:29.469 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:01:29.469 -05:00 [DBG] Rendering check session result
2021-02-01 17:01:29.567 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:29.567 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:29.567 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:29.567 -05:00 [DBG] Start discovery request
2021-02-01 17:01:29.659 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:01:29.659 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:01:29.659 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:01:29.659 -05:00 [DBG] Start key discovery request
2021-02-01 17:01:32.392 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:32.392 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:32.392 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:32.392 -05:00 [DBG] Start discovery request
2021-02-01 17:01:32.411 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:01:32.411 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:01:32.411 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:01:32.411 -05:00 [DBG] Rendering check session result
2021-02-01 17:01:32.411 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:01:32.414 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:01:32.415 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:01:32.415 -05:00 [DBG] Start authorize request
2021-02-01 17:01:32.415 -05:00 [DBG] User in authorize request: 4
2021-02-01 17:01:32.415 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:01:32.415 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:01:32.415 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:01:32.415 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"f40cf237b57d47bc88c66c0a7b7137b0","UiLocales":null,"Nonce":"7f421d6d89d74caebebc139fc78a68e8","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"5C78B572DD5CB947177F2D4B564F3CB3","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"f40cf237b57d47bc88c66c0a7b7137b0","nonce":"7f421d6d89d74caebebc139fc78a68e8"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:01:32.416 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 17:01:32.416 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 17:01:32.416 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 17:01:32.416 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 17:01:32.418 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 17:01:32.420 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"f40cf237b57d47bc88c66c0a7b7137b0","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 17:01:32.670 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:32.670 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:32.670 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:32.670 -05:00 [DBG] Start discovery request
2021-02-01 17:01:32.671 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:32.672 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:32.672 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:32.672 -05:00 [DBG] Start discovery request
2021-02-01 17:01:32.680 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:01:32.681 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:01:32.681 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:01:32.681 -05:00 [DBG] Start key discovery request
2021-02-01 17:01:32.682 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:01:32.682 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:01:32.682 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:01:32.682 -05:00 [DBG] Rendering check session result
2021-02-01 17:01:32.694 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:32.694 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:32.694 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:32.694 -05:00 [DBG] Start discovery request
2021-02-01 17:01:32.697 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 17:01:32.699 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 17:01:32.699 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 17:01:32.699 -05:00 [DBG] Start userinfo request
2021-02-01 17:01:32.699 -05:00 [DBG] Bearer token found in header
2021-02-01 17:01:32.699 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:01:32.699 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:01:32.700 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 17:01:32.700 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"30F7418E7986520913CE2CCD541449DB","Claims":{"nbf":1612216892,"exp":1612220492,"iss":"https://localhost:44302","client_id":"wewantdoughnuts","sub":"4","auth_time":1612215108,"idp":"local","jti":"30F7418E7986520913CE2CCD541449DB","sid":"5C78B572DD5CB947177F2D4B564F3CB3","iat":1612216892,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 17:01:32.701 -05:00 [DBG] Creating userinfo response
2021-02-01 17:01:32.701 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 17:01:32.701 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 17:01:32.701 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 17:01:32.702 -05:00 [DBG] End userinfo request
2021-02-01 17:01:32.762 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:32.762 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:32.762 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:32.762 -05:00 [DBG] Start discovery request
2021-02-01 17:01:32.779 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:01:32.779 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:01:32.779 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:01:32.779 -05:00 [DBG] Rendering check session result
2021-02-01 17:01:33.255 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:33.256 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:33.256 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:33.256 -05:00 [DBG] Start discovery request
2021-02-01 17:01:33.263 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:01:33.263 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:01:33.263 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:01:33.263 -05:00 [DBG] Rendering check session result
2021-02-01 17:01:34.607 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:34.607 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:34.607 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:34.607 -05:00 [DBG] Start discovery request
2021-02-01 17:01:34.615 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:01:34.615 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:01:34.615 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:01:34.615 -05:00 [DBG] Rendering check session result
2021-02-01 17:01:52.667 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:52.667 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:52.667 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:52.667 -05:00 [DBG] Start discovery request
2021-02-01 17:01:52.690 -05:00 [INF] AuthenticationScheme: Identity.Application signed out.
2021-02-01 17:01:52.691 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 17:01:52.691 -05:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2021-02-01 17:01:52.694 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 17:01:52.694 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 17:01:52.694 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:01:52.694 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:01:52.694 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:01:52.694 -05:00 [DBG] Start authorize request
2021-02-01 17:01:52.695 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 17:01:52.695 -05:00 [DBG] No user present in authorize request
2021-02-01 17:01:52.695 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:01:52.695 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:01:52.695 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:01:52.695 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"anonymous","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"0eabd15612614aaeb504e7d6bc2ea158","UiLocales":null,"Nonce":"f40714c6211a48bd8162728447cc2ef0","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"0eabd15612614aaeb504e7d6bc2ea158","nonce":"f40714c6211a48bd8162728447cc2ef0"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:01:52.695 -05:00 [INF] Showing login: User is not authenticated
2021-02-01 17:01:52.696 -05:00 [DBG] SignOutCalled set; processing post-signout session cleanup.
2021-02-01 17:01:52.697 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 17:01:52.743 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:01:52.743 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:01:52.743 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:01:52.744 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:01:54.006 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:01:54.006 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:01:54.006 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:01:54.027 -05:00 [DBG] Augmenting SignInContext
2021-02-01 17:01:54.027 -05:00 [DBG] Adding idp claim with value: local
2021-02-01 17:01:54.027 -05:00 [DBG] Adding amr claim with value: pwd
2021-02-01 17:01:54.027 -05:00 [DBG] Adding auth_time claim with value: 1612216914
2021-02-01 17:01:54.029 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 17:01:54.037 -05:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2021-02-01 17:01:54.037 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2021-02-01 17:01:54.037 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2021-02-01 17:01:54.039 -05:00 [DBG] Start authorize callback request
2021-02-01 17:01:54.040 -05:00 [DBG] User in authorize request: 4
2021-02-01 17:01:54.040 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:01:54.040 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:01:54.040 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:01:54.040 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"0eabd15612614aaeb504e7d6bc2ea158","UiLocales":null,"Nonce":"f40714c6211a48bd8162728447cc2ef0","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"918C9A7FD85EC6A6F6A161891767520B","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"0eabd15612614aaeb504e7d6bc2ea158","nonce":"f40714c6211a48bd8162728447cc2ef0"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:01:54.041 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 17:01:54.041 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 17:01:54.041 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 17:01:54.041 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 17:01:54.043 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 17:01:54.045 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"0eabd15612614aaeb504e7d6bc2ea158","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 17:01:54.046 -05:00 [DBG] Augmenting SignInContext
2021-02-01 17:01:54.046 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 17:01:54.429 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:54.429 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:54.429 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:54.429 -05:00 [DBG] Start discovery request
2021-02-01 17:01:54.437 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:01:54.438 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:01:54.438 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:01:54.438 -05:00 [DBG] Start key discovery request
2021-02-01 17:01:54.458 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:54.458 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:54.458 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:54.458 -05:00 [DBG] Start discovery request
2021-02-01 17:01:54.484 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 17:01:54.484 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 17:01:54.484 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 17:01:54.484 -05:00 [DBG] Start userinfo request
2021-02-01 17:01:54.484 -05:00 [DBG] Bearer token found in header
2021-02-01 17:01:54.485 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:01:54.485 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:01:54.486 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 17:01:54.486 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"EC8A5A98972424673C63DD4073D6CE2B","Claims":{"nbf":1612216914,"exp":1612220514,"iss":"https://localhost:44302","client_id":"wewantdoughnuts","sub":"4","auth_time":1612216914,"idp":"local","jti":"EC8A5A98972424673C63DD4073D6CE2B","sid":"918C9A7FD85EC6A6F6A161891767520B","iat":1612216914,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 17:01:54.486 -05:00 [DBG] Creating userinfo response
2021-02-01 17:01:54.486 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 17:01:54.486 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 17:01:54.487 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 17:01:54.487 -05:00 [DBG] End userinfo request
2021-02-01 17:01:54.498 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:54.498 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:54.498 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:54.498 -05:00 [DBG] Start discovery request
2021-02-01 17:01:54.518 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:01:54.518 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:01:54.518 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:01:54.518 -05:00 [DBG] Rendering check session result
2021-02-01 17:01:54.586 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:54.586 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:54.586 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:54.586 -05:00 [DBG] Start discovery request
2021-02-01 17:01:54.599 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:01:54.599 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:01:54.599 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:01:54.599 -05:00 [DBG] Rendering check session result
2021-02-01 17:01:58.090 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:58.090 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:58.090 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:58.090 -05:00 [DBG] Start discovery request
2021-02-01 17:01:58.106 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:01:58.106 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:01:58.106 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:01:58.106 -05:00 [DBG] Rendering check session result
2021-02-01 17:01:58.106 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:01:58.106 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:01:58.107 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:01:58.107 -05:00 [DBG] Start authorize request
2021-02-01 17:01:58.107 -05:00 [DBG] User in authorize request: 4
2021-02-01 17:01:58.107 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:01:58.107 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:01:58.107 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:01:58.107 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"8769b58c7f4a41bb8ba62f5f2c9f739b","UiLocales":null,"Nonce":"f45c719fa6b942b2b117b08a5be14351","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"918C9A7FD85EC6A6F6A161891767520B","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"8769b58c7f4a41bb8ba62f5f2c9f739b","nonce":"f45c719fa6b942b2b117b08a5be14351"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:01:58.108 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 17:01:58.108 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 17:01:58.108 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 17:01:58.108 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 17:01:58.111 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 17:01:58.112 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"8769b58c7f4a41bb8ba62f5f2c9f739b","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 17:01:58.453 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:58.453 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:58.453 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:58.453 -05:00 [DBG] Start discovery request
2021-02-01 17:01:58.455 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:58.455 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:58.455 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:58.455 -05:00 [DBG] Start discovery request
2021-02-01 17:01:58.470 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:01:58.470 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:01:58.470 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:01:58.470 -05:00 [DBG] Start key discovery request
2021-02-01 17:01:58.472 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:01:58.472 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:01:58.472 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:01:58.472 -05:00 [DBG] Rendering check session result
2021-02-01 17:01:58.488 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:58.488 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:58.488 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:58.488 -05:00 [DBG] Start discovery request
2021-02-01 17:01:58.499 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 17:01:58.499 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 17:01:58.499 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 17:01:58.499 -05:00 [DBG] Start userinfo request
2021-02-01 17:01:58.499 -05:00 [DBG] Bearer token found in header
2021-02-01 17:01:58.500 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:01:58.500 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:01:58.502 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 17:01:58.502 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"C3805934D9A4C222A4CF57B00C899476","Claims":{"nbf":1612216918,"exp":1612220518,"iss":"https://localhost:44302","client_id":"wewantdoughnuts","sub":"4","auth_time":1612216914,"idp":"local","jti":"C3805934D9A4C222A4CF57B00C899476","sid":"918C9A7FD85EC6A6F6A161891767520B","iat":1612216918,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 17:01:58.502 -05:00 [DBG] Creating userinfo response
2021-02-01 17:01:58.502 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 17:01:58.502 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 17:01:58.504 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 17:01:58.504 -05:00 [DBG] End userinfo request
2021-02-01 17:01:58.607 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:01:58.608 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:01:58.608 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:01:58.608 -05:00 [DBG] Start discovery request
2021-02-01 17:01:58.634 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:01:58.635 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:01:58.635 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:01:58.635 -05:00 [DBG] Rendering check session result
2021-02-01 17:02:29.400 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:02:29.400 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:02:29.400 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:02:29.400 -05:00 [DBG] Start discovery request
2021-02-01 17:02:29.416 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:02:29.417 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:02:29.417 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:02:29.417 -05:00 [DBG] Rendering check session result
2021-02-01 17:02:29.417 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:02:29.417 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:02:29.417 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:02:29.417 -05:00 [DBG] Start authorize request
2021-02-01 17:02:29.417 -05:00 [DBG] User in authorize request: 4
2021-02-01 17:02:29.417 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:02:29.417 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:02:29.417 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:02:29.417 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"50968195d516473989a53daf80386b83","UiLocales":null,"Nonce":"b4d567e079474118a541a0890c42b9ae","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"918C9A7FD85EC6A6F6A161891767520B","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"50968195d516473989a53daf80386b83","nonce":"b4d567e079474118a541a0890c42b9ae"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:02:29.420 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 17:02:29.420 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 17:02:29.420 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 17:02:29.420 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 17:02:29.424 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 17:02:29.426 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"50968195d516473989a53daf80386b83","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 17:02:29.770 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:02:29.770 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:02:29.770 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:02:29.770 -05:00 [DBG] Start discovery request
2021-02-01 17:02:29.773 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:02:29.773 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:02:29.773 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:02:29.773 -05:00 [DBG] Start discovery request
2021-02-01 17:02:29.783 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:02:29.783 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:02:29.783 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:02:29.783 -05:00 [DBG] Start key discovery request
2021-02-01 17:02:29.785 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:02:29.785 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:02:29.785 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:02:29.785 -05:00 [DBG] Rendering check session result
2021-02-01 17:02:29.798 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:02:29.798 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:02:29.798 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:02:29.798 -05:00 [DBG] Start discovery request
2021-02-01 17:02:29.806 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 17:02:29.806 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 17:02:29.806 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 17:02:29.806 -05:00 [DBG] Start userinfo request
2021-02-01 17:02:29.806 -05:00 [DBG] Bearer token found in header
2021-02-01 17:02:29.806 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:02:29.806 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:02:29.808 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 17:02:29.808 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"F706C40AA4E35295C20FFE83D9D7A300","Claims":{"nbf":1612216949,"exp":1612220549,"iss":"https://localhost:44302","client_id":"wewantdoughnuts","sub":"4","auth_time":1612216914,"idp":"local","jti":"F706C40AA4E35295C20FFE83D9D7A300","sid":"918C9A7FD85EC6A6F6A161891767520B","iat":1612216949,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 17:02:29.808 -05:00 [DBG] Creating userinfo response
2021-02-01 17:02:29.809 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 17:02:29.809 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 17:02:29.813 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 17:02:29.813 -05:00 [DBG] End userinfo request
2021-02-01 17:02:29.909 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:02:29.909 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:02:29.909 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:02:29.909 -05:00 [DBG] Start discovery request
2021-02-01 17:02:29.920 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:02:29.920 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:02:29.920 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:02:29.920 -05:00 [DBG] Rendering check session result
2021-02-01 17:04:11.972 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:04:11.972 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:04:11.972 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:04:11.972 -05:00 [DBG] Start discovery request
2021-02-01 17:04:11.987 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:04:11.988 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:04:11.988 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:04:11.988 -05:00 [DBG] Rendering check session result
2021-02-01 17:04:11.988 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:04:11.988 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:04:11.988 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:04:11.988 -05:00 [DBG] Start authorize request
2021-02-01 17:04:11.988 -05:00 [DBG] User in authorize request: 4
2021-02-01 17:04:11.988 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:04:11.988 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:04:11.988 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:04:11.988 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"17daa5ea16b342e7a6272e976882fa06","UiLocales":null,"Nonce":"114e9c2a6cbf4a22a1db54d1212af318","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"918C9A7FD85EC6A6F6A161891767520B","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"17daa5ea16b342e7a6272e976882fa06","nonce":"114e9c2a6cbf4a22a1db54d1212af318"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:04:11.991 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 17:04:11.991 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 17:04:11.991 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 17:04:11.991 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 17:04:11.996 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 17:04:11.998 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"17daa5ea16b342e7a6272e976882fa06","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 17:04:12.344 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:04:12.344 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:04:12.344 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:04:12.344 -05:00 [DBG] Start discovery request
2021-02-01 17:04:12.346 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:04:12.346 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:04:12.346 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:04:12.346 -05:00 [DBG] Start discovery request
2021-02-01 17:04:12.358 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:04:12.358 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:04:12.358 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:04:12.359 -05:00 [DBG] Start key discovery request
2021-02-01 17:04:12.359 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:04:12.359 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:04:12.359 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:04:12.359 -05:00 [DBG] Rendering check session result
2021-02-01 17:04:12.374 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:04:12.374 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:04:12.374 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:04:12.374 -05:00 [DBG] Start discovery request
2021-02-01 17:04:12.381 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 17:04:12.381 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 17:04:12.381 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 17:04:12.381 -05:00 [DBG] Start userinfo request
2021-02-01 17:04:12.381 -05:00 [DBG] Bearer token found in header
2021-02-01 17:04:12.381 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:04:12.381 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:04:12.383 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 17:04:12.383 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"A9349FFFD1757740FD4389A2030D9999","Claims":{"nbf":1612217051,"exp":1612220651,"iss":"https://localhost:44302","client_id":"wewantdoughnuts","sub":"4","auth_time":1612216914,"idp":"local","jti":"A9349FFFD1757740FD4389A2030D9999","sid":"918C9A7FD85EC6A6F6A161891767520B","iat":1612217051,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 17:04:12.383 -05:00 [DBG] Creating userinfo response
2021-02-01 17:04:12.383 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 17:04:12.383 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 17:04:12.384 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 17:04:12.384 -05:00 [DBG] End userinfo request
2021-02-01 17:04:12.475 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:04:12.476 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:04:12.476 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:04:12.476 -05:00 [DBG] Start discovery request
2021-02-01 17:04:12.485 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:04:12.485 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:04:12.485 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:04:12.485 -05:00 [DBG] Rendering check session result
2021-02-01 17:04:12.682 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:04:12.682 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:04:12.682 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:04:12.682 -05:00 [DBG] Start discovery request
2021-02-01 17:04:12.803 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:04:12.803 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:04:12.803 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:04:12.803 -05:00 [DBG] Start key discovery request
2021-02-01 17:07:10.581 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 17:07:10.599 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 17:07:10.599 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 17:07:10.599 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 17:07:10.599 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 17:07:10.599 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 17:07:10.599 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 17:07:10.658 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 17:07:10.658 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 17:07:10.658 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 17:07:10.658 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 17:07:10.658 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 17:07:10.658 -05:00 [DBG] Error Url: /home/error
2021-02-01 17:07:10.658 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 17:07:10.666 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:07:10.671 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:07:10.671 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:07:10.672 -05:00 [DBG] Start discovery request
2021-02-01 17:07:10.715 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:07:10.719 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:07:10.719 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:07:10.720 -05:00 [DBG] Start authorize request
2021-02-01 17:07:10.722 -05:00 [DBG] No user present in authorize request
2021-02-01 17:07:10.723 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:07:10.729 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:07:10.743 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:07:10.749 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"anonymous","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"a2203338de6d484db72c44574def2a26","UiLocales":null,"Nonce":"b316cae070b241c6ae6fefddcc6b631b","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"a2203338de6d484db72c44574def2a26","nonce":"b316cae070b241c6ae6fefddcc6b631b"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:07:10.755 -05:00 [INF] Showing login: User is not authenticated
2021-02-01 17:07:10.811 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:07:10.811 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:07:10.811 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:07:10.812 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:07:17.324 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:07:17.324 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:07:17.324 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:07:17.683 -05:00 [DBG] Augmenting SignInContext
2021-02-01 17:07:17.683 -05:00 [DBG] Adding idp claim with value: local
2021-02-01 17:07:17.683 -05:00 [DBG] Adding amr claim with value: pwd
2021-02-01 17:07:17.683 -05:00 [DBG] Adding auth_time claim with value: 1612217237
2021-02-01 17:07:17.687 -05:00 [WRN] The cookie 'idsrv.session' has set 'SameSite=None' and must also set 'Secure'.
2021-02-01 17:07:17.691 -05:00 [WRN] The cookie '.AspNetCore.Identity.Application' has set 'SameSite=None' and must also set 'Secure'.
2021-02-01 17:07:17.692 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 17:07:17.699 -05:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2021-02-01 17:07:17.699 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2021-02-01 17:07:17.699 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2021-02-01 17:07:17.700 -05:00 [DBG] Start authorize callback request
2021-02-01 17:07:17.702 -05:00 [DBG] No user present in authorize request
2021-02-01 17:07:17.702 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:07:17.702 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:07:17.702 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:07:17.702 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"anonymous","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"a2203338de6d484db72c44574def2a26","UiLocales":null,"Nonce":"b316cae070b241c6ae6fefddcc6b631b","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"a2203338de6d484db72c44574def2a26","nonce":"b316cae070b241c6ae6fefddcc6b631b"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:07:17.702 -05:00 [INF] Showing login: User is not authenticated
2021-02-01 17:07:17.711 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:07:17.711 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:07:17.711 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:07:17.711 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:07:33.287 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 17:07:33.305 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 17:07:33.305 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 17:07:33.305 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 17:07:33.305 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 17:07:33.306 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 17:07:33.306 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 17:07:33.363 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 17:07:33.363 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 17:07:33.363 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 17:07:33.363 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 17:07:33.363 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 17:07:33.363 -05:00 [DBG] Error Url: /home/error
2021-02-01 17:07:33.363 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 17:07:45.585 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:07:45.591 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:07:45.591 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:07:45.592 -05:00 [DBG] Start discovery request
2021-02-01 17:07:45.632 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:07:45.634 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:07:45.634 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:07:45.635 -05:00 [DBG] Start authorize request
2021-02-01 17:07:45.637 -05:00 [DBG] No user present in authorize request
2021-02-01 17:07:45.638 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:07:45.644 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:07:45.658 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:07:45.664 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"anonymous","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"35649facedd549559e0f80288449fc87","UiLocales":null,"Nonce":"4381b768cd8b453c9fca27df4474478b","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"35649facedd549559e0f80288449fc87","nonce":"4381b768cd8b453c9fca27df4474478b"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:07:45.671 -05:00 [INF] Showing login: User is not authenticated
2021-02-01 17:07:45.699 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:07:45.699 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:07:45.699 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:07:45.700 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:07:52.226 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:07:52.227 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:07:52.227 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:07:52.586 -05:00 [DBG] Augmenting SignInContext
2021-02-01 17:07:52.587 -05:00 [DBG] Adding idp claim with value: local
2021-02-01 17:07:52.587 -05:00 [DBG] Adding amr claim with value: pwd
2021-02-01 17:07:52.587 -05:00 [DBG] Adding auth_time claim with value: 1612217272
2021-02-01 17:07:52.590 -05:00 [WRN] The cookie 'idsrv.session' has set 'SameSite=None' and must also set 'Secure'.
2021-02-01 17:07:52.595 -05:00 [WRN] The cookie '.AspNetCore.Identity.Application' has set 'SameSite=None' and must also set 'Secure'.
2021-02-01 17:07:52.595 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 17:07:52.603 -05:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2021-02-01 17:07:52.603 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2021-02-01 17:07:52.603 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2021-02-01 17:07:52.604 -05:00 [DBG] Start authorize callback request
2021-02-01 17:07:52.606 -05:00 [DBG] No user present in authorize request
2021-02-01 17:07:52.606 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:07:52.606 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:07:52.606 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:07:52.606 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"anonymous","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"35649facedd549559e0f80288449fc87","UiLocales":null,"Nonce":"4381b768cd8b453c9fca27df4474478b","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"35649facedd549559e0f80288449fc87","nonce":"4381b768cd8b453c9fca27df4474478b"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:07:52.606 -05:00 [INF] Showing login: User is not authenticated
2021-02-01 17:07:52.613 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:07:52.613 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:07:52.613 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:07:52.613 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:08:32.283 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:08:32.283 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:08:32.283 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:08:32.283 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:08:41.216 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:08:41.216 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:08:41.216 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:08:41.249 -05:00 [DBG] Augmenting SignInContext
2021-02-01 17:08:41.249 -05:00 [DBG] Adding idp claim with value: local
2021-02-01 17:08:41.249 -05:00 [DBG] Adding amr claim with value: pwd
2021-02-01 17:08:41.249 -05:00 [DBG] Adding auth_time claim with value: 1612217321
2021-02-01 17:08:41.249 -05:00 [WRN] The cookie 'idsrv.session' has set 'SameSite=None' and must also set 'Secure'.
2021-02-01 17:08:41.249 -05:00 [WRN] The cookie '.AspNetCore.Identity.Application' has set 'SameSite=None' and must also set 'Secure'.
2021-02-01 17:08:41.249 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 17:08:41.254 -05:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2021-02-01 17:08:41.255 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2021-02-01 17:08:41.255 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2021-02-01 17:08:41.255 -05:00 [DBG] Start authorize callback request
2021-02-01 17:08:41.255 -05:00 [DBG] No user present in authorize request
2021-02-01 17:08:41.255 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:08:41.255 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:08:41.255 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:08:41.255 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"anonymous","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"35649facedd549559e0f80288449fc87","UiLocales":null,"Nonce":"4381b768cd8b453c9fca27df4474478b","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"35649facedd549559e0f80288449fc87","nonce":"4381b768cd8b453c9fca27df4474478b"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:08:41.255 -05:00 [INF] Showing login: User is not authenticated
2021-02-01 17:08:41.259 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:08:41.259 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:08:41.259 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:08:41.259 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:10:17.707 -05:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2021-02-01 17:10:23.712 -05:00 [DBG] Augmenting SignInContext
2021-02-01 17:10:23.712 -05:00 [DBG] Adding idp claim with value: local
2021-02-01 17:10:23.712 -05:00 [DBG] Adding amr claim with value: pwd
2021-02-01 17:10:23.712 -05:00 [DBG] Adding auth_time claim with value: 1612217423
2021-02-01 17:10:23.712 -05:00 [WRN] The cookie 'idsrv.session' has set 'SameSite=None' and must also set 'Secure'.
2021-02-01 17:10:23.712 -05:00 [WRN] The cookie '.AspNetCore.Identity.Application' has set 'SameSite=None' and must also set 'Secure'.
2021-02-01 17:10:23.712 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 17:10:23.716 -05:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2021-02-01 17:17:31.254 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 17:17:31.273 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 17:17:31.273 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 17:17:31.273 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 17:17:31.273 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 17:17:31.273 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 17:17:31.273 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 17:17:31.330 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 17:17:31.331 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 17:17:31.331 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 17:17:31.331 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 17:17:31.331 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 17:17:31.331 -05:00 [DBG] Error Url: /home/error
2021-02-01 17:17:31.331 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 17:17:38.638 -05:00 [DBG] Augmenting SignInContext
2021-02-01 17:17:38.639 -05:00 [DBG] Adding idp claim with value: local
2021-02-01 17:17:38.639 -05:00 [DBG] Adding amr claim with value: pwd
2021-02-01 17:17:38.639 -05:00 [DBG] Adding auth_time claim with value: 1612217858
2021-02-01 17:17:38.643 -05:00 [WRN] The cookie 'idsrv.session' has set 'SameSite=None' and must also set 'Secure'.
2021-02-01 17:17:38.648 -05:00 [WRN] The cookie '.AspNetCore.Identity.Application' has set 'SameSite=None' and must also set 'Secure'.
2021-02-01 17:17:38.648 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 17:17:38.660 -05:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2021-02-01 17:17:44.936 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 17:17:44.957 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 17:17:44.957 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 17:17:44.957 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 17:17:44.957 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 17:17:44.957 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 17:17:44.957 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 17:17:45.094 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 17:17:45.095 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 17:17:45.095 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 17:17:45.095 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 17:17:45.095 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 17:17:45.095 -05:00 [DBG] Error Url: /home/error
2021-02-01 17:17:45.095 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 17:17:56.178 -05:00 [DBG] Augmenting SignInContext
2021-02-01 17:17:56.178 -05:00 [DBG] Adding idp claim with value: local
2021-02-01 17:17:56.178 -05:00 [DBG] Adding amr claim with value: pwd
2021-02-01 17:17:56.178 -05:00 [DBG] Adding auth_time claim with value: 1612217876
2021-02-01 17:17:56.183 -05:00 [WRN] The cookie 'idsrv.session' has set 'SameSite=None' and must also set 'Secure'.
2021-02-01 17:17:56.189 -05:00 [WRN] The cookie '.AspNetCore.Identity.Application' has set 'SameSite=None' and must also set 'Secure'.
2021-02-01 17:17:56.189 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 17:17:56.209 -05:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2021-02-01 17:18:27.172 -05:00 [DBG] Augmenting SignInContext
2021-02-01 17:18:27.173 -05:00 [DBG] Adding idp claim with value: local
2021-02-01 17:18:27.173 -05:00 [DBG] Adding amr claim with value: pwd
2021-02-01 17:18:27.173 -05:00 [DBG] Adding auth_time claim with value: 1612217907
2021-02-01 17:18:27.173 -05:00 [WRN] The cookie 'idsrv.session' has set 'SameSite=None' and must also set 'Secure'.
2021-02-01 17:18:27.173 -05:00 [WRN] The cookie '.AspNetCore.Identity.Application' has set 'SameSite=None' and must also set 'Secure'.
2021-02-01 17:18:27.174 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 17:18:27.187 -05:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2021-02-01 17:19:27.550 -05:00 [DBG] Augmenting SignInContext
2021-02-01 17:19:27.551 -05:00 [DBG] Adding idp claim with value: local
2021-02-01 17:19:27.551 -05:00 [DBG] Adding amr claim with value: pwd
2021-02-01 17:19:27.551 -05:00 [DBG] Adding auth_time claim with value: 1612217967
2021-02-01 17:19:27.551 -05:00 [WRN] The cookie 'idsrv.session' has set 'SameSite=None' and must also set 'Secure'.
2021-02-01 17:19:27.551 -05:00 [WRN] The cookie '.AspNetCore.Identity.Application' has set 'SameSite=None' and must also set 'Secure'.
2021-02-01 17:19:27.551 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 17:19:50.655 -05:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2021-02-01 17:19:57.444 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:19:57.446 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:19:57.446 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:19:57.447 -05:00 [DBG] Start discovery request
2021-02-01 17:19:57.489 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:19:57.490 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:19:57.490 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:19:57.491 -05:00 [DBG] Start authorize request
2021-02-01 17:19:57.493 -05:00 [DBG] No user present in authorize request
2021-02-01 17:19:57.494 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:19:57.500 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:19:57.515 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:19:57.523 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"anonymous","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"e4e6e17e603e439b9352481f28ad6929","UiLocales":null,"Nonce":"097b32a002af4143934b887f411e6691","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"e4e6e17e603e439b9352481f28ad6929","nonce":"097b32a002af4143934b887f411e6691"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:19:57.535 -05:00 [INF] Showing login: User is not authenticated
2021-02-01 17:19:57.541 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:19:57.541 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:19:57.542 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:19:57.543 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:20:08.468 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:20:08.469 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:20:08.469 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:20:32.069 -05:00 [DBG] Augmenting SignInContext
2021-02-01 17:20:32.069 -05:00 [DBG] Adding idp claim with value: local
2021-02-01 17:20:32.069 -05:00 [DBG] Adding amr claim with value: pwd
2021-02-01 17:20:32.069 -05:00 [DBG] Adding auth_time claim with value: 1612218032
2021-02-01 17:20:32.069 -05:00 [WRN] The cookie 'idsrv.session' has set 'SameSite=None' and must also set 'Secure'.
2021-02-01 17:20:32.070 -05:00 [WRN] The cookie '.AspNetCore.Identity.Application' has set 'SameSite=None' and must also set 'Secure'.
2021-02-01 17:20:32.070 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 17:20:39.830 -05:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2021-02-01 17:20:39.830 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2021-02-01 17:20:39.830 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2021-02-01 17:20:39.832 -05:00 [DBG] Start authorize callback request
2021-02-01 17:20:39.833 -05:00 [DBG] No user present in authorize request
2021-02-01 17:20:39.833 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:20:39.833 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:20:39.834 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:20:39.834 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"anonymous","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"e4e6e17e603e439b9352481f28ad6929","UiLocales":null,"Nonce":"097b32a002af4143934b887f411e6691","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"e4e6e17e603e439b9352481f28ad6929","nonce":"097b32a002af4143934b887f411e6691"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:20:39.834 -05:00 [INF] Showing login: User is not authenticated
2021-02-01 17:20:39.837 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:20:39.837 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:20:39.837 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:20:39.837 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:20:57.296 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:20:57.296 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:20:57.296 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:20:57.296 -05:00 [DBG] Start discovery request
2021-02-01 17:20:57.306 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:20:57.307 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:20:57.307 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:20:57.307 -05:00 [DBG] Start authorize request
2021-02-01 17:20:57.307 -05:00 [DBG] No user present in authorize request
2021-02-01 17:20:57.307 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:20:57.307 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:20:57.307 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:20:57.307 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"anonymous","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"4013e71a9bc94cd88cc9deaa8a1a2af7","UiLocales":null,"Nonce":"2542863bcbd14c9c8712d23adf4e072c","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"4013e71a9bc94cd88cc9deaa8a1a2af7","nonce":"2542863bcbd14c9c8712d23adf4e072c"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:20:57.307 -05:00 [INF] Showing login: User is not authenticated
2021-02-01 17:20:57.310 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:20:57.310 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:20:57.310 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:20:57.310 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:21:03.431 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:21:03.431 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:21:03.431 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:21:08.660 -05:00 [DBG] Augmenting SignInContext
2021-02-01 17:21:08.660 -05:00 [DBG] Adding idp claim with value: local
2021-02-01 17:21:08.660 -05:00 [DBG] Adding amr claim with value: pwd
2021-02-01 17:21:08.660 -05:00 [DBG] Adding auth_time claim with value: 1612218068
2021-02-01 17:21:08.660 -05:00 [WRN] The cookie 'idsrv.session' has set 'SameSite=None' and must also set 'Secure'.
2021-02-01 17:21:08.660 -05:00 [WRN] The cookie '.AspNetCore.Identity.Application' has set 'SameSite=None' and must also set 'Secure'.
2021-02-01 17:21:08.660 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 17:23:03.025 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 17:23:03.044 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 17:23:03.044 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 17:23:03.044 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 17:23:03.044 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 17:23:03.044 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 17:23:03.044 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 17:23:03.102 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 17:23:03.103 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 17:23:03.103 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 17:23:03.103 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 17:23:03.103 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 17:23:03.103 -05:00 [DBG] Error Url: /home/error
2021-02-01 17:23:03.103 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 17:23:11.182 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:23:11.183 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:23:11.183 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:23:11.184 -05:00 [DBG] Start discovery request
2021-02-01 17:23:11.228 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:23:11.229 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:23:11.229 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:23:11.230 -05:00 [DBG] Start authorize request
2021-02-01 17:23:11.233 -05:00 [DBG] User in authorize request: 4
2021-02-01 17:23:11.234 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:23:11.240 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:23:11.255 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:23:11.261 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"af21d7b3a0c641e6b3b5d6c7a65d8086","UiLocales":null,"Nonce":"8224ee82428649d3ac5ade158b55f787","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"918C9A7FD85EC6A6F6A161891767520B","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"af21d7b3a0c641e6b3b5d6c7a65d8086","nonce":"8224ee82428649d3ac5ade158b55f787"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:23:11.642 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 17:23:11.643 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 17:23:11.649 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 17:23:11.650 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 17:23:11.749 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 17:23:11.757 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"af21d7b3a0c641e6b3b5d6c7a65d8086","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 17:23:12.019 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:23:12.020 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:23:12.020 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:23:12.020 -05:00 [DBG] Start discovery request
2021-02-01 17:23:12.025 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:23:12.025 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:23:12.025 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:23:12.026 -05:00 [DBG] Start key discovery request
2021-02-01 17:23:12.047 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:23:12.048 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:23:12.048 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:23:12.048 -05:00 [DBG] Start discovery request
2021-02-01 17:23:12.053 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 17:23:12.054 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 17:23:12.054 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 17:23:12.055 -05:00 [DBG] Start userinfo request
2021-02-01 17:23:12.056 -05:00 [DBG] Bearer token found in header
2021-02-01 17:23:12.086 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:23:12.087 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:23:12.112 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 17:23:12.113 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"AA8E682BE86E78953BC12411CA22AB54","Claims":{"nbf":1612218191,"exp":1612221791,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612216914,"idp":"local","jti":"AA8E682BE86E78953BC12411CA22AB54","sid":"918C9A7FD85EC6A6F6A161891767520B","iat":1612218191,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 17:23:12.115 -05:00 [DBG] Creating userinfo response
2021-02-01 17:23:12.116 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 17:23:12.117 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 17:23:12.119 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 17:23:12.119 -05:00 [DBG] End userinfo request
2021-02-01 17:23:12.124 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:23:12.125 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:23:12.125 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:23:12.125 -05:00 [DBG] Start discovery request
2021-02-01 17:23:12.135 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:23:12.135 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:23:12.135 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:23:12.136 -05:00 [DBG] Rendering check session result
2021-02-01 17:23:12.180 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:23:12.180 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:23:12.180 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:23:12.180 -05:00 [DBG] Start discovery request
2021-02-01 17:23:12.187 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:23:12.187 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:23:12.187 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:23:12.187 -05:00 [DBG] Rendering check session result
2021-02-01 17:23:13.324 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:23:13.324 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:23:13.324 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:23:13.324 -05:00 [DBG] Start discovery request
2021-02-01 17:23:13.414 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:23:13.414 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:23:13.414 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:23:13.414 -05:00 [DBG] Start key discovery request
2021-02-01 17:23:17.669 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:23:17.669 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:23:17.669 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:23:17.669 -05:00 [DBG] Start discovery request
2021-02-01 17:23:17.685 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:23:17.685 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:23:17.685 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:23:17.685 -05:00 [DBG] Rendering check session result
2021-02-01 17:23:17.686 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:23:17.686 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:23:17.686 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:23:17.686 -05:00 [DBG] Start authorize request
2021-02-01 17:23:17.686 -05:00 [DBG] User in authorize request: 4
2021-02-01 17:23:17.686 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:23:17.686 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:23:17.686 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:23:17.687 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"db5be51787134a3d8bf84bec6aa7ba12","UiLocales":null,"Nonce":"d27b0ce58e894f6eb87cbd02ad9b410b","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"918C9A7FD85EC6A6F6A161891767520B","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"db5be51787134a3d8bf84bec6aa7ba12","nonce":"d27b0ce58e894f6eb87cbd02ad9b410b"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:23:17.690 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 17:23:17.690 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 17:23:17.690 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 17:23:17.690 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 17:23:17.694 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 17:23:17.697 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"db5be51787134a3d8bf84bec6aa7ba12","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 17:23:50.531 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 17:23:50.549 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 17:23:50.549 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 17:23:50.549 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 17:23:50.549 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 17:23:50.549 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 17:23:50.549 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 17:23:50.717 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 17:23:50.718 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 17:23:50.718 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 17:23:50.718 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 17:23:50.718 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 17:23:50.718 -05:00 [DBG] Error Url: /home/error
2021-02-01 17:23:50.718 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 17:24:25.884 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:24:25.885 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:24:25.885 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:24:25.886 -05:00 [DBG] Start discovery request
2021-02-01 17:24:25.933 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:24:25.934 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:24:25.934 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:24:25.935 -05:00 [DBG] Start authorize request
2021-02-01 17:24:25.937 -05:00 [DBG] No user present in authorize request
2021-02-01 17:24:25.965 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:24:25.971 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:24:25.986 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:24:25.992 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"anonymous","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"fdb1ad99aecd475baf9cd6d6c5a0cd54","UiLocales":null,"Nonce":"89e102fcf63f480b9433bba74e22584f","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"fdb1ad99aecd475baf9cd6d6c5a0cd54","nonce":"89e102fcf63f480b9433bba74e22584f"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:24:25.998 -05:00 [INF] Showing login: User is not authenticated
2021-02-01 17:24:26.026 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:24:26.026 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:24:26.026 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:24:26.027 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:24:32.855 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:24:32.855 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:24:32.855 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:24:33.209 -05:00 [DBG] Augmenting SignInContext
2021-02-01 17:24:33.209 -05:00 [DBG] Adding idp claim with value: local
2021-02-01 17:24:33.209 -05:00 [DBG] Adding amr claim with value: pwd
2021-02-01 17:24:33.209 -05:00 [DBG] Adding auth_time claim with value: 1612218273
2021-02-01 17:24:33.214 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 17:24:33.222 -05:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2021-02-01 17:24:33.222 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2021-02-01 17:24:33.222 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2021-02-01 17:24:33.224 -05:00 [DBG] Start authorize callback request
2021-02-01 17:24:33.225 -05:00 [DBG] User in authorize request: 4
2021-02-01 17:24:33.225 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:24:33.225 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:24:33.225 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:24:33.225 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"fdb1ad99aecd475baf9cd6d6c5a0cd54","UiLocales":null,"Nonce":"89e102fcf63f480b9433bba74e22584f","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"53F955A43593A1CC7AFFE6B251DB5BA2","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"fdb1ad99aecd475baf9cd6d6c5a0cd54","nonce":"89e102fcf63f480b9433bba74e22584f"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:24:33.268 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 17:24:33.269 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 17:24:33.275 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 17:24:33.275 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 17:24:33.401 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 17:24:33.409 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"fdb1ad99aecd475baf9cd6d6c5a0cd54","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 17:24:33.411 -05:00 [DBG] Augmenting SignInContext
2021-02-01 17:24:33.411 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 17:24:33.976 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:24:33.976 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:24:33.976 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:24:33.976 -05:00 [DBG] Start discovery request
2021-02-01 17:24:33.983 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:24:33.984 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:24:33.984 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:24:33.985 -05:00 [DBG] Start key discovery request
2021-02-01 17:24:34.026 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:24:34.033 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:24:34.033 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:24:34.033 -05:00 [DBG] Start discovery request
2021-02-01 17:24:34.039 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 17:24:34.040 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 17:24:34.040 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 17:24:34.042 -05:00 [DBG] Start userinfo request
2021-02-01 17:24:34.043 -05:00 [DBG] Bearer token found in header
2021-02-01 17:24:34.080 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:24:34.081 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:24:34.084 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 17:24:34.084 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"E5F092A1B55B90E68A4CC9BBF1A338A0","Claims":{"nbf":1612218273,"exp":1612221873,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612218273,"idp":"local","jti":"E5F092A1B55B90E68A4CC9BBF1A338A0","sid":"53F955A43593A1CC7AFFE6B251DB5BA2","iat":1612218273,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 17:24:34.087 -05:00 [DBG] Creating userinfo response
2021-02-01 17:24:34.087 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 17:24:34.089 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 17:24:34.093 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 17:24:34.093 -05:00 [DBG] End userinfo request
2021-02-01 17:24:34.098 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:24:34.098 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:24:34.098 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:24:34.098 -05:00 [DBG] Start discovery request
2021-02-01 17:24:34.108 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:24:34.108 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:24:34.108 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:24:34.109 -05:00 [DBG] Rendering check session result
2021-02-01 17:24:34.163 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:24:34.163 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:24:34.163 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:24:34.163 -05:00 [DBG] Start discovery request
2021-02-01 17:24:34.170 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:24:34.170 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:24:34.170 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:24:34.170 -05:00 [DBG] Rendering check session result
2021-02-01 17:24:34.412 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:24:34.412 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:24:34.412 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:24:34.412 -05:00 [DBG] Start discovery request
2021-02-01 17:24:34.503 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:24:34.503 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:24:34.503 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:24:34.503 -05:00 [DBG] Start key discovery request
2021-02-01 17:24:41.178 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:24:41.178 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:24:41.178 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:24:41.178 -05:00 [DBG] Start discovery request
2021-02-01 17:24:41.185 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:24:41.185 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:24:41.185 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:24:41.186 -05:00 [DBG] Rendering check session result
2021-02-01 17:24:42.413 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:24:42.414 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:24:42.414 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:24:42.414 -05:00 [DBG] Start discovery request
2021-02-01 17:24:42.421 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:24:42.421 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:24:42.421 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:24:42.421 -05:00 [DBG] Rendering check session result
2021-02-01 17:25:14.857 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:25:14.857 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:25:14.857 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:25:14.857 -05:00 [DBG] Start discovery request
2021-02-01 17:25:14.873 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:25:14.873 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:25:14.873 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:25:14.873 -05:00 [DBG] Rendering check session result
2021-02-01 17:25:14.874 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:25:14.874 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:25:14.874 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:25:14.874 -05:00 [DBG] Start authorize request
2021-02-01 17:25:14.874 -05:00 [DBG] User in authorize request: 4
2021-02-01 17:25:14.874 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:25:14.874 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:25:14.875 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:25:14.875 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"3c071ee539e34960b31d0e7a89bd72ee","UiLocales":null,"Nonce":"606ff6e28e2840d4a4b386c45706a141","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"53F955A43593A1CC7AFFE6B251DB5BA2","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"3c071ee539e34960b31d0e7a89bd72ee","nonce":"606ff6e28e2840d4a4b386c45706a141"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:25:14.877 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 17:25:14.877 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 17:25:14.877 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 17:25:14.877 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 17:25:14.881 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 17:25:14.883 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"3c071ee539e34960b31d0e7a89bd72ee","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 17:25:15.153 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:25:15.154 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:25:15.154 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:25:15.154 -05:00 [DBG] Start discovery request
2021-02-01 17:25:15.156 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:25:15.156 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:25:15.156 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:25:15.156 -05:00 [DBG] Start discovery request
2021-02-01 17:25:15.169 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:25:15.170 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:25:15.170 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:25:15.170 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:25:15.170 -05:00 [DBG] Start key discovery request
2021-02-01 17:25:15.170 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:25:15.170 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:25:15.170 -05:00 [DBG] Rendering check session result
2021-02-01 17:25:15.184 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:25:15.185 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:25:15.185 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:25:15.185 -05:00 [DBG] Start discovery request
2021-02-01 17:25:15.189 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 17:25:15.190 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 17:25:15.190 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 17:25:15.190 -05:00 [DBG] Start userinfo request
2021-02-01 17:25:15.190 -05:00 [DBG] Bearer token found in header
2021-02-01 17:25:15.190 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:25:15.190 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:25:15.192 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 17:25:15.192 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"F850B8A179E01DD98D2A8A25D4E2DBC1","Claims":{"nbf":1612218314,"exp":1612221914,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612218273,"idp":"local","jti":"F850B8A179E01DD98D2A8A25D4E2DBC1","sid":"53F955A43593A1CC7AFFE6B251DB5BA2","iat":1612218314,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 17:25:15.192 -05:00 [DBG] Creating userinfo response
2021-02-01 17:25:15.192 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 17:25:15.192 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 17:25:15.194 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 17:25:15.194 -05:00 [DBG] End userinfo request
2021-02-01 17:25:15.259 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:25:15.259 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:25:15.259 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:25:15.259 -05:00 [DBG] Start discovery request
2021-02-01 17:25:15.271 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:25:15.271 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:25:15.271 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:25:15.271 -05:00 [DBG] Rendering check session result
2021-02-01 17:25:17.961 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:25:17.961 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:25:17.961 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:25:17.961 -05:00 [DBG] Start discovery request
2021-02-01 17:25:17.976 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:25:17.976 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:25:17.976 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:25:17.976 -05:00 [DBG] Rendering check session result
2021-02-01 17:25:17.976 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:25:17.979 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:25:17.979 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:25:17.979 -05:00 [DBG] Start authorize request
2021-02-01 17:25:17.979 -05:00 [DBG] User in authorize request: 4
2021-02-01 17:25:17.979 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:25:17.979 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:25:17.979 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:25:17.979 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"24f914bb41004e6f9a030e8cd4219685","UiLocales":null,"Nonce":"d802a5d6e0a44d91abe0803e42e5e7d8","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"53F955A43593A1CC7AFFE6B251DB5BA2","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"24f914bb41004e6f9a030e8cd4219685","nonce":"d802a5d6e0a44d91abe0803e42e5e7d8"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:25:17.982 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 17:25:17.982 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 17:25:17.982 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 17:25:17.982 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 17:25:17.984 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 17:25:17.986 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"24f914bb41004e6f9a030e8cd4219685","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 17:25:18.237 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:25:18.238 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:25:18.238 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:25:18.238 -05:00 [DBG] Start discovery request
2021-02-01 17:25:18.240 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:25:18.240 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:25:18.240 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:25:18.240 -05:00 [DBG] Start discovery request
2021-02-01 17:25:18.251 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:25:18.251 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:25:18.251 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:25:18.251 -05:00 [DBG] Start key discovery request
2021-02-01 17:25:18.251 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:25:18.251 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:25:18.251 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:25:18.251 -05:00 [DBG] Rendering check session result
2021-02-01 17:25:18.263 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:25:18.263 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:25:18.263 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:25:18.263 -05:00 [DBG] Start discovery request
2021-02-01 17:25:18.266 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 17:25:18.268 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 17:25:18.268 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 17:25:18.268 -05:00 [DBG] Start userinfo request
2021-02-01 17:25:18.268 -05:00 [DBG] Bearer token found in header
2021-02-01 17:25:18.268 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:25:18.269 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:25:18.270 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 17:25:18.270 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"55CFAD8A29D6D23E90D564315ABCB8E2","Claims":{"nbf":1612218317,"exp":1612221917,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612218273,"idp":"local","jti":"55CFAD8A29D6D23E90D564315ABCB8E2","sid":"53F955A43593A1CC7AFFE6B251DB5BA2","iat":1612218317,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 17:25:18.270 -05:00 [DBG] Creating userinfo response
2021-02-01 17:25:18.270 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 17:25:18.270 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 17:25:18.271 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 17:25:18.271 -05:00 [DBG] End userinfo request
2021-02-01 17:25:18.336 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:25:18.336 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:25:18.336 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:25:18.336 -05:00 [DBG] Start discovery request
2021-02-01 17:25:18.351 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:25:18.351 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:25:18.351 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:25:18.351 -05:00 [DBG] Rendering check session result
2021-02-01 17:25:21.710 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:25:21.710 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:25:21.710 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:25:21.710 -05:00 [DBG] Start discovery request
2021-02-01 17:25:21.720 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:25:21.720 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:25:21.720 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:25:21.720 -05:00 [DBG] Rendering check session result
2021-02-01 17:25:22.745 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:25:22.745 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:25:22.745 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:25:22.745 -05:00 [DBG] Start discovery request
2021-02-01 17:25:22.752 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:25:22.752 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:25:22.752 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:25:22.752 -05:00 [DBG] Rendering check session result
2021-02-01 17:26:10.925 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:26:10.926 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:26:10.926 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:26:10.926 -05:00 [DBG] Start discovery request
2021-02-01 17:26:10.936 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:26:10.936 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:26:10.936 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:26:10.936 -05:00 [DBG] Rendering check session result
2021-02-01 17:26:17.545 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:26:17.545 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:26:17.546 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:26:17.546 -05:00 [DBG] Start discovery request
2021-02-01 17:26:17.558 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:26:17.558 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:26:17.558 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:26:17.558 -05:00 [DBG] Rendering check session result
2021-02-01 17:26:17.558 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 17:26:17.559 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 17:26:17.559 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 17:26:17.560 -05:00 [DBG] Processing signout request for 4
2021-02-01 17:26:17.561 -05:00 [DBG] Start end session request validation
2021-02-01 17:26:17.562 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 17:26:17.562 -05:00 [DBG] Success validating end session request from null
2021-02-01 17:26:17.584 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 17:26:17.660 -05:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2021-02-01 17:26:17.660 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2021-02-01 17:26:17.660 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2021-02-01 17:26:17.661 -05:00 [DBG] Processing signout callback request
2021-02-01 17:26:17.664 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:26:17.664 -05:00 [DBG] No client front-channel logout URLs
2021-02-01 17:26:17.664 -05:00 [INF] Successful signout callback.
2021-02-01 17:26:18.440 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 17:26:18.484 -05:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2021-02-01 17:26:18.484 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2021-02-01 17:26:18.484 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2021-02-01 17:26:18.484 -05:00 [DBG] Processing signout callback request
2021-02-01 17:26:18.484 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:26:18.484 -05:00 [DBG] No client front-channel logout URLs
2021-02-01 17:26:18.484 -05:00 [INF] Successful signout callback.
2021-02-01 17:26:23.139 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:26:23.139 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:26:23.139 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:26:23.139 -05:00 [DBG] Start discovery request
2021-02-01 17:26:23.154 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:26:23.154 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:26:23.154 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:26:23.154 -05:00 [DBG] Start authorize request
2021-02-01 17:26:23.154 -05:00 [DBG] User in authorize request: 4
2021-02-01 17:26:23.154 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:26:23.154 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:26:23.154 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:26:23.154 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"eb829f85ae314acdb91842b030e791a4","UiLocales":null,"Nonce":"1a9d13a3d172441cbe23e97863f7805a","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"53F955A43593A1CC7AFFE6B251DB5BA2","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"eb829f85ae314acdb91842b030e791a4","nonce":"1a9d13a3d172441cbe23e97863f7805a"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:26:23.156 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 17:26:23.156 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 17:26:23.156 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 17:26:23.156 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 17:26:23.159 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 17:26:23.161 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"eb829f85ae314acdb91842b030e791a4","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 17:26:23.406 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:26:23.406 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:26:23.406 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:26:23.406 -05:00 [DBG] Start discovery request
2021-02-01 17:26:23.412 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:26:23.412 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:26:23.412 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:26:23.412 -05:00 [DBG] Start key discovery request
2021-02-01 17:26:23.427 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:26:23.427 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:26:23.427 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:26:23.427 -05:00 [DBG] Start discovery request
2021-02-01 17:26:23.433 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 17:26:23.433 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 17:26:23.433 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 17:26:23.433 -05:00 [DBG] Start userinfo request
2021-02-01 17:26:23.433 -05:00 [DBG] Bearer token found in header
2021-02-01 17:26:23.433 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:26:23.433 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:26:23.434 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 17:26:23.434 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"02875960CC1C5C18708C2F7BEFA2DC7E","Claims":{"nbf":1612218383,"exp":1612221983,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612218273,"idp":"local","jti":"02875960CC1C5C18708C2F7BEFA2DC7E","sid":"53F955A43593A1CC7AFFE6B251DB5BA2","iat":1612218383,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 17:26:23.434 -05:00 [DBG] Creating userinfo response
2021-02-01 17:26:23.434 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 17:26:23.434 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 17:26:23.435 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 17:26:23.435 -05:00 [DBG] End userinfo request
2021-02-01 17:26:23.438 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:26:23.439 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:26:23.439 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:26:23.439 -05:00 [DBG] Start discovery request
2021-02-01 17:26:23.449 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:26:23.449 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:26:23.449 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:26:23.449 -05:00 [DBG] Rendering check session result
2021-02-01 17:26:23.501 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:26:23.501 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:26:23.501 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:26:23.501 -05:00 [DBG] Start discovery request
2021-02-01 17:26:23.509 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:26:23.509 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:26:23.509 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:26:23.509 -05:00 [DBG] Rendering check session result
2021-02-01 17:27:25.945 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:27:25.946 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:27:25.946 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:27:25.946 -05:00 [DBG] Start discovery request
2021-02-01 17:27:26.067 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:27:26.067 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:27:26.067 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:27:26.067 -05:00 [DBG] Start key discovery request
2021-02-01 17:28:27.333 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 17:28:27.351 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 17:28:27.351 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 17:28:27.351 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 17:28:27.351 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 17:28:27.351 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 17:28:27.351 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 17:28:27.408 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 17:28:27.409 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 17:28:27.409 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 17:28:27.409 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 17:28:27.409 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 17:28:27.409 -05:00 [DBG] Error Url: /home/error
2021-02-01 17:28:27.409 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 17:28:35.444 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:28:35.445 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:28:35.446 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:28:35.446 -05:00 [DBG] Start discovery request
2021-02-01 17:28:35.569 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:28:35.569 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:28:35.569 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:28:35.570 -05:00 [DBG] Start key discovery request
2021-02-01 17:28:49.327 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 17:28:49.345 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 17:28:49.345 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 17:28:49.345 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 17:28:49.345 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 17:28:49.345 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 17:28:49.345 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 17:28:49.403 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 17:28:49.404 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 17:28:49.404 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 17:28:49.404 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 17:28:49.404 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 17:28:49.404 -05:00 [DBG] Error Url: /home/error
2021-02-01 17:28:49.404 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 17:29:03.465 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 17:29:03.483 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 17:29:03.484 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 17:29:03.484 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 17:29:03.484 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 17:29:03.484 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 17:29:03.484 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 17:29:03.540 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 17:29:03.541 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 17:29:03.541 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 17:29:03.541 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 17:29:03.541 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 17:29:03.541 -05:00 [DBG] Error Url: /home/error
2021-02-01 17:29:03.541 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 17:29:03.548 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:29:03.555 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:29:03.555 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:29:03.555 -05:00 [DBG] Start discovery request
2021-02-01 17:29:03.681 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:29:03.681 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:29:03.681 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:29:03.682 -05:00 [DBG] Start key discovery request
2021-02-01 17:30:00.206 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 17:30:00.223 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 17:30:00.223 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 17:30:00.223 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 17:30:00.223 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 17:30:00.223 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 17:30:00.224 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 17:30:00.279 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 17:30:00.279 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 17:30:00.279 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 17:30:00.279 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 17:30:00.279 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 17:30:00.279 -05:00 [DBG] Error Url: /home/error
2021-02-01 17:30:00.280 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 17:30:00.287 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:30:00.294 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:30:00.294 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:30:00.294 -05:00 [DBG] Start discovery request
2021-02-01 17:30:00.420 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:30:00.420 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:30:00.420 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:30:00.421 -05:00 [DBG] Start key discovery request
2021-02-01 17:30:04.058 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:30:04.058 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:30:04.058 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:30:04.058 -05:00 [DBG] Start discovery request
2021-02-01 17:30:04.075 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 17:30:04.075 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:30:04.076 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:30:04.076 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:30:04.076 -05:00 [DBG] Rendering check session result
2021-02-01 17:30:04.077 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 17:30:04.077 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 17:30:04.081 -05:00 [DBG] Processing signout request for 4
2021-02-01 17:30:04.082 -05:00 [DBG] Start end session request validation
2021-02-01 17:30:04.089 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 17:30:04.093 -05:00 [DBG] Success validating end session request from null
2021-02-01 17:30:04.172 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 17:30:04.298 -05:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2021-02-01 17:30:04.298 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2021-02-01 17:30:04.298 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2021-02-01 17:30:04.299 -05:00 [DBG] Processing signout callback request
2021-02-01 17:30:04.306 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:30:04.306 -05:00 [DBG] No client front-channel logout URLs
2021-02-01 17:30:04.307 -05:00 [INF] Successful signout callback.
2021-02-01 17:30:05.374 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 17:30:05.451 -05:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2021-02-01 17:30:05.451 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2021-02-01 17:30:05.452 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2021-02-01 17:30:05.452 -05:00 [DBG] Processing signout callback request
2021-02-01 17:30:05.452 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:30:05.452 -05:00 [DBG] No client front-channel logout URLs
2021-02-01 17:30:05.452 -05:00 [INF] Successful signout callback.
2021-02-01 17:30:08.779 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:30:08.780 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:30:08.780 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:30:08.780 -05:00 [DBG] Start discovery request
2021-02-01 17:30:08.793 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:30:08.794 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:30:08.794 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:30:08.795 -05:00 [DBG] Start authorize request
2021-02-01 17:30:08.796 -05:00 [DBG] User in authorize request: 4
2021-02-01 17:30:08.797 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:30:08.798 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:30:08.812 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:30:08.815 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"a261fa8360fe4e2eabf2795d401f5687","UiLocales":null,"Nonce":"25b07e4d034547dfaadc0a133b0c0e03","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"53F955A43593A1CC7AFFE6B251DB5BA2","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"a261fa8360fe4e2eabf2795d401f5687","nonce":"25b07e4d034547dfaadc0a133b0c0e03"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:30:09.168 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 17:30:09.170 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 17:30:09.175 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 17:30:09.176 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 17:30:09.275 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 17:30:09.283 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"a261fa8360fe4e2eabf2795d401f5687","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 17:30:09.682 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:30:09.682 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:30:09.682 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:30:09.682 -05:00 [DBG] Start discovery request
2021-02-01 17:30:09.690 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:30:09.690 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:30:09.690 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:30:09.690 -05:00 [DBG] Start key discovery request
2021-02-01 17:30:09.704 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:30:09.704 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:30:09.704 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:30:09.704 -05:00 [DBG] Start discovery request
2021-02-01 17:30:09.709 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 17:30:09.710 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 17:30:09.710 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 17:30:09.711 -05:00 [DBG] Start userinfo request
2021-02-01 17:30:09.712 -05:00 [DBG] Bearer token found in header
2021-02-01 17:30:09.743 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:30:09.744 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:30:09.770 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 17:30:09.771 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"33F7C090D2EC721FBD3460F16A37E7A6","Claims":{"nbf":1612218609,"exp":1612222209,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612218273,"idp":"local","jti":"33F7C090D2EC721FBD3460F16A37E7A6","sid":"53F955A43593A1CC7AFFE6B251DB5BA2","iat":1612218609,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 17:30:09.773 -05:00 [DBG] Creating userinfo response
2021-02-01 17:30:09.773 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 17:30:09.774 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 17:30:09.776 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 17:30:09.776 -05:00 [DBG] End userinfo request
2021-02-01 17:30:09.782 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:30:09.782 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:30:09.782 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:30:09.782 -05:00 [DBG] Start discovery request
2021-02-01 17:30:09.791 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:30:09.792 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:30:09.792 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:30:09.792 -05:00 [DBG] Rendering check session result
2021-02-01 17:30:09.856 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:30:09.857 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:30:09.857 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:30:09.857 -05:00 [DBG] Start discovery request
2021-02-01 17:30:09.864 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:30:09.865 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:30:09.865 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:30:09.865 -05:00 [DBG] Rendering check session result
2021-02-01 17:30:21.692 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:30:21.692 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:30:21.692 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:30:21.692 -05:00 [DBG] Start discovery request
2021-02-01 17:30:21.703 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:30:21.703 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:30:21.703 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:30:21.703 -05:00 [DBG] Rendering check session result
2021-02-01 17:30:23.228 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:30:23.229 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:30:23.229 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:30:23.229 -05:00 [DBG] Start discovery request
2021-02-01 17:30:23.237 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:30:23.237 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:30:23.237 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:30:23.237 -05:00 [DBG] Rendering check session result
2021-02-01 17:30:54.430 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 17:30:54.451 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 17:30:54.451 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 17:30:54.451 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 17:30:54.451 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 17:30:54.451 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 17:30:54.451 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 17:30:54.511 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 17:30:54.512 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 17:30:54.512 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 17:30:54.512 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 17:30:54.512 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 17:30:54.512 -05:00 [DBG] Error Url: /home/error
2021-02-01 17:30:54.512 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 17:31:01.068 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:31:01.069 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:31:01.069 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:31:01.070 -05:00 [DBG] Start discovery request
2021-02-01 17:31:01.191 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:31:01.191 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:31:01.191 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:31:01.192 -05:00 [DBG] Start key discovery request
2021-02-01 17:31:03.925 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:31:03.925 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:31:03.926 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:31:03.926 -05:00 [DBG] Start discovery request
2021-02-01 17:31:03.934 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:31:03.934 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:31:03.934 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:31:03.935 -05:00 [DBG] Rendering check session result
2021-02-01 17:31:04.759 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:31:04.766 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:31:04.766 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:31:04.766 -05:00 [DBG] Start discovery request
2021-02-01 17:31:05.060 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:31:05.060 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:31:05.060 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:31:05.060 -05:00 [DBG] Rendering check session result
2021-02-01 17:31:05.749 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:31:05.749 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:31:05.749 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:31:05.749 -05:00 [DBG] Start discovery request
2021-02-01 17:31:05.761 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:31:05.761 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:31:05.761 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:31:05.761 -05:00 [DBG] Rendering check session result
2021-02-01 17:31:05.761 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 17:31:05.762 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 17:31:05.762 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 17:31:05.765 -05:00 [DBG] Processing signout request for 4
2021-02-01 17:31:05.767 -05:00 [DBG] Start end session request validation
2021-02-01 17:31:05.773 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 17:31:05.777 -05:00 [DBG] Success validating end session request from null
2021-02-01 17:31:05.822 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 17:31:05.916 -05:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2021-02-01 17:31:05.916 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2021-02-01 17:31:05.916 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2021-02-01 17:31:05.917 -05:00 [DBG] Processing signout callback request
2021-02-01 17:31:05.924 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:31:05.924 -05:00 [DBG] No client front-channel logout URLs
2021-02-01 17:31:05.924 -05:00 [INF] Successful signout callback.
2021-02-01 17:31:06.638 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 17:31:06.717 -05:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2021-02-01 17:31:06.717 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2021-02-01 17:31:06.717 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2021-02-01 17:31:06.717 -05:00 [DBG] Processing signout callback request
2021-02-01 17:31:06.717 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:31:06.717 -05:00 [DBG] No client front-channel logout URLs
2021-02-01 17:31:06.717 -05:00 [INF] Successful signout callback.
2021-02-01 17:31:10.724 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:31:10.724 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:31:10.724 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:31:10.724 -05:00 [DBG] Start discovery request
2021-02-01 17:31:10.739 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:31:10.739 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:31:10.739 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:31:10.740 -05:00 [DBG] Start authorize request
2021-02-01 17:31:10.741 -05:00 [DBG] User in authorize request: 4
2021-02-01 17:31:10.742 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:31:10.743 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:31:10.758 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:31:10.761 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"f61c21cbb90b498fb91b146dea87b0de","UiLocales":null,"Nonce":"50cd789338e8427e985faf9768cede1d","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"53F955A43593A1CC7AFFE6B251DB5BA2","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"f61c21cbb90b498fb91b146dea87b0de","nonce":"50cd789338e8427e985faf9768cede1d"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:31:11.119 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 17:31:11.121 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 17:31:11.127 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 17:31:11.128 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 17:31:11.233 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 17:31:11.242 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"f61c21cbb90b498fb91b146dea87b0de","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 17:31:11.581 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:31:11.581 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:31:11.581 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:31:11.581 -05:00 [DBG] Start discovery request
2021-02-01 17:31:11.592 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:31:11.592 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:31:11.592 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:31:11.592 -05:00 [DBG] Start key discovery request
2021-02-01 17:31:11.608 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:31:11.608 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:31:11.608 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:31:11.608 -05:00 [DBG] Start discovery request
2021-02-01 17:31:11.615 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 17:31:11.616 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 17:31:11.616 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 17:31:11.617 -05:00 [DBG] Start userinfo request
2021-02-01 17:31:11.618 -05:00 [DBG] Bearer token found in header
2021-02-01 17:31:11.653 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:31:11.655 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:31:11.683 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 17:31:11.683 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"9695CB313A2A58A3AE26EC08A414E52B","Claims":{"nbf":1612218671,"exp":1612222271,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612218273,"idp":"local","jti":"9695CB313A2A58A3AE26EC08A414E52B","sid":"53F955A43593A1CC7AFFE6B251DB5BA2","iat":1612218671,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 17:31:11.685 -05:00 [DBG] Creating userinfo response
2021-02-01 17:31:11.686 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 17:31:11.687 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 17:31:11.691 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 17:31:11.691 -05:00 [DBG] End userinfo request
2021-02-01 17:31:11.697 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:31:11.697 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:31:11.697 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:31:11.697 -05:00 [DBG] Start discovery request
2021-02-01 17:31:11.705 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:31:11.705 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:31:11.705 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:31:11.705 -05:00 [DBG] Rendering check session result
2021-02-01 17:31:12.038 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:31:12.038 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:31:12.038 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:31:12.038 -05:00 [DBG] Start discovery request
2021-02-01 17:31:12.057 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:31:12.057 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:31:12.057 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:31:12.057 -05:00 [DBG] Rendering check session result
2021-02-01 17:31:13.656 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:31:13.656 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:31:13.656 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:31:13.656 -05:00 [DBG] Start discovery request
2021-02-01 17:31:13.673 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:31:13.673 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:31:13.673 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:31:13.673 -05:00 [DBG] Rendering check session result
2021-02-01 17:31:16.330 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:31:16.330 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:31:16.330 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:31:16.330 -05:00 [DBG] Start discovery request
2021-02-01 17:31:16.346 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:31:16.346 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:31:16.346 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:31:16.346 -05:00 [DBG] Rendering check session result
2021-02-01 17:31:29.148 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 17:31:29.166 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 17:31:29.166 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 17:31:29.166 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 17:31:29.166 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 17:31:29.166 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 17:31:29.166 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 17:31:29.221 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 17:31:29.222 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 17:31:29.222 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 17:31:29.222 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 17:31:29.222 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 17:31:29.222 -05:00 [DBG] Error Url: /home/error
2021-02-01 17:31:29.222 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 17:31:29.229 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:31:29.234 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:31:29.235 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:31:29.235 -05:00 [DBG] Start discovery request
2021-02-01 17:31:29.359 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:31:29.360 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:31:29.360 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:31:29.361 -05:00 [DBG] Start key discovery request
2021-02-01 17:31:29.788 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:31:29.789 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:31:29.789 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:31:29.789 -05:00 [DBG] Start discovery request
2021-02-01 17:31:29.804 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:31:29.804 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:31:29.804 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:31:29.804 -05:00 [DBG] Rendering check session result
2021-02-01 17:31:31.375 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 17:31:31.498 -05:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2021-02-01 17:31:31.499 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2021-02-01 17:31:31.499 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2021-02-01 17:31:31.500 -05:00 [DBG] Processing signout callback request
2021-02-01 17:31:31.507 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:31:31.508 -05:00 [DBG] No client front-channel logout URLs
2021-02-01 17:31:31.508 -05:00 [INF] Successful signout callback.
2021-02-01 17:31:34.024 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:31:34.025 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:31:34.025 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:31:34.025 -05:00 [DBG] Start discovery request
2021-02-01 17:31:34.039 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:31:34.039 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:31:34.039 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:31:34.040 -05:00 [DBG] Rendering check session result
2021-02-01 17:31:34.040 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 17:31:34.040 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 17:31:34.040 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 17:31:34.041 -05:00 [DBG] Processing signout request for 4
2021-02-01 17:31:34.042 -05:00 [DBG] Start end session request validation
2021-02-01 17:31:34.047 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 17:31:34.051 -05:00 [DBG] Success validating end session request from null
2021-02-01 17:31:34.061 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 17:31:34.190 -05:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2021-02-01 17:31:34.190 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2021-02-01 17:31:34.190 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2021-02-01 17:31:34.190 -05:00 [DBG] Processing signout callback request
2021-02-01 17:31:34.191 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:31:34.191 -05:00 [DBG] No client front-channel logout URLs
2021-02-01 17:31:34.191 -05:00 [INF] Successful signout callback.
2021-02-01 17:31:34.719 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 17:31:34.790 -05:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2021-02-01 17:31:34.791 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2021-02-01 17:31:34.791 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2021-02-01 17:31:34.791 -05:00 [DBG] Processing signout callback request
2021-02-01 17:31:34.792 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:31:34.792 -05:00 [DBG] No client front-channel logout URLs
2021-02-01 17:31:34.792 -05:00 [INF] Successful signout callback.
2021-02-01 17:31:39.381 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:31:39.381 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:31:39.381 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:31:39.381 -05:00 [DBG] Start discovery request
2021-02-01 17:31:39.396 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:31:39.396 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:31:39.396 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:31:39.397 -05:00 [DBG] Start authorize request
2021-02-01 17:31:39.398 -05:00 [DBG] User in authorize request: 4
2021-02-01 17:31:39.399 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:31:39.400 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:31:39.414 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:31:39.417 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"ae034beaa79c4c9da6e2414169e6499d","UiLocales":null,"Nonce":"d90bc64efe5b4b5b9daaf1f5fa14c3bb","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"53F955A43593A1CC7AFFE6B251DB5BA2","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"ae034beaa79c4c9da6e2414169e6499d","nonce":"d90bc64efe5b4b5b9daaf1f5fa14c3bb"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:31:39.769 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 17:31:39.771 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 17:31:39.776 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 17:31:39.777 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 17:31:39.876 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 17:31:39.883 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"ae034beaa79c4c9da6e2414169e6499d","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 17:31:40.225 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:31:40.225 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:31:40.225 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:31:40.225 -05:00 [DBG] Start discovery request
2021-02-01 17:31:40.233 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:31:40.233 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:31:40.233 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:31:40.233 -05:00 [DBG] Start key discovery request
2021-02-01 17:31:40.248 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:31:40.248 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:31:40.248 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:31:40.248 -05:00 [DBG] Start discovery request
2021-02-01 17:31:40.254 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 17:31:40.254 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 17:31:40.254 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 17:31:40.255 -05:00 [DBG] Start userinfo request
2021-02-01 17:31:40.256 -05:00 [DBG] Bearer token found in header
2021-02-01 17:31:40.287 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:31:40.288 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:31:40.313 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 17:31:40.314 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"41B94D23469EB697BFBE2FC7AA621F17","Claims":{"nbf":1612218699,"exp":1612222299,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612218273,"idp":"local","jti":"41B94D23469EB697BFBE2FC7AA621F17","sid":"53F955A43593A1CC7AFFE6B251DB5BA2","iat":1612218699,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 17:31:40.316 -05:00 [DBG] Creating userinfo response
2021-02-01 17:31:40.317 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 17:31:40.318 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 17:31:40.320 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 17:31:40.320 -05:00 [DBG] End userinfo request
2021-02-01 17:31:40.325 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:31:40.325 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:31:40.325 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:31:40.325 -05:00 [DBG] Start discovery request
2021-02-01 17:31:40.334 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:31:40.334 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:31:40.334 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:31:40.334 -05:00 [DBG] Rendering check session result
2021-02-01 17:31:40.398 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:31:40.398 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:31:40.398 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:31:40.398 -05:00 [DBG] Start discovery request
2021-02-01 17:31:40.407 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:31:40.407 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:31:40.407 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:31:40.407 -05:00 [DBG] Rendering check session result
2021-02-01 17:31:48.583 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:31:48.583 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:31:48.583 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:31:48.583 -05:00 [DBG] Start discovery request
2021-02-01 17:32:08.950 -05:00 [DBG] 0 persisted grants found for {"SubjectId":"4","SessionId":null,"ClientId":null,"Type":null,"$type":"PersistedGrantFilter"}
2021-02-01 17:33:57.109 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 17:33:57.127 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 17:33:57.128 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 17:33:57.128 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 17:33:57.128 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 17:33:57.128 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 17:33:57.128 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 17:33:57.187 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 17:33:57.188 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 17:33:57.188 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 17:33:57.188 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 17:33:57.188 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 17:33:57.188 -05:00 [DBG] Error Url: /home/error
2021-02-01 17:33:57.188 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 17:33:59.300 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 17:33:59.341 -05:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2021-02-01 17:33:59.342 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2021-02-01 17:33:59.342 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2021-02-01 17:33:59.343 -05:00 [DBG] Processing signout callback request
2021-02-01 17:33:59.353 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:33:59.353 -05:00 [DBG] No client front-channel logout URLs
2021-02-01 17:33:59.353 -05:00 [INF] Successful signout callback.
2021-02-01 17:34:02.615 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:34:02.616 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:34:02.616 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:34:02.617 -05:00 [DBG] Start discovery request
2021-02-01 17:34:02.725 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:34:02.725 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:34:02.725 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:34:02.726 -05:00 [DBG] Start key discovery request
2021-02-01 17:34:04.163 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:34:04.163 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:34:04.163 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:34:04.163 -05:00 [DBG] Start discovery request
2021-02-01 17:34:04.178 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:34:04.178 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 17:34:04.178 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:34:04.178 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:34:04.178 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 17:34:04.178 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 17:34:04.179 -05:00 [DBG] Rendering check session result
2021-02-01 17:34:04.180 -05:00 [DBG] Processing signout request for 4
2021-02-01 17:34:04.181 -05:00 [DBG] Start end session request validation
2021-02-01 17:34:04.186 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 17:34:04.190 -05:00 [DBG] Success validating end session request from null
2021-02-01 17:34:04.204 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 17:34:04.284 -05:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2021-02-01 17:34:04.285 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2021-02-01 17:34:04.285 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2021-02-01 17:34:04.285 -05:00 [DBG] Processing signout callback request
2021-02-01 17:34:04.285 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:34:04.285 -05:00 [DBG] No client front-channel logout URLs
2021-02-01 17:34:04.285 -05:00 [INF] Successful signout callback.
2021-02-01 17:34:39.504 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 17:34:39.522 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 17:34:39.522 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 17:34:39.522 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 17:34:39.522 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 17:34:39.522 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 17:34:39.522 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 17:34:39.584 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 17:34:39.584 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 17:34:39.585 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 17:34:39.585 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 17:34:39.585 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 17:34:39.585 -05:00 [DBG] Error Url: /home/error
2021-02-01 17:34:39.585 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 17:34:39.593 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:34:39.600 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:34:39.600 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:34:39.600 -05:00 [DBG] Start discovery request
2021-02-01 17:34:39.653 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:34:39.656 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:34:39.656 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:34:39.657 -05:00 [DBG] Start authorize request
2021-02-01 17:34:39.660 -05:00 [DBG] User in authorize request: 4
2021-02-01 17:34:39.661 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:34:39.667 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:34:39.683 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:34:39.689 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"36ab01f9e7ac46bdbcf120e3c5e5e0ed","UiLocales":null,"Nonce":"8f2584897801468d86eb125e6978d711","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"53F955A43593A1CC7AFFE6B251DB5BA2","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"36ab01f9e7ac46bdbcf120e3c5e5e0ed","nonce":"8f2584897801468d86eb125e6978d711"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:34:40.050 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 17:34:40.052 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 17:34:40.058 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 17:34:40.058 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 17:34:40.158 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 17:34:40.166 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"36ab01f9e7ac46bdbcf120e3c5e5e0ed","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 17:34:40.803 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:34:40.804 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:34:40.804 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:34:40.804 -05:00 [DBG] Start discovery request
2021-02-01 17:34:40.812 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:34:40.813 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:34:40.813 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:34:40.813 -05:00 [DBG] Start key discovery request
2021-02-01 17:34:40.835 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:34:40.841 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:34:40.841 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:34:40.841 -05:00 [DBG] Start discovery request
2021-02-01 17:34:40.848 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 17:34:40.849 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 17:34:40.849 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 17:34:40.850 -05:00 [DBG] Start userinfo request
2021-02-01 17:34:40.851 -05:00 [DBG] Bearer token found in header
2021-02-01 17:34:40.881 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:34:40.882 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:34:40.907 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 17:34:40.908 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"6295017B1B71B97E9BE52FB31C28D649","Claims":{"nbf":1612218880,"exp":1612222480,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612218273,"idp":"local","customerId":"4","jti":"6295017B1B71B97E9BE52FB31C28D649","sid":"53F955A43593A1CC7AFFE6B251DB5BA2","iat":1612218880,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 17:34:40.910 -05:00 [DBG] Creating userinfo response
2021-02-01 17:34:40.911 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 17:34:40.912 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 17:34:40.914 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified customerId
2021-02-01 17:34:40.914 -05:00 [DBG] End userinfo request
2021-02-01 17:34:40.919 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:34:40.919 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:34:40.920 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:34:40.920 -05:00 [DBG] Start discovery request
2021-02-01 17:34:40.928 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:34:40.929 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:34:40.929 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:34:40.929 -05:00 [DBG] Rendering check session result
2021-02-01 17:34:40.992 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:34:40.992 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:34:40.992 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:34:40.992 -05:00 [DBG] Start discovery request
2021-02-01 17:34:41.000 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:34:41.000 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:34:41.000 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:34:41.000 -05:00 [DBG] Rendering check session result
2021-02-01 17:34:42.076 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:34:42.076 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:34:42.076 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:34:42.076 -05:00 [DBG] Start discovery request
2021-02-01 17:34:42.166 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:34:42.166 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:34:42.166 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:34:42.166 -05:00 [DBG] Start key discovery request
2021-02-01 17:34:52.048 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:34:52.048 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:34:52.048 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:34:52.048 -05:00 [DBG] Start discovery request
2021-02-01 17:34:52.058 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:34:52.058 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:34:52.058 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:34:52.058 -05:00 [DBG] Rendering check session result
2021-02-01 17:34:52.256 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:34:52.256 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:34:52.256 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:34:52.256 -05:00 [DBG] Start discovery request
2021-02-01 17:34:52.376 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:34:52.377 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:34:52.377 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:34:52.377 -05:00 [DBG] Start key discovery request
2021-02-01 17:36:23.041 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 17:36:23.058 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 17:36:23.058 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 17:36:23.058 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 17:36:23.058 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 17:36:23.058 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 17:36:23.058 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 17:36:23.113 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 17:36:23.114 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 17:36:23.114 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 17:36:23.114 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 17:36:23.114 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 17:36:23.114 -05:00 [DBG] Error Url: /home/error
2021-02-01 17:36:23.114 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 17:36:23.122 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:36:23.128 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:36:23.128 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:36:23.129 -05:00 [DBG] Start discovery request
2021-02-01 17:36:23.254 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:36:23.255 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:36:23.255 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:36:23.255 -05:00 [DBG] Start key discovery request
2021-02-01 17:41:21.189 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 17:41:21.207 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 17:41:21.207 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 17:41:21.207 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 17:41:21.207 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 17:41:21.207 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 17:41:21.207 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 17:41:21.264 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 17:41:21.265 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 17:41:21.265 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 17:41:21.265 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 17:41:21.265 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 17:41:21.265 -05:00 [DBG] Error Url: /home/error
2021-02-01 17:41:21.265 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 17:41:21.273 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:41:21.280 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:41:21.280 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:41:21.280 -05:00 [DBG] Start discovery request
2021-02-01 17:41:21.407 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:41:21.408 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:41:21.408 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:41:21.408 -05:00 [DBG] Start key discovery request
2021-02-01 17:41:31.386 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 17:41:31.405 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 17:41:31.405 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 17:41:31.405 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 17:41:31.405 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 17:41:31.405 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 17:41:31.405 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 17:41:31.462 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 17:41:31.462 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 17:41:31.463 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 17:41:31.463 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 17:41:31.463 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 17:41:31.463 -05:00 [DBG] Error Url: /home/error
2021-02-01 17:41:31.463 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 17:41:31.470 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:41:31.477 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:41:31.477 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:41:31.478 -05:00 [DBG] Start discovery request
2021-02-01 17:41:31.607 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:41:31.607 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:41:31.607 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:41:31.608 -05:00 [DBG] Start key discovery request
2021-02-01 17:41:48.884 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:41:48.884 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:41:48.884 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:41:48.884 -05:00 [DBG] Start discovery request
2021-02-01 17:41:49.496 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:41:49.496 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:41:49.496 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:41:49.496 -05:00 [DBG] Rendering check session result
2021-02-01 17:41:49.938 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:41:49.945 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:41:49.945 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:41:49.945 -05:00 [DBG] Start discovery request
2021-02-01 17:41:50.169 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:41:50.169 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:41:50.170 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:41:50.170 -05:00 [DBG] Rendering check session result
2021-02-01 17:42:16.062 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 17:42:16.080 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 17:42:16.080 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 17:42:16.080 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 17:42:16.080 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 17:42:16.080 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 17:42:16.080 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 17:42:16.136 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 17:42:16.137 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 17:42:16.137 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 17:42:16.137 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 17:42:16.137 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 17:42:16.137 -05:00 [DBG] Error Url: /home/error
2021-02-01 17:42:16.137 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 17:42:16.145 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:42:16.152 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:42:16.152 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:42:16.153 -05:00 [DBG] Start discovery request
2021-02-01 17:42:16.280 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:42:16.280 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:42:16.280 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:42:16.281 -05:00 [DBG] Start key discovery request
2021-02-01 17:42:29.611 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:42:29.611 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:42:29.611 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:42:29.611 -05:00 [DBG] Start discovery request
2021-02-01 17:42:30.302 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:42:30.302 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:42:30.302 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:42:30.302 -05:00 [DBG] Rendering check session result
2021-02-01 17:42:31.800 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:42:31.806 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:42:31.806 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:42:31.806 -05:00 [DBG] Start discovery request
2021-02-01 17:42:31.818 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:42:31.818 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:42:31.818 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:42:31.818 -05:00 [DBG] Rendering check session result
2021-02-01 17:42:31.819 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 17:42:31.820 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 17:42:31.820 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 17:42:31.823 -05:00 [DBG] Processing signout request for 4
2021-02-01 17:42:31.825 -05:00 [DBG] Start end session request validation
2021-02-01 17:42:31.831 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 17:42:31.835 -05:00 [DBG] Success validating end session request from null
2021-02-01 17:42:31.904 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 17:42:31.990 -05:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2021-02-01 17:42:31.990 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2021-02-01 17:42:31.990 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2021-02-01 17:42:31.991 -05:00 [DBG] Processing signout callback request
2021-02-01 17:42:31.999 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:42:31.999 -05:00 [DBG] No client front-channel logout URLs
2021-02-01 17:42:31.999 -05:00 [INF] Successful signout callback.
2021-02-01 17:42:32.588 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 17:42:32.626 -05:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2021-02-01 17:42:32.626 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2021-02-01 17:42:32.626 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2021-02-01 17:42:32.626 -05:00 [DBG] Processing signout callback request
2021-02-01 17:42:32.626 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:42:32.626 -05:00 [DBG] No client front-channel logout URLs
2021-02-01 17:42:32.626 -05:00 [INF] Successful signout callback.
2021-02-01 17:42:34.774 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 17:42:34.810 -05:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2021-02-01 17:42:34.811 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2021-02-01 17:42:34.811 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2021-02-01 17:42:34.811 -05:00 [DBG] Processing signout callback request
2021-02-01 17:42:34.811 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:42:34.811 -05:00 [DBG] No client front-channel logout URLs
2021-02-01 17:42:34.811 -05:00 [INF] Successful signout callback.
2021-02-01 17:48:58.672 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 17:48:58.690 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 17:48:58.690 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 17:48:58.690 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 17:48:58.690 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 17:48:58.690 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 17:48:58.690 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 17:48:58.750 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 17:48:58.751 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 17:48:58.751 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 17:48:58.751 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 17:48:58.751 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 17:48:58.751 -05:00 [DBG] Error Url: /home/error
2021-02-01 17:48:58.751 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 17:48:58.758 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:48:58.765 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:48:58.765 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:48:58.766 -05:00 [DBG] Start discovery request
2021-02-01 17:48:58.856 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:48:58.859 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:48:58.860 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:48:58.860 -05:00 [DBG] Start authorize request
2021-02-01 17:48:58.863 -05:00 [DBG] User in authorize request: 4
2021-02-01 17:48:58.864 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:48:58.870 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:48:58.884 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:48:58.891 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"2e5205fc32b14c7cb08ca877131caa86","UiLocales":null,"Nonce":"ae540060730e4fd6873aacc8296d5d33","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"53F955A43593A1CC7AFFE6B251DB5BA2","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"2e5205fc32b14c7cb08ca877131caa86","nonce":"ae540060730e4fd6873aacc8296d5d33"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:48:59.257 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 17:48:59.259 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 17:48:59.265 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 17:48:59.265 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 17:48:59.365 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 17:48:59.365 -05:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2021-02-01 17:48:59.369 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"2e5205fc32b14c7cb08ca877131caa86","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 17:48:59.625 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:48:59.626 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:48:59.626 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:48:59.626 -05:00 [DBG] Start discovery request
2021-02-01 17:48:59.633 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:48:59.634 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:48:59.634 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:48:59.634 -05:00 [DBG] Start key discovery request
2021-02-01 17:48:59.653 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:48:59.659 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:48:59.659 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:48:59.659 -05:00 [DBG] Start discovery request
2021-02-01 17:48:59.665 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 17:48:59.666 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 17:48:59.666 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 17:48:59.667 -05:00 [DBG] Start userinfo request
2021-02-01 17:48:59.668 -05:00 [DBG] Bearer token found in header
2021-02-01 17:48:59.698 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:48:59.699 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:48:59.725 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 17:48:59.726 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"F4516947E7E269663D65C1D42B6384F0","Claims":{"nbf":1612219739,"exp":1612223339,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612218273,"idp":"local","jti":"F4516947E7E269663D65C1D42B6384F0","sid":"53F955A43593A1CC7AFFE6B251DB5BA2","iat":1612219739,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 17:48:59.729 -05:00 [DBG] Creating userinfo response
2021-02-01 17:48:59.729 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 17:48:59.731 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 17:48:59.733 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 17:48:59.733 -05:00 [DBG] End userinfo request
2021-02-01 17:48:59.738 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:48:59.738 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:48:59.738 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:48:59.738 -05:00 [DBG] Start discovery request
2021-02-01 17:48:59.749 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:48:59.750 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:48:59.750 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:48:59.750 -05:00 [DBG] Rendering check session result
2021-02-01 17:48:59.794 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:48:59.794 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:48:59.794 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:48:59.794 -05:00 [DBG] Start discovery request
2021-02-01 17:48:59.801 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:48:59.801 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:48:59.801 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:48:59.801 -05:00 [DBG] Rendering check session result
2021-02-01 17:49:00.894 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:49:00.894 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:49:00.894 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:49:00.894 -05:00 [DBG] Start discovery request
2021-02-01 17:49:00.983 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:49:00.983 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:49:00.983 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:49:00.983 -05:00 [DBG] Start key discovery request
2021-02-01 17:49:03.135 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:49:03.135 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:49:03.135 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:49:03.135 -05:00 [DBG] Start discovery request
2021-02-01 17:49:03.146 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:49:03.146 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:49:03.146 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:49:03.146 -05:00 [DBG] Rendering check session result
2021-02-01 17:49:03.147 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 17:49:03.147 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 17:49:03.147 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 17:49:03.148 -05:00 [DBG] Processing signout request for 4
2021-02-01 17:49:03.149 -05:00 [DBG] Start end session request validation
2021-02-01 17:49:03.150 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 17:49:03.150 -05:00 [DBG] Success validating end session request from null
2021-02-01 17:49:03.213 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 17:49:03.303 -05:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2021-02-01 17:49:03.303 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2021-02-01 17:49:03.303 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2021-02-01 17:49:03.304 -05:00 [DBG] Processing signout callback request
2021-02-01 17:49:03.307 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:49:03.307 -05:00 [DBG] No client front-channel logout URLs
2021-02-01 17:49:03.307 -05:00 [INF] Successful signout callback.
2021-02-01 17:49:33.664 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:49:33.664 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:49:33.664 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:49:33.664 -05:00 [DBG] Start discovery request
2021-02-01 17:49:33.679 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:49:33.680 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:49:33.680 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:49:33.680 -05:00 [DBG] Start authorize request
2021-02-01 17:49:33.680 -05:00 [DBG] User in authorize request: 4
2021-02-01 17:49:33.680 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:49:33.680 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:49:33.680 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:49:33.680 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"383b1288f7d64b1e8a042fbacf43702b","UiLocales":null,"Nonce":"768b4e6a7c60427f8ddd6848fa80387c","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"53F955A43593A1CC7AFFE6B251DB5BA2","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"383b1288f7d64b1e8a042fbacf43702b","nonce":"768b4e6a7c60427f8ddd6848fa80387c"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:49:33.682 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 17:49:33.682 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 17:49:33.682 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 17:49:33.682 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 17:49:33.684 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 17:49:33.684 -05:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2021-02-01 17:49:33.685 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"383b1288f7d64b1e8a042fbacf43702b","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 17:49:33.941 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:49:33.941 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:49:33.941 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:49:33.941 -05:00 [DBG] Start discovery request
2021-02-01 17:49:33.948 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:49:33.949 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:49:33.949 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:49:33.949 -05:00 [DBG] Start key discovery request
2021-02-01 17:49:33.963 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:49:33.963 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:49:33.963 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:49:33.963 -05:00 [DBG] Start discovery request
2021-02-01 17:49:33.968 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 17:49:33.968 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 17:49:33.968 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 17:49:33.968 -05:00 [DBG] Start userinfo request
2021-02-01 17:49:33.968 -05:00 [DBG] Bearer token found in header
2021-02-01 17:49:33.968 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:49:33.968 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:49:33.970 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 17:49:33.970 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"7965017B72C5E7E29A191559DD9BB1AC","Claims":{"nbf":1612219773,"exp":1612223373,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612218273,"idp":"local","jti":"7965017B72C5E7E29A191559DD9BB1AC","sid":"53F955A43593A1CC7AFFE6B251DB5BA2","iat":1612219773,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 17:49:33.970 -05:00 [DBG] Creating userinfo response
2021-02-01 17:49:33.970 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 17:49:33.970 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 17:49:33.971 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 17:49:33.971 -05:00 [DBG] End userinfo request
2021-02-01 17:49:33.975 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:49:33.976 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:49:33.976 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:49:33.976 -05:00 [DBG] Start discovery request
2021-02-01 17:49:33.989 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:49:33.989 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:49:33.989 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:49:33.989 -05:00 [DBG] Rendering check session result
2021-02-01 17:49:34.034 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:49:34.034 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:49:34.034 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:49:34.034 -05:00 [DBG] Start discovery request
2021-02-01 17:49:34.041 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:49:34.041 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:49:34.041 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:49:34.041 -05:00 [DBG] Rendering check session result
2021-02-01 17:49:35.849 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:49:35.849 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:49:35.849 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:49:35.849 -05:00 [DBG] Start discovery request
2021-02-01 17:49:35.859 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:49:35.859 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:49:35.859 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:49:35.859 -05:00 [DBG] Rendering check session result
2021-02-01 17:49:35.860 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 17:49:35.860 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 17:49:35.860 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 17:49:35.860 -05:00 [DBG] Processing signout request for 4
2021-02-01 17:49:35.861 -05:00 [DBG] Start end session request validation
2021-02-01 17:49:35.861 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 17:49:35.861 -05:00 [DBG] Success validating end session request from null
2021-02-01 17:49:35.869 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 17:49:35.926 -05:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2021-02-01 17:49:35.926 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2021-02-01 17:49:35.926 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2021-02-01 17:49:35.926 -05:00 [DBG] Processing signout callback request
2021-02-01 17:49:35.926 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:49:35.926 -05:00 [DBG] No client front-channel logout URLs
2021-02-01 17:49:35.926 -05:00 [INF] Successful signout callback.
2021-02-01 17:50:14.354 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 17:50:14.374 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 17:50:14.374 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 17:50:14.374 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 17:50:14.374 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 17:50:14.374 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 17:50:14.374 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 17:50:14.498 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 17:50:14.499 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 17:50:14.499 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 17:50:14.499 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 17:50:14.499 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 17:50:14.499 -05:00 [DBG] Error Url: /home/error
2021-02-01 17:50:14.499 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 17:50:25.757 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:50:25.759 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:50:25.759 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:50:25.760 -05:00 [DBG] Start discovery request
2021-02-01 17:50:25.818 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:50:25.819 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:50:25.819 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:50:25.820 -05:00 [DBG] Start authorize request
2021-02-01 17:50:25.823 -05:00 [DBG] User in authorize request: 4
2021-02-01 17:50:25.829 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:50:25.836 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:50:25.854 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:50:25.862 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"37ea7aaeea374877815bcc8e05f32ee7","UiLocales":null,"Nonce":"284994c0e2334526b6bf5fe0d0b1aa73","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"53F955A43593A1CC7AFFE6B251DB5BA2","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"37ea7aaeea374877815bcc8e05f32ee7","nonce":"284994c0e2334526b6bf5fe0d0b1aa73"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:50:28.416 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 17:50:28.418 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 17:50:28.424 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 17:50:28.425 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 17:50:32.110 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 17:50:32.110 -05:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2021-02-01 17:50:32.115 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"37ea7aaeea374877815bcc8e05f32ee7","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 17:50:32.478 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:50:32.479 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:50:32.479 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:50:32.479 -05:00 [DBG] Start discovery request
2021-02-01 17:50:32.492 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:50:32.493 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:50:32.493 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:50:32.494 -05:00 [DBG] Start key discovery request
2021-02-01 17:50:32.516 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:50:32.522 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:50:32.522 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:50:32.522 -05:00 [DBG] Start discovery request
2021-02-01 17:50:32.550 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 17:50:32.551 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 17:50:32.551 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 17:50:32.553 -05:00 [DBG] Start userinfo request
2021-02-01 17:50:32.554 -05:00 [DBG] Bearer token found in header
2021-02-01 17:50:32.587 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:50:32.588 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:50:32.616 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 17:50:32.617 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"5E2D916898D40439F56E16573A49D0B4","Claims":{"nbf":1612219832,"exp":1612223432,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612218273,"idp":"local","jti":"5E2D916898D40439F56E16573A49D0B4","sid":"53F955A43593A1CC7AFFE6B251DB5BA2","iat":1612219832,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 17:50:32.620 -05:00 [DBG] Creating userinfo response
2021-02-01 17:50:32.621 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 17:50:32.623 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 17:50:32.627 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 17:50:32.628 -05:00 [DBG] End userinfo request
2021-02-01 17:50:32.634 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:50:32.634 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:50:32.634 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:50:32.634 -05:00 [DBG] Start discovery request
2021-02-01 17:50:32.643 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:50:32.644 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:50:32.644 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:50:32.644 -05:00 [DBG] Rendering check session result
2021-02-01 17:50:32.692 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:50:32.692 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:50:32.692 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:50:32.692 -05:00 [DBG] Start discovery request
2021-02-01 17:50:32.699 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:50:32.700 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:50:32.700 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:50:32.700 -05:00 [DBG] Rendering check session result
2021-02-01 17:50:37.973 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:50:37.973 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:50:37.973 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:50:37.973 -05:00 [DBG] Start discovery request
2021-02-01 17:50:37.984 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:50:37.985 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:50:37.985 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:50:37.985 -05:00 [DBG] Rendering check session result
2021-02-01 17:50:37.986 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 17:50:37.986 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 17:50:37.986 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 17:50:37.987 -05:00 [DBG] Processing signout request for 4
2021-02-01 17:50:37.989 -05:00 [DBG] Start end session request validation
2021-02-01 17:50:37.990 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 17:50:37.990 -05:00 [DBG] Success validating end session request from null
2021-02-01 17:50:54.211 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 17:50:54.297 -05:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2021-02-01 17:50:54.297 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2021-02-01 17:50:54.297 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2021-02-01 17:50:54.298 -05:00 [DBG] Processing signout callback request
2021-02-01 17:50:54.302 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:50:54.302 -05:00 [DBG] No client front-channel logout URLs
2021-02-01 17:50:54.302 -05:00 [INF] Successful signout callback.
2021-02-01 17:52:55.100 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 17:52:55.120 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 17:52:55.120 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 17:52:55.120 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 17:52:55.120 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 17:52:55.120 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 17:52:55.120 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 17:52:55.185 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 17:52:55.185 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 17:52:55.186 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 17:52:55.186 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 17:52:55.186 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 17:52:55.186 -05:00 [DBG] Error Url: /home/error
2021-02-01 17:52:55.186 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 17:53:00.350 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:53:00.352 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:53:00.352 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:53:00.352 -05:00 [DBG] Start discovery request
2021-02-01 17:53:00.398 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:53:00.400 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:53:00.400 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:53:00.400 -05:00 [DBG] Start authorize request
2021-02-01 17:53:00.403 -05:00 [DBG] User in authorize request: 4
2021-02-01 17:53:00.404 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:53:00.410 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:53:00.426 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:53:00.432 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"d4c9d1b7a0e040d6bdf387eac57a1955","UiLocales":null,"Nonce":"0e15a13b68e548bf8275fcbe563e524b","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"53F955A43593A1CC7AFFE6B251DB5BA2","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"d4c9d1b7a0e040d6bdf387eac57a1955","nonce":"0e15a13b68e548bf8275fcbe563e524b"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:53:00.811 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 17:53:00.812 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 17:53:00.818 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 17:53:00.819 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 17:53:00.919 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 17:53:00.919 -05:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2021-02-01 17:53:00.923 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"d4c9d1b7a0e040d6bdf387eac57a1955","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 17:53:01.278 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:53:01.279 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:53:01.279 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:53:01.279 -05:00 [DBG] Start discovery request
2021-02-01 17:53:01.286 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:53:01.286 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:53:01.286 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:53:01.287 -05:00 [DBG] Start key discovery request
2021-02-01 17:53:01.307 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:53:01.314 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:53:01.314 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:53:01.314 -05:00 [DBG] Start discovery request
2021-02-01 17:53:01.320 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 17:53:01.321 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 17:53:01.321 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 17:53:01.322 -05:00 [DBG] Start userinfo request
2021-02-01 17:53:01.323 -05:00 [DBG] Bearer token found in header
2021-02-01 17:53:01.355 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:53:01.357 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:53:01.384 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 17:53:01.384 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"701AC87F96DBB1DB76FE57322EE18498","Claims":{"nbf":1612219980,"exp":1612223580,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612218273,"idp":"local","jti":"701AC87F96DBB1DB76FE57322EE18498","sid":"53F955A43593A1CC7AFFE6B251DB5BA2","iat":1612219980,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 17:53:01.387 -05:00 [DBG] Creating userinfo response
2021-02-01 17:53:01.388 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 17:53:01.389 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 17:53:01.393 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 17:53:01.393 -05:00 [DBG] End userinfo request
2021-02-01 17:53:01.398 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:53:01.399 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:53:01.399 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:53:01.399 -05:00 [DBG] Start discovery request
2021-02-01 17:53:01.408 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:53:01.408 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:53:01.408 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:53:01.408 -05:00 [DBG] Rendering check session result
2021-02-01 17:53:01.480 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:53:01.480 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:53:01.480 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:53:01.480 -05:00 [DBG] Start discovery request
2021-02-01 17:53:01.489 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:53:01.489 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:53:01.489 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:53:01.489 -05:00 [DBG] Rendering check session result
2021-02-01 17:53:03.242 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:53:03.242 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:53:03.242 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:53:03.242 -05:00 [DBG] Start discovery request
2021-02-01 17:53:03.254 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:53:03.254 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:53:03.254 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:53:03.254 -05:00 [DBG] Rendering check session result
2021-02-01 17:53:03.255 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 17:53:03.255 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 17:53:03.255 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 17:53:03.257 -05:00 [DBG] Processing signout request for 4
2021-02-01 17:53:03.258 -05:00 [DBG] Start end session request validation
2021-02-01 17:53:03.259 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 17:53:03.259 -05:00 [DBG] Success validating end session request from null
2021-02-01 17:53:03.299 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 17:53:03.415 -05:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2021-02-01 17:53:03.415 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2021-02-01 17:53:03.415 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2021-02-01 17:53:03.416 -05:00 [DBG] Processing signout callback request
2021-02-01 17:53:03.421 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:53:03.421 -05:00 [DBG] No client front-channel logout URLs
2021-02-01 17:53:03.421 -05:00 [INF] Successful signout callback.
2021-02-01 17:53:19.989 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 17:53:20.066 -05:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2021-02-01 17:53:20.066 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2021-02-01 17:53:20.066 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2021-02-01 17:53:20.066 -05:00 [DBG] Processing signout callback request
2021-02-01 17:53:20.066 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:53:20.066 -05:00 [DBG] No client front-channel logout URLs
2021-02-01 17:53:20.066 -05:00 [INF] Successful signout callback.
2021-02-01 17:53:24.333 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:53:24.333 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:53:24.333 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:53:24.333 -05:00 [DBG] Start discovery request
2021-02-01 17:53:24.348 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 17:53:24.348 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 17:53:24.348 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 17:53:24.348 -05:00 [DBG] Start authorize request
2021-02-01 17:53:24.348 -05:00 [DBG] User in authorize request: 4
2021-02-01 17:53:24.348 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 17:53:24.348 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:53:24.348 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 17:53:24.348 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"47612a74a14e418ab07d0cd532534cce","UiLocales":null,"Nonce":"99814a5722814250a20a23fc34245070","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"53F955A43593A1CC7AFFE6B251DB5BA2","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"47612a74a14e418ab07d0cd532534cce","nonce":"99814a5722814250a20a23fc34245070"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 17:53:24.351 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 17:53:24.351 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 17:53:24.351 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 17:53:24.351 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 17:53:24.355 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 17:53:24.355 -05:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2021-02-01 17:53:24.355 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"47612a74a14e418ab07d0cd532534cce","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 17:53:24.696 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:53:24.696 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:53:24.696 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:53:24.696 -05:00 [DBG] Start discovery request
2021-02-01 17:53:24.706 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 17:53:24.706 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 17:53:24.706 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 17:53:24.706 -05:00 [DBG] Start key discovery request
2021-02-01 17:53:24.722 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:53:24.723 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:53:24.723 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:53:24.723 -05:00 [DBG] Start discovery request
2021-02-01 17:53:24.728 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 17:53:24.729 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 17:53:24.729 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 17:53:24.729 -05:00 [DBG] Start userinfo request
2021-02-01 17:53:24.729 -05:00 [DBG] Bearer token found in header
2021-02-01 17:53:24.730 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:53:24.730 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:53:24.731 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 17:53:24.731 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"A4BE14251972C8059982C75CE347A58D","Claims":{"nbf":1612220004,"exp":1612223604,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612218273,"idp":"local","jti":"A4BE14251972C8059982C75CE347A58D","sid":"53F955A43593A1CC7AFFE6B251DB5BA2","iat":1612220004,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 17:53:24.731 -05:00 [DBG] Creating userinfo response
2021-02-01 17:53:24.731 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 17:53:24.731 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 17:53:24.732 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 17:53:24.732 -05:00 [DBG] End userinfo request
2021-02-01 17:53:24.737 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:53:24.738 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:53:24.738 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:53:24.738 -05:00 [DBG] Start discovery request
2021-02-01 17:53:24.750 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:53:24.750 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:53:24.750 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:53:24.750 -05:00 [DBG] Rendering check session result
2021-02-01 17:53:24.821 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:53:24.821 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:53:24.821 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:53:24.821 -05:00 [DBG] Start discovery request
2021-02-01 17:53:24.831 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:53:24.831 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:53:24.831 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:53:24.831 -05:00 [DBG] Rendering check session result
2021-02-01 17:53:25.681 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 17:53:25.681 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 17:53:25.681 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 17:53:25.681 -05:00 [DBG] Start discovery request
2021-02-01 17:53:25.694 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 17:53:25.694 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 17:53:25.694 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 17:53:25.694 -05:00 [DBG] Rendering check session result
2021-02-01 17:53:25.695 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 17:53:25.695 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 17:53:25.695 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 17:53:25.696 -05:00 [DBG] Processing signout request for 4
2021-02-01 17:53:25.696 -05:00 [DBG] Start end session request validation
2021-02-01 17:53:25.696 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 17:53:25.696 -05:00 [DBG] Success validating end session request from null
2021-02-01 17:53:25.701 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 17:53:25.788 -05:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2021-02-01 17:53:25.790 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2021-02-01 17:53:25.790 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2021-02-01 17:53:25.790 -05:00 [DBG] Processing signout callback request
2021-02-01 17:53:25.791 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 17:53:25.791 -05:00 [DBG] No client front-channel logout URLs
2021-02-01 17:53:25.791 -05:00 [INF] Successful signout callback.
2021-02-01 17:54:36.092 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 17:54:36.112 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 17:54:36.112 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 17:54:36.112 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 17:54:36.112 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 17:54:36.112 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 17:54:36.112 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 17:54:36.236 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 17:54:36.237 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 17:54:36.237 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 17:54:36.237 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 17:54:36.237 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 17:54:36.237 -05:00 [DBG] Error Url: /home/error
2021-02-01 17:54:36.237 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 17:54:36.701 -05:00 [INF] AuthenticationScheme: Identity.Application signed out.
2021-02-01 17:54:36.703 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 17:54:36.703 -05:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2021-02-01 17:54:36.706 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 17:54:36.710 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 17:54:36.819 -05:00 [DBG] SignOutCalled set; processing post-signout session cleanup.
2021-02-01 17:54:36.820 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 18:27:11.341 -05:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2021-02-01 18:27:11.344 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2021-02-01 18:27:11.344 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2021-02-01 18:27:11.344 -05:00 [DBG] Processing signout callback request
2021-02-01 18:27:11.359 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:27:11.359 -05:00 [DBG] No client front-channel logout URLs
2021-02-01 18:27:11.359 -05:00 [INF] Successful signout callback.
2021-02-01 18:27:17.093 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:27:17.093 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:27:17.094 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:27:17.094 -05:00 [DBG] Start discovery request
2021-02-01 18:27:17.127 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 18:27:17.128 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 18:27:17.128 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 18:27:17.129 -05:00 [DBG] Start authorize request
2021-02-01 18:27:17.130 -05:00 [DBG] No user present in authorize request
2021-02-01 18:27:17.131 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 18:27:17.133 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:27:17.149 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 18:27:17.157 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"anonymous","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"e4b85ed0468b41718e9edf940d6e27bf","UiLocales":null,"Nonce":"10aade2dc90b46ac9dd8701883143cd8","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"e4b85ed0468b41718e9edf940d6e27bf","nonce":"10aade2dc90b46ac9dd8701883143cd8"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 18:27:17.168 -05:00 [INF] Showing login: User is not authenticated
2021-02-01 18:27:17.185 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 18:27:17.185 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:27:17.186 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 18:27:17.187 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:27:25.497 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 18:27:25.497 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:27:25.497 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 18:27:25.565 -05:00 [DBG] Augmenting SignInContext
2021-02-01 18:27:25.566 -05:00 [DBG] Adding idp claim with value: local
2021-02-01 18:27:25.566 -05:00 [DBG] Adding amr claim with value: pwd
2021-02-01 18:27:25.566 -05:00 [DBG] Adding auth_time claim with value: 1612222045
2021-02-01 18:27:25.569 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 18:27:25.579 -05:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2021-02-01 18:27:25.579 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2021-02-01 18:27:25.579 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2021-02-01 18:27:25.580 -05:00 [DBG] Start authorize callback request
2021-02-01 18:27:25.582 -05:00 [DBG] User in authorize request: 4
2021-02-01 18:27:25.582 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 18:27:25.582 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:27:25.582 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 18:27:25.582 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"e4b85ed0468b41718e9edf940d6e27bf","UiLocales":null,"Nonce":"10aade2dc90b46ac9dd8701883143cd8","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"D9482E222339D9158924360198580D17","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"e4b85ed0468b41718e9edf940d6e27bf","nonce":"10aade2dc90b46ac9dd8701883143cd8"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 18:27:25.592 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 18:27:25.594 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 18:27:25.600 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 18:27:25.600 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 18:27:25.717 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 18:27:25.717 -05:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2021-02-01 18:27:25.721 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"e4b85ed0468b41718e9edf940d6e27bf","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 18:27:25.724 -05:00 [DBG] Augmenting SignInContext
2021-02-01 18:27:25.724 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 18:27:26.215 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:27:26.215 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:27:26.215 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:27:26.215 -05:00 [DBG] Start discovery request
2021-02-01 18:27:26.230 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 18:27:26.230 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 18:27:26.230 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 18:27:26.231 -05:00 [DBG] Start key discovery request
2021-02-01 18:27:26.253 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:27:26.257 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:27:26.257 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:27:26.257 -05:00 [DBG] Start discovery request
2021-02-01 18:27:26.265 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 18:27:26.266 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 18:27:26.266 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 18:27:26.267 -05:00 [DBG] Start userinfo request
2021-02-01 18:27:26.268 -05:00 [DBG] Bearer token found in header
2021-02-01 18:27:26.315 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:27:26.317 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:27:26.321 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 18:27:26.321 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"3106FA23BFDA9459EA3879BE33D0A2D1","Claims":{"nbf":1612222045,"exp":1612225645,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612222045,"idp":"local","jti":"3106FA23BFDA9459EA3879BE33D0A2D1","sid":"D9482E222339D9158924360198580D17","iat":1612222045,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 18:27:26.325 -05:00 [DBG] Creating userinfo response
2021-02-01 18:27:26.327 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 18:27:26.328 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 18:27:26.332 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 18:27:26.332 -05:00 [DBG] End userinfo request
2021-02-01 18:27:26.338 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:27:26.338 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:27:26.338 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:27:26.338 -05:00 [DBG] Start discovery request
2021-02-01 18:27:26.347 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:27:26.347 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:27:26.347 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:27:26.347 -05:00 [DBG] Rendering check session result
2021-02-01 18:27:26.418 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:27:26.418 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:27:26.418 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:27:26.418 -05:00 [DBG] Start discovery request
2021-02-01 18:27:26.430 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:27:26.430 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:27:26.430 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:27:26.430 -05:00 [DBG] Rendering check session result
2021-02-01 18:27:30.191 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:27:30.191 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:27:30.191 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:27:30.191 -05:00 [DBG] Start discovery request
2021-02-01 18:27:30.206 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:27:30.206 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:27:30.206 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:27:30.206 -05:00 [DBG] Rendering check session result
2021-02-01 18:27:30.207 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 18:27:30.207 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 18:27:30.207 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 18:27:30.208 -05:00 [DBG] Processing signout request for 4
2021-02-01 18:27:30.210 -05:00 [DBG] Start end session request validation
2021-02-01 18:27:30.211 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 18:27:30.211 -05:00 [DBG] Success validating end session request from null
2021-02-01 18:27:36.213 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 18:27:36.296 -05:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2021-02-01 18:27:36.296 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2021-02-01 18:27:36.296 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2021-02-01 18:27:36.296 -05:00 [DBG] Processing signout callback request
2021-02-01 18:27:36.296 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:27:36.296 -05:00 [DBG] No client front-channel logout URLs
2021-02-01 18:27:36.296 -05:00 [INF] Successful signout callback.
2021-02-01 18:30:25.501 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 18:30:25.519 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 18:30:25.520 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 18:30:25.520 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 18:30:25.520 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 18:30:25.520 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 18:30:25.520 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 18:30:25.580 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 18:30:25.581 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 18:30:25.581 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 18:30:25.581 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 18:30:25.581 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 18:30:25.581 -05:00 [DBG] Error Url: /home/error
2021-02-01 18:30:25.581 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 18:30:29.900 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:30:29.901 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:30:29.901 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:30:29.902 -05:00 [DBG] Start discovery request
2021-02-01 18:30:29.947 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 18:30:29.948 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 18:30:29.948 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 18:30:29.949 -05:00 [DBG] Start authorize request
2021-02-01 18:30:29.951 -05:00 [DBG] User in authorize request: 4
2021-02-01 18:30:29.952 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 18:30:29.958 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:30:29.974 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 18:30:29.980 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"0cc2cae5c16246d4b5d57a34384dbd00","UiLocales":null,"Nonce":"5f3a8e5e77284abc8369b877bf98a901","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"D9482E222339D9158924360198580D17","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"0cc2cae5c16246d4b5d57a34384dbd00","nonce":"5f3a8e5e77284abc8369b877bf98a901"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 18:30:30.353 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 18:30:30.355 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 18:30:30.361 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 18:30:30.361 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 18:30:30.462 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 18:30:30.462 -05:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2021-02-01 18:30:30.466 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"0cc2cae5c16246d4b5d57a34384dbd00","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 18:30:30.814 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:30:30.814 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:30:30.814 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:30:30.815 -05:00 [DBG] Start discovery request
2021-02-01 18:30:30.821 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 18:30:30.822 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 18:30:30.822 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 18:30:30.823 -05:00 [DBG] Start key discovery request
2021-02-01 18:30:30.844 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:30:30.850 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:30:30.850 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:30:30.850 -05:00 [DBG] Start discovery request
2021-02-01 18:30:30.856 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 18:30:30.857 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 18:30:30.857 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 18:30:30.858 -05:00 [DBG] Start userinfo request
2021-02-01 18:30:30.859 -05:00 [DBG] Bearer token found in header
2021-02-01 18:30:30.889 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:30:30.891 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:30:30.917 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 18:30:30.917 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"0B934055E921289E87899C28BDB5BCCD","Claims":{"nbf":1612222230,"exp":1612225830,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612222045,"idp":"local","jti":"0B934055E921289E87899C28BDB5BCCD","sid":"D9482E222339D9158924360198580D17","iat":1612222230,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 18:30:30.920 -05:00 [DBG] Creating userinfo response
2021-02-01 18:30:30.920 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 18:30:30.922 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 18:30:30.924 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 18:30:30.924 -05:00 [DBG] End userinfo request
2021-02-01 18:30:30.930 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:30:30.930 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:30:30.930 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:30:30.930 -05:00 [DBG] Start discovery request
2021-02-01 18:30:30.941 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:30:30.941 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:30:30.941 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:30:30.941 -05:00 [DBG] Rendering check session result
2021-02-01 18:30:31.003 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:30:31.004 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:30:31.004 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:30:31.004 -05:00 [DBG] Start discovery request
2021-02-01 18:30:31.015 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:30:31.015 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:30:31.015 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:30:31.015 -05:00 [DBG] Rendering check session result
2021-02-01 18:30:32.108 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:30:32.108 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:30:32.108 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:30:32.108 -05:00 [DBG] Start discovery request
2021-02-01 18:30:32.198 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 18:30:32.198 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 18:30:32.198 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 18:30:32.199 -05:00 [DBG] Start key discovery request
2021-02-01 18:30:33.879 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:30:33.880 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:30:33.880 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:30:33.880 -05:00 [DBG] Start discovery request
2021-02-01 18:30:33.887 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:30:33.887 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:30:33.887 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:30:33.887 -05:00 [DBG] Rendering check session result
2021-02-01 18:30:36.963 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:30:36.963 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:30:36.963 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:30:36.963 -05:00 [DBG] Start discovery request
2021-02-01 18:30:36.974 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:30:36.974 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:30:36.974 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:30:36.974 -05:00 [DBG] Rendering check session result
2021-02-01 18:30:36.976 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 18:30:36.976 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 18:30:36.976 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 18:30:36.977 -05:00 [DBG] Processing signout request for 4
2021-02-01 18:30:36.978 -05:00 [DBG] Start end session request validation
2021-02-01 18:30:36.980 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 18:30:36.980 -05:00 [DBG] Success validating end session request from null
2021-02-01 18:30:37.019 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 18:30:37.129 -05:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2021-02-01 18:30:37.130 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2021-02-01 18:30:37.130 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2021-02-01 18:30:37.130 -05:00 [DBG] Processing signout callback request
2021-02-01 18:30:37.134 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:30:37.134 -05:00 [DBG] No client front-channel logout URLs
2021-02-01 18:30:37.134 -05:00 [INF] Successful signout callback.
2021-02-01 18:36:08.899 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 18:36:08.919 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 18:36:08.919 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 18:36:08.919 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 18:36:08.919 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 18:36:08.919 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 18:36:08.919 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 18:36:09.054 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 18:36:09.055 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 18:36:09.055 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 18:36:09.055 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 18:36:09.055 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 18:36:09.055 -05:00 [DBG] Error Url: /home/error
2021-02-01 18:36:09.055 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 18:36:22.900 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:36:22.904 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:36:22.904 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:36:22.905 -05:00 [DBG] Start discovery request
2021-02-01 18:36:22.960 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 18:36:22.961 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 18:36:22.961 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 18:36:22.962 -05:00 [DBG] Start authorize request
2021-02-01 18:36:22.966 -05:00 [DBG] User in authorize request: 4
2021-02-01 18:36:22.972 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 18:36:22.980 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:36:22.996 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 18:36:23.003 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"d9764faeaa4e44e2bd69ca903a3d2200","UiLocales":null,"Nonce":"9f1c3bc517754c418a8cb74847c7dffe","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"D9482E222339D9158924360198580D17","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"d9764faeaa4e44e2bd69ca903a3d2200","nonce":"9f1c3bc517754c418a8cb74847c7dffe"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 18:36:23.426 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 18:36:23.427 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 18:36:23.433 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 18:36:23.434 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 18:36:23.554 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 18:36:23.554 -05:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2021-02-01 18:36:23.559 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"d9764faeaa4e44e2bd69ca903a3d2200","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 18:36:23.843 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:36:23.844 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:36:23.844 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:36:23.844 -05:00 [DBG] Start discovery request
2021-02-01 18:36:23.851 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 18:36:23.851 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 18:36:23.851 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 18:36:23.852 -05:00 [DBG] Start key discovery request
2021-02-01 18:36:23.874 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:36:23.880 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:36:23.880 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:36:23.880 -05:00 [DBG] Start discovery request
2021-02-01 18:36:23.887 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 18:36:23.887 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 18:36:23.888 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 18:36:23.889 -05:00 [DBG] Start userinfo request
2021-02-01 18:36:23.890 -05:00 [DBG] Bearer token found in header
2021-02-01 18:36:23.923 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:36:23.924 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:36:23.953 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 18:36:23.954 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"AE4CE5B94D0A71286DEC31D47461A8C0","Claims":{"nbf":1612222583,"exp":1612226183,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612222045,"idp":"local","jti":"AE4CE5B94D0A71286DEC31D47461A8C0","sid":"D9482E222339D9158924360198580D17","iat":1612222583,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 18:36:23.957 -05:00 [DBG] Creating userinfo response
2021-02-01 18:36:23.958 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 18:36:23.960 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 18:36:23.965 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 18:36:23.965 -05:00 [DBG] End userinfo request
2021-02-01 18:36:23.970 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:36:23.971 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:36:23.971 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:36:23.971 -05:00 [DBG] Start discovery request
2021-02-01 18:36:23.982 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:36:23.982 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:36:23.982 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:36:23.982 -05:00 [DBG] Rendering check session result
2021-02-01 18:36:24.027 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:36:24.028 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:36:24.028 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:36:24.028 -05:00 [DBG] Start discovery request
2021-02-01 18:36:24.034 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:36:24.034 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:36:24.034 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:36:24.034 -05:00 [DBG] Rendering check session result
2021-02-01 18:36:25.133 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:36:25.134 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:36:25.134 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:36:25.134 -05:00 [DBG] Start discovery request
2021-02-01 18:36:25.225 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 18:36:25.225 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 18:36:25.225 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 18:36:25.225 -05:00 [DBG] Start key discovery request
2021-02-01 18:36:28.119 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:36:28.119 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:36:28.119 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:36:28.119 -05:00 [DBG] Start discovery request
2021-02-01 18:36:28.129 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:36:28.129 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:36:28.129 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:36:28.129 -05:00 [DBG] Rendering check session result
2021-02-01 18:36:28.130 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 18:36:28.131 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 18:36:28.131 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 18:36:28.132 -05:00 [DBG] Processing signout request for 4
2021-02-01 18:36:28.133 -05:00 [DBG] Start end session request validation
2021-02-01 18:36:28.134 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 18:36:28.134 -05:00 [DBG] Success validating end session request from null
2021-02-01 18:36:36.564 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 18:36:36.620 -05:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2021-02-01 18:36:36.620 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2021-02-01 18:36:36.620 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2021-02-01 18:36:36.621 -05:00 [DBG] Processing signout callback request
2021-02-01 18:36:36.624 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:36:36.624 -05:00 [DBG] No client front-channel logout URLs
2021-02-01 18:36:36.624 -05:00 [INF] Successful signout callback.
2021-02-01 18:37:58.541 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 18:37:58.559 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 18:37:58.559 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 18:37:58.559 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 18:37:58.559 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 18:37:58.559 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 18:37:58.559 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 18:37:58.618 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 18:37:58.619 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 18:37:58.619 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 18:37:58.619 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 18:37:58.619 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 18:37:58.619 -05:00 [DBG] Error Url: /home/error
2021-02-01 18:37:58.619 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 18:38:12.972 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:12.973 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:12.973 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:12.974 -05:00 [DBG] Start discovery request
2021-02-01 18:38:13.020 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 18:38:13.021 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 18:38:13.021 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 18:38:13.022 -05:00 [DBG] Start authorize request
2021-02-01 18:38:13.024 -05:00 [DBG] No user present in authorize request
2021-02-01 18:38:13.025 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 18:38:13.031 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:38:13.046 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 18:38:13.052 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"anonymous","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"b8f44c7fa62548f7b1a5590f476eaa56","UiLocales":null,"Nonce":"6e5f21bbc07c4757a6c420bc779c4077","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"b8f44c7fa62548f7b1a5590f476eaa56","nonce":"6e5f21bbc07c4757a6c420bc779c4077"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 18:38:13.058 -05:00 [INF] Showing login: User is not authenticated
2021-02-01 18:38:13.085 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 18:38:13.086 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:38:13.086 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 18:38:13.087 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:38:21.720 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 18:38:21.720 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:38:21.720 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 18:38:22.074 -05:00 [DBG] Augmenting SignInContext
2021-02-01 18:38:22.074 -05:00 [DBG] Adding idp claim with value: local
2021-02-01 18:38:22.074 -05:00 [DBG] Adding amr claim with value: pwd
2021-02-01 18:38:22.074 -05:00 [DBG] Adding auth_time claim with value: 1612222702
2021-02-01 18:38:22.079 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 18:38:22.087 -05:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2021-02-01 18:38:22.088 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2021-02-01 18:38:22.088 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2021-02-01 18:38:22.089 -05:00 [DBG] Start authorize callback request
2021-02-01 18:38:22.090 -05:00 [DBG] User in authorize request: 4
2021-02-01 18:38:22.090 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 18:38:22.090 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:38:22.090 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 18:38:22.091 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"b8f44c7fa62548f7b1a5590f476eaa56","UiLocales":null,"Nonce":"6e5f21bbc07c4757a6c420bc779c4077","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"4191BE762E9DA66B13ECBE6CDE742F6F","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"b8f44c7fa62548f7b1a5590f476eaa56","nonce":"6e5f21bbc07c4757a6c420bc779c4077"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 18:38:22.132 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 18:38:22.134 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 18:38:22.140 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 18:38:22.140 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 18:38:22.237 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 18:38:22.237 -05:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2021-02-01 18:38:22.240 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"b8f44c7fa62548f7b1a5590f476eaa56","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 18:38:22.242 -05:00 [DBG] Augmenting SignInContext
2021-02-01 18:38:22.243 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 18:38:22.624 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:22.624 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:22.624 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:22.624 -05:00 [DBG] Start discovery request
2021-02-01 18:38:22.634 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 18:38:22.634 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 18:38:22.634 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 18:38:22.635 -05:00 [DBG] Start key discovery request
2021-02-01 18:38:22.656 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:22.662 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:22.662 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:22.662 -05:00 [DBG] Start discovery request
2021-02-01 18:38:22.675 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 18:38:22.675 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 18:38:22.675 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 18:38:22.677 -05:00 [DBG] Start userinfo request
2021-02-01 18:38:22.678 -05:00 [DBG] Bearer token found in header
2021-02-01 18:38:22.708 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:38:22.709 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:38:22.714 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 18:38:22.714 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"BB95D44F5DA565DD6D78A8965EDC50D3","Claims":{"nbf":1612222702,"exp":1612226302,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612222702,"idp":"local","jti":"BB95D44F5DA565DD6D78A8965EDC50D3","sid":"4191BE762E9DA66B13ECBE6CDE742F6F","iat":1612222702,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 18:38:22.717 -05:00 [DBG] Creating userinfo response
2021-02-01 18:38:22.717 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 18:38:22.719 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 18:38:22.724 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 18:38:22.724 -05:00 [DBG] End userinfo request
2021-02-01 18:38:22.729 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:22.729 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:22.729 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:22.729 -05:00 [DBG] Start discovery request
2021-02-01 18:38:22.739 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:38:22.739 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:38:22.740 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:38:22.740 -05:00 [DBG] Rendering check session result
2021-02-01 18:38:22.794 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:22.794 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:22.794 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:22.794 -05:00 [DBG] Start discovery request
2021-02-01 18:38:22.801 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:38:22.801 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:38:22.801 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:38:22.801 -05:00 [DBG] Rendering check session result
2021-02-01 18:38:23.909 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:23.909 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:23.909 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:23.909 -05:00 [DBG] Start discovery request
2021-02-01 18:38:24.000 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 18:38:24.000 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 18:38:24.000 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 18:38:24.000 -05:00 [DBG] Start key discovery request
2021-02-01 18:38:28.906 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:28.906 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:28.906 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:28.906 -05:00 [DBG] Start discovery request
2021-02-01 18:38:28.915 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:38:28.916 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:38:28.916 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:38:28.916 -05:00 [DBG] Rendering check session result
2021-02-01 18:38:31.081 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:31.081 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:31.081 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:31.081 -05:00 [DBG] Start discovery request
2021-02-01 18:38:31.092 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:38:31.092 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:38:31.092 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:38:31.092 -05:00 [DBG] Rendering check session result
2021-02-01 18:38:31.093 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 18:38:31.093 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 18:38:31.093 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 18:38:31.094 -05:00 [DBG] Processing signout request for 4
2021-02-01 18:38:31.095 -05:00 [DBG] Start end session request validation
2021-02-01 18:38:31.097 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 18:38:31.097 -05:00 [DBG] Success validating end session request from null
2021-02-01 18:38:31.120 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 18:38:34.420 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:34.420 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:34.420 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:34.420 -05:00 [DBG] Start discovery request
2021-02-01 18:38:34.434 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 18:38:34.434 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 18:38:34.434 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 18:38:34.435 -05:00 [DBG] Start authorize request
2021-02-01 18:38:34.435 -05:00 [DBG] User in authorize request: 4
2021-02-01 18:38:34.435 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 18:38:34.435 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:38:34.435 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 18:38:34.435 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"9da940ff9f8f44bca815b37e08341928","UiLocales":null,"Nonce":"655245f794084a6a86426f8cb6c4a9f6","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"4191BE762E9DA66B13ECBE6CDE742F6F","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"9da940ff9f8f44bca815b37e08341928","nonce":"655245f794084a6a86426f8cb6c4a9f6"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 18:38:34.437 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 18:38:34.437 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 18:38:34.437 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 18:38:34.437 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 18:38:34.440 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 18:38:34.440 -05:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2021-02-01 18:38:34.441 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"9da940ff9f8f44bca815b37e08341928","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 18:38:34.692 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:34.692 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:34.692 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:34.692 -05:00 [DBG] Start discovery request
2021-02-01 18:38:34.698 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 18:38:34.699 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 18:38:34.699 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 18:38:34.699 -05:00 [DBG] Start key discovery request
2021-02-01 18:38:34.713 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:34.713 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:34.713 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:34.713 -05:00 [DBG] Start discovery request
2021-02-01 18:38:34.719 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 18:38:34.720 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 18:38:34.720 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 18:38:34.720 -05:00 [DBG] Start userinfo request
2021-02-01 18:38:34.720 -05:00 [DBG] Bearer token found in header
2021-02-01 18:38:34.720 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:38:34.720 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:38:34.721 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 18:38:34.721 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"4AF91C2BDFB0EC33ECBF12A9DB67D158","Claims":{"nbf":1612222714,"exp":1612226314,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612222702,"idp":"local","jti":"4AF91C2BDFB0EC33ECBF12A9DB67D158","sid":"4191BE762E9DA66B13ECBE6CDE742F6F","iat":1612222714,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 18:38:34.721 -05:00 [DBG] Creating userinfo response
2021-02-01 18:38:34.721 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 18:38:34.721 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 18:38:34.722 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 18:38:34.722 -05:00 [DBG] End userinfo request
2021-02-01 18:38:34.727 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:34.727 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:34.727 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:34.727 -05:00 [DBG] Start discovery request
2021-02-01 18:38:34.740 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:38:34.740 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:38:34.740 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:38:34.740 -05:00 [DBG] Rendering check session result
2021-02-01 18:38:34.784 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:34.784 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:34.784 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:34.784 -05:00 [DBG] Start discovery request
2021-02-01 18:38:34.791 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:38:34.792 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:38:34.792 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:38:34.792 -05:00 [DBG] Rendering check session result
2021-02-01 18:38:39.533 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:39.533 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:39.533 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:39.533 -05:00 [DBG] Start discovery request
2021-02-01 18:38:39.546 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:38:39.546 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:38:39.546 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:38:39.546 -05:00 [DBG] Rendering check session result
2021-02-01 18:38:39.547 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 18:38:39.547 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 18:38:39.547 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 18:38:39.547 -05:00 [DBG] Processing signout request for 4
2021-02-01 18:38:39.547 -05:00 [DBG] Start end session request validation
2021-02-01 18:38:39.547 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 18:38:39.547 -05:00 [DBG] Success validating end session request from null
2021-02-01 18:38:39.554 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 18:38:41.643 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:41.643 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:41.643 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:41.643 -05:00 [DBG] Start discovery request
2021-02-01 18:38:41.657 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 18:38:41.660 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 18:38:41.660 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 18:38:41.660 -05:00 [DBG] Start authorize request
2021-02-01 18:38:41.660 -05:00 [DBG] User in authorize request: 4
2021-02-01 18:38:41.660 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 18:38:41.660 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:38:41.660 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 18:38:41.660 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"441e8d72ee764df78ab3bd4c113fb0a7","UiLocales":null,"Nonce":"c58187de80f5401b8d31072b402fc05a","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"4191BE762E9DA66B13ECBE6CDE742F6F","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"441e8d72ee764df78ab3bd4c113fb0a7","nonce":"c58187de80f5401b8d31072b402fc05a"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 18:38:41.662 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 18:38:41.662 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 18:38:41.662 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 18:38:41.662 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 18:38:41.666 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 18:38:41.666 -05:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2021-02-01 18:38:41.666 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"441e8d72ee764df78ab3bd4c113fb0a7","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 18:38:41.911 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:41.911 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:41.911 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:41.911 -05:00 [DBG] Start discovery request
2021-02-01 18:38:41.917 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 18:38:41.917 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 18:38:41.917 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 18:38:41.917 -05:00 [DBG] Start key discovery request
2021-02-01 18:38:41.929 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:41.929 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:41.929 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:41.929 -05:00 [DBG] Start discovery request
2021-02-01 18:38:41.935 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 18:38:41.936 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 18:38:41.937 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 18:38:41.937 -05:00 [DBG] Start userinfo request
2021-02-01 18:38:41.937 -05:00 [DBG] Bearer token found in header
2021-02-01 18:38:41.937 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:38:41.937 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:38:41.939 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 18:38:41.939 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"D24AB4E9090EA4683082CFA167AFFFC0","Claims":{"nbf":1612222721,"exp":1612226321,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612222702,"idp":"local","jti":"D24AB4E9090EA4683082CFA167AFFFC0","sid":"4191BE762E9DA66B13ECBE6CDE742F6F","iat":1612222721,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 18:38:41.939 -05:00 [DBG] Creating userinfo response
2021-02-01 18:38:41.940 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 18:38:41.940 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 18:38:41.941 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 18:38:41.941 -05:00 [DBG] End userinfo request
2021-02-01 18:38:41.944 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:41.944 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:41.944 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:41.944 -05:00 [DBG] Start discovery request
2021-02-01 18:38:41.955 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:38:41.956 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:38:41.956 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:38:41.956 -05:00 [DBG] Rendering check session result
2021-02-01 18:38:42.008 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:42.009 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:42.009 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:42.009 -05:00 [DBG] Start discovery request
2021-02-01 18:38:42.021 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:38:42.021 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:38:42.021 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:38:42.021 -05:00 [DBG] Rendering check session result
2021-02-01 18:38:43.050 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:43.050 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:43.050 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:43.050 -05:00 [DBG] Start discovery request
2021-02-01 18:38:43.060 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:38:43.060 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:38:43.060 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:38:43.060 -05:00 [DBG] Rendering check session result
2021-02-01 18:38:43.061 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 18:38:43.062 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 18:38:43.062 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 18:38:43.062 -05:00 [DBG] Processing signout request for 4
2021-02-01 18:38:43.062 -05:00 [DBG] Start end session request validation
2021-02-01 18:38:43.062 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 18:38:43.062 -05:00 [DBG] Success validating end session request from null
2021-02-01 18:38:43.067 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 18:38:44.180 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:44.180 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:44.180 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:44.180 -05:00 [DBG] Start discovery request
2021-02-01 18:38:44.197 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 18:38:44.197 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 18:38:44.198 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 18:38:44.198 -05:00 [DBG] Start authorize request
2021-02-01 18:38:44.198 -05:00 [DBG] User in authorize request: 4
2021-02-01 18:38:44.198 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 18:38:44.198 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:38:44.198 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 18:38:44.198 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"00c78a7540bd49ec961b85c2bf6aad54","UiLocales":null,"Nonce":"10152836f39542df8c278f93ee56f1b8","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"4191BE762E9DA66B13ECBE6CDE742F6F","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"00c78a7540bd49ec961b85c2bf6aad54","nonce":"10152836f39542df8c278f93ee56f1b8"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 18:38:44.200 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 18:38:44.200 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 18:38:44.200 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 18:38:44.200 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 18:38:44.201 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 18:38:44.201 -05:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2021-02-01 18:38:44.202 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"00c78a7540bd49ec961b85c2bf6aad54","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 18:38:44.455 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:44.455 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:44.455 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:44.455 -05:00 [DBG] Start discovery request
2021-02-01 18:38:44.461 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 18:38:44.461 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 18:38:44.461 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 18:38:44.461 -05:00 [DBG] Start key discovery request
2021-02-01 18:38:44.473 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:44.473 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:44.473 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:44.473 -05:00 [DBG] Start discovery request
2021-02-01 18:38:44.476 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 18:38:44.476 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 18:38:44.476 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 18:38:44.476 -05:00 [DBG] Start userinfo request
2021-02-01 18:38:44.476 -05:00 [DBG] Bearer token found in header
2021-02-01 18:38:44.477 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:38:44.477 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:38:44.478 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 18:38:44.478 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"A5273124355C25759BE0A0540FFB4A39","Claims":{"nbf":1612222724,"exp":1612226324,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612222702,"idp":"local","jti":"A5273124355C25759BE0A0540FFB4A39","sid":"4191BE762E9DA66B13ECBE6CDE742F6F","iat":1612222724,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 18:38:44.478 -05:00 [DBG] Creating userinfo response
2021-02-01 18:38:44.478 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 18:38:44.478 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 18:38:44.479 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 18:38:44.479 -05:00 [DBG] End userinfo request
2021-02-01 18:38:44.482 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:44.483 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:44.483 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:44.483 -05:00 [DBG] Start discovery request
2021-02-01 18:38:44.492 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:38:44.492 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:38:44.492 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:38:44.492 -05:00 [DBG] Rendering check session result
2021-02-01 18:38:44.542 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:44.542 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:44.542 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:44.542 -05:00 [DBG] Start discovery request
2021-02-01 18:38:44.549 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:38:44.549 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:38:44.549 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:38:44.549 -05:00 [DBG] Rendering check session result
2021-02-01 18:38:45.434 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:45.434 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:45.434 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:45.434 -05:00 [DBG] Start discovery request
2021-02-01 18:38:45.444 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:38:45.444 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:38:45.444 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:38:45.444 -05:00 [DBG] Rendering check session result
2021-02-01 18:38:45.445 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 18:38:45.445 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 18:38:45.445 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 18:38:45.445 -05:00 [DBG] Processing signout request for 4
2021-02-01 18:38:45.445 -05:00 [DBG] Start end session request validation
2021-02-01 18:38:45.445 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 18:38:45.445 -05:00 [DBG] Success validating end session request from null
2021-02-01 18:38:45.451 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 18:38:46.587 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:46.587 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:46.587 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:46.587 -05:00 [DBG] Start discovery request
2021-02-01 18:38:46.602 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 18:38:46.602 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 18:38:46.602 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 18:38:46.602 -05:00 [DBG] Start authorize request
2021-02-01 18:38:46.602 -05:00 [DBG] User in authorize request: 4
2021-02-01 18:38:46.602 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 18:38:46.602 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:38:46.602 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 18:38:46.603 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"0154535c4f624241a8eabde5f5994917","UiLocales":null,"Nonce":"b6cece07b4db43949d774bda878312c8","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"4191BE762E9DA66B13ECBE6CDE742F6F","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"0154535c4f624241a8eabde5f5994917","nonce":"b6cece07b4db43949d774bda878312c8"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 18:38:46.604 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 18:38:46.604 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 18:38:46.604 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 18:38:46.604 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 18:38:46.605 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 18:38:46.605 -05:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2021-02-01 18:38:46.606 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"0154535c4f624241a8eabde5f5994917","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 18:38:46.849 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:46.849 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:46.849 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:46.849 -05:00 [DBG] Start discovery request
2021-02-01 18:38:46.855 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 18:38:46.855 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 18:38:46.855 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 18:38:46.855 -05:00 [DBG] Start key discovery request
2021-02-01 18:38:46.867 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:46.867 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:46.867 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:46.867 -05:00 [DBG] Start discovery request
2021-02-01 18:38:46.871 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 18:38:46.871 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 18:38:46.871 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 18:38:46.871 -05:00 [DBG] Start userinfo request
2021-02-01 18:38:46.871 -05:00 [DBG] Bearer token found in header
2021-02-01 18:38:46.871 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:38:46.871 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:38:46.872 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 18:38:46.872 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"25682A068181DDDD2021A91E0484DDED","Claims":{"nbf":1612222726,"exp":1612226326,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612222702,"idp":"local","jti":"25682A068181DDDD2021A91E0484DDED","sid":"4191BE762E9DA66B13ECBE6CDE742F6F","iat":1612222726,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 18:38:46.872 -05:00 [DBG] Creating userinfo response
2021-02-01 18:38:46.872 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 18:38:46.872 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 18:38:46.873 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 18:38:46.873 -05:00 [DBG] End userinfo request
2021-02-01 18:38:46.877 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:46.877 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:46.877 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:46.877 -05:00 [DBG] Start discovery request
2021-02-01 18:38:46.887 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:38:46.887 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:38:46.887 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:38:46.887 -05:00 [DBG] Rendering check session result
2021-02-01 18:38:46.938 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:38:46.938 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:38:46.938 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:38:46.939 -05:00 [DBG] Start discovery request
2021-02-01 18:38:46.947 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:38:46.947 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:38:46.947 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:38:46.947 -05:00 [DBG] Rendering check session result
2021-02-01 18:39:09.707 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:39:09.707 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:39:09.707 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:39:09.707 -05:00 [DBG] Start discovery request
2021-02-01 18:39:09.714 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:39:09.714 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:39:09.714 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:39:09.714 -05:00 [DBG] Rendering check session result
2021-02-01 18:39:10.613 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:39:10.613 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:39:10.613 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:39:10.613 -05:00 [DBG] Start discovery request
2021-02-01 18:39:10.621 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:39:10.621 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:39:10.621 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:39:10.621 -05:00 [DBG] Rendering check session result
2021-02-01 18:42:56.838 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:42:56.838 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:42:56.838 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:42:56.838 -05:00 [DBG] Start discovery request
2021-02-01 18:42:56.927 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 18:42:56.927 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 18:42:56.927 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 18:42:56.927 -05:00 [DBG] Start key discovery request
2021-02-01 18:45:42.749 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 18:45:42.767 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 18:45:42.768 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 18:45:42.768 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 18:45:42.768 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 18:45:42.768 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 18:45:42.768 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 18:45:42.827 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 18:45:42.828 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 18:45:42.828 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 18:45:42.828 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 18:45:42.828 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 18:45:42.828 -05:00 [DBG] Error Url: /home/error
2021-02-01 18:45:42.828 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 18:45:42.836 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:45:42.842 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:45:42.843 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:45:42.843 -05:00 [DBG] Start discovery request
2021-02-01 18:45:42.876 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:45:42.876 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:45:42.876 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:45:42.876 -05:00 [DBG] Start discovery request
2021-02-01 18:45:42.894 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:45:42.894 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:45:42.894 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:45:42.894 -05:00 [DBG] Rendering check session result
2021-02-01 18:45:42.968 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 18:45:42.968 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 18:45:42.968 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 18:45:42.969 -05:00 [DBG] Start key discovery request
2021-02-01 18:51:28.364 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 18:51:28.382 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 18:51:28.382 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 18:51:28.382 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 18:51:28.382 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 18:51:28.382 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 18:51:28.382 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 18:51:28.441 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 18:51:28.442 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 18:51:28.442 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 18:51:28.442 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 18:51:28.442 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 18:51:28.442 -05:00 [DBG] Error Url: /home/error
2021-02-01 18:51:28.442 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 18:51:28.450 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:51:28.456 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:51:28.456 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:51:28.457 -05:00 [DBG] Start discovery request
2021-02-01 18:51:28.511 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:51:28.511 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 18:51:28.511 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:51:28.511 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:51:28.511 -05:00 [DBG] Rendering check session result
2021-02-01 18:51:28.512 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 18:51:28.512 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 18:51:28.515 -05:00 [DBG] Processing signout request for 4
2021-02-01 18:51:28.517 -05:00 [DBG] Start end session request validation
2021-02-01 18:51:28.524 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 18:51:28.528 -05:00 [DBG] Success validating end session request from null
2021-02-01 18:51:28.617 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 18:51:54.761 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:51:54.761 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:51:54.761 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:51:54.761 -05:00 [DBG] Start discovery request
2021-02-01 18:51:54.776 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 18:51:54.777 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 18:51:54.777 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 18:51:54.778 -05:00 [DBG] Start authorize request
2021-02-01 18:51:54.779 -05:00 [DBG] User in authorize request: 4
2021-02-01 18:51:54.781 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 18:51:54.786 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:51:54.800 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 18:51:54.803 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"b69fe6fed3bb4ab89ac88dd003449f86","UiLocales":null,"Nonce":"abd12b3b9b2946f6980b6c5dc0e7ee41","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"4191BE762E9DA66B13ECBE6CDE742F6F","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"b69fe6fed3bb4ab89ac88dd003449f86","nonce":"abd12b3b9b2946f6980b6c5dc0e7ee41"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 18:51:55.174 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 18:51:55.177 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 18:51:55.182 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 18:51:55.183 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 18:51:55.282 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 18:51:55.282 -05:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2021-02-01 18:51:55.285 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"b69fe6fed3bb4ab89ac88dd003449f86","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 18:51:55.540 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:51:55.541 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:51:55.541 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:51:55.541 -05:00 [DBG] Start discovery request
2021-02-01 18:51:55.547 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 18:51:55.548 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 18:51:55.548 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 18:51:55.549 -05:00 [DBG] Start key discovery request
2021-02-01 18:51:55.568 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:51:55.568 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:51:55.568 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:51:55.568 -05:00 [DBG] Start discovery request
2021-02-01 18:51:55.572 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 18:51:55.573 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 18:51:55.573 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 18:51:55.574 -05:00 [DBG] Start userinfo request
2021-02-01 18:51:55.575 -05:00 [DBG] Bearer token found in header
2021-02-01 18:51:55.605 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:51:55.606 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:51:55.634 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 18:51:55.634 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"AE02FC265FB10DF69106C23156FAEEEE","Claims":{"nbf":1612223515,"exp":1612227115,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612222702,"idp":"local","jti":"AE02FC265FB10DF69106C23156FAEEEE","sid":"4191BE762E9DA66B13ECBE6CDE742F6F","iat":1612223515,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 18:51:55.637 -05:00 [DBG] Creating userinfo response
2021-02-01 18:51:55.637 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 18:51:55.639 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 18:51:55.643 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 18:51:55.643 -05:00 [DBG] End userinfo request
2021-02-01 18:51:55.648 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:51:55.648 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:51:55.648 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:51:55.648 -05:00 [DBG] Start discovery request
2021-02-01 18:51:55.657 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:51:55.657 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:51:55.657 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:51:55.657 -05:00 [DBG] Rendering check session result
2021-02-01 18:51:55.710 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:51:55.710 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:51:55.710 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:51:55.710 -05:00 [DBG] Start discovery request
2021-02-01 18:51:55.716 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:51:55.717 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:51:55.717 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:51:55.717 -05:00 [DBG] Rendering check session result
2021-02-01 18:51:56.863 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:51:56.864 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:51:56.864 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:51:56.864 -05:00 [DBG] Start discovery request
2021-02-01 18:51:56.953 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 18:51:56.953 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 18:51:56.953 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 18:51:56.953 -05:00 [DBG] Start key discovery request
2021-02-01 18:52:30.903 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:52:30.903 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:52:30.903 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:52:30.903 -05:00 [DBG] Start discovery request
2021-02-01 18:52:35.320 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:52:35.320 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:52:35.320 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:52:35.320 -05:00 [DBG] Start discovery request
2021-02-01 18:52:35.350 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 18:52:35.350 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 18:52:35.350 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 18:52:35.350 -05:00 [DBG] Start authorize request
2021-02-01 18:52:35.350 -05:00 [DBG] No user present in authorize request
2021-02-01 18:52:35.350 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 18:52:35.351 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:52:35.351 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 18:52:35.351 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"anonymous","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"d9b9409c2ce04572970626652a205fd0","UiLocales":null,"Nonce":"7b6b7aeb843d46e2aa153f3d3e31b6d6","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"d9b9409c2ce04572970626652a205fd0","nonce":"7b6b7aeb843d46e2aa153f3d3e31b6d6"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 18:52:35.351 -05:00 [INF] Showing login: User is not authenticated
2021-02-01 18:52:35.366 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 18:52:35.366 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:52:35.366 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 18:52:35.367 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 18:54:11.460 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:54:11.460 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:54:11.460 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:54:11.460 -05:00 [DBG] Start discovery request
2021-02-01 18:54:11.473 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:54:11.473 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:54:11.473 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:54:11.473 -05:00 [DBG] Rendering check session result
2021-02-01 18:55:58.439 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:55:58.439 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:55:58.439 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:55:58.439 -05:00 [DBG] Start discovery request
2021-02-01 18:56:58.730 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:56:58.730 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:56:58.730 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:56:58.730 -05:00 [DBG] Start discovery request
2021-02-01 18:56:58.742 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:56:58.742 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:56:58.742 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:56:58.742 -05:00 [DBG] Rendering check session result
2021-02-01 18:57:00.440 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 18:57:00.441 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 18:57:00.441 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 18:57:00.441 -05:00 [DBG] Start discovery request
2021-02-01 18:57:00.449 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 18:57:00.449 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 18:57:00.449 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 18:57:00.449 -05:00 [DBG] Rendering check session result
2021-02-01 19:06:04.772 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 19:06:04.790 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 19:06:04.790 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 19:06:04.790 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 19:06:04.790 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 19:06:04.790 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 19:06:04.790 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 19:06:04.848 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 19:06:04.848 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 19:06:04.848 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 19:06:04.848 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 19:06:04.848 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 19:06:04.848 -05:00 [DBG] Error Url: /home/error
2021-02-01 19:06:04.848 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 19:06:16.228 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 19:06:16.229 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 19:06:16.229 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 19:06:16.230 -05:00 [DBG] Start discovery request
2021-02-01 19:06:16.354 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 19:06:16.355 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 19:06:16.355 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 19:06:16.355 -05:00 [DBG] Start key discovery request
2021-02-01 19:06:23.307 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 19:06:23.307 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 19:06:23.307 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 19:06:23.307 -05:00 [DBG] Start discovery request
2021-02-01 19:06:23.316 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 19:06:23.316 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 19:06:23.316 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 19:06:23.317 -05:00 [DBG] Rendering check session result
2021-02-01 19:06:24.992 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 19:06:24.998 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 19:06:24.998 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 19:06:24.998 -05:00 [DBG] Start discovery request
2021-02-01 19:06:25.010 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 19:06:25.011 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 19:06:25.011 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 19:06:25.011 -05:00 [DBG] Rendering check session result
2021-02-01 19:06:25.011 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 19:06:25.011 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 19:06:25.012 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 19:06:25.014 -05:00 [DBG] Processing signout request for 4
2021-02-01 19:06:25.015 -05:00 [DBG] Start end session request validation
2021-02-01 19:06:25.021 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 19:06:25.025 -05:00 [DBG] Success validating end session request from null
2021-02-01 19:06:25.068 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 19:06:27.059 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 19:06:27.059 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 19:06:27.059 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 19:06:27.059 -05:00 [DBG] Start discovery request
2021-02-01 19:06:27.075 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 19:06:27.076 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 19:06:27.076 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 19:06:27.077 -05:00 [DBG] Start authorize request
2021-02-01 19:06:27.078 -05:00 [DBG] User in authorize request: 4
2021-02-01 19:06:27.079 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 19:06:27.084 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 19:06:27.098 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 19:06:27.100 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"3a548d8861b0472faa03312e6d541297","UiLocales":null,"Nonce":"6024570ab9af43b8ab5b1df912e1464b","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"4191BE762E9DA66B13ECBE6CDE742F6F","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"3a548d8861b0472faa03312e6d541297","nonce":"6024570ab9af43b8ab5b1df912e1464b"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 19:06:27.456 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 19:06:27.457 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 19:06:27.463 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 19:06:27.463 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 19:06:27.561 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 19:06:27.562 -05:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2021-02-01 19:06:27.565 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"3a548d8861b0472faa03312e6d541297","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 19:06:28.183 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 19:06:28.183 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 19:06:28.183 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 19:06:28.183 -05:00 [DBG] Start discovery request
2021-02-01 19:06:28.190 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 19:06:28.190 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 19:06:28.190 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 19:06:28.190 -05:00 [DBG] Start key discovery request
2021-02-01 19:06:28.203 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 19:06:28.203 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 19:06:28.203 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 19:06:28.203 -05:00 [DBG] Start discovery request
2021-02-01 19:06:28.209 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 19:06:28.209 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 19:06:28.209 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 19:06:28.211 -05:00 [DBG] Start userinfo request
2021-02-01 19:06:28.211 -05:00 [DBG] Bearer token found in header
2021-02-01 19:06:28.242 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 19:06:28.243 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 19:06:28.270 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 19:06:28.270 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"1CE8A6C384F3CEBC3D377D5D9E160725","Claims":{"nbf":1612224387,"exp":1612227987,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612222702,"idp":"local","jti":"1CE8A6C384F3CEBC3D377D5D9E160725","sid":"4191BE762E9DA66B13ECBE6CDE742F6F","iat":1612224387,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 19:06:28.272 -05:00 [DBG] Creating userinfo response
2021-02-01 19:06:28.273 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 19:06:28.274 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 19:06:28.277 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 19:06:28.277 -05:00 [DBG] End userinfo request
2021-02-01 19:06:28.281 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 19:06:28.281 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 19:06:28.281 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 19:06:28.281 -05:00 [DBG] Start discovery request
2021-02-01 19:06:28.291 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 19:06:28.291 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 19:06:28.291 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 19:06:28.291 -05:00 [DBG] Rendering check session result
2021-02-01 19:06:28.343 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 19:06:28.344 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 19:06:28.344 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 19:06:28.344 -05:00 [DBG] Start discovery request
2021-02-01 19:06:28.350 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 19:06:28.350 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 19:06:28.350 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 19:06:28.350 -05:00 [DBG] Rendering check session result
2021-02-01 20:08:34.420 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:08:34.425 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:08:34.425 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:08:34.425 -05:00 [DBG] Start discovery request
2021-02-01 20:08:34.484 -05:00 [INF] AuthenticationScheme: Identity.Application signed out.
2021-02-01 20:08:34.484 -05:00 [INF] AuthenticationScheme: Identity.Application signed out.
2021-02-01 20:08:34.484 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 20:08:34.484 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 20:08:34.485 -05:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2021-02-01 20:08:34.485 -05:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2021-02-01 20:08:34.488 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 20:08:34.488 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 20:08:34.489 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 20:08:34.489 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 20:08:34.489 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 20:08:34.489 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:08:34.490 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 20:08:34.490 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 20:08:34.490 -05:00 [DBG] Rendering check session result
2021-02-01 20:08:34.490 -05:00 [DBG] SignOutCalled set; processing post-signout session cleanup.
2021-02-01 20:08:34.490 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:08:34.490 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:08:34.490 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 20:08:34.490 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:08:34.490 -05:00 [DBG] Start end session request validation
2021-02-01 20:08:34.490 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 20:08:34.490 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 20:08:34.490 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:08:34.490 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:08:34.491 -05:00 [DBG] SignOutCalled set; processing post-signout session cleanup.
2021-02-01 20:08:34.491 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 20:08:34.491 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 20:08:36.296 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:08:36.296 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:08:36.296 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:08:36.296 -05:00 [DBG] Start discovery request
2021-02-01 20:08:36.309 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 20:08:36.309 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 20:08:36.309 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 20:08:36.309 -05:00 [DBG] Start authorize request
2021-02-01 20:08:36.309 -05:00 [DBG] No user present in authorize request
2021-02-01 20:08:36.309 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 20:08:36.311 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 20:08:36.311 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 20:08:36.311 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"anonymous","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"b4fabef9e0614ab394720240777603f3","UiLocales":null,"Nonce":"17d0605d418d44028f77dae8f4c7b938","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"b4fabef9e0614ab394720240777603f3","nonce":"17d0605d418d44028f77dae8f4c7b938"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 20:08:36.311 -05:00 [INF] Showing login: User is not authenticated
2021-02-01 20:08:36.327 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 20:08:36.327 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 20:08:36.327 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 20:08:36.328 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 20:08:42.362 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 20:08:42.362 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 20:08:42.362 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 20:08:42.396 -05:00 [DBG] Augmenting SignInContext
2021-02-01 20:08:42.396 -05:00 [DBG] Adding idp claim with value: local
2021-02-01 20:08:42.396 -05:00 [DBG] Adding amr claim with value: pwd
2021-02-01 20:08:42.396 -05:00 [DBG] Adding auth_time claim with value: 1612228122
2021-02-01 20:08:42.399 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 20:08:42.406 -05:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2021-02-01 20:08:42.407 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2021-02-01 20:08:42.407 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2021-02-01 20:08:42.408 -05:00 [DBG] Start authorize callback request
2021-02-01 20:08:42.410 -05:00 [DBG] User in authorize request: 4
2021-02-01 20:08:42.410 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 20:08:42.410 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 20:08:42.410 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 20:08:42.410 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"b4fabef9e0614ab394720240777603f3","UiLocales":null,"Nonce":"17d0605d418d44028f77dae8f4c7b938","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"6552B976F394E5E4F79CE0A6D850C5BA","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"b4fabef9e0614ab394720240777603f3","nonce":"17d0605d418d44028f77dae8f4c7b938"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 20:08:42.411 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 20:08:42.411 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 20:08:42.411 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 20:08:42.411 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 20:08:42.419 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 20:08:42.419 -05:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2021-02-01 20:08:42.419 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"b4fabef9e0614ab394720240777603f3","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 20:08:42.421 -05:00 [DBG] Augmenting SignInContext
2021-02-01 20:08:42.421 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 20:08:42.863 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:08:42.863 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:08:42.863 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:08:42.863 -05:00 [DBG] Start discovery request
2021-02-01 20:08:42.872 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 20:08:42.873 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 20:08:42.873 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 20:08:42.873 -05:00 [DBG] Start key discovery request
2021-02-01 20:08:42.890 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:08:42.890 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:08:42.890 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:08:42.890 -05:00 [DBG] Start discovery request
2021-02-01 20:08:42.897 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 20:08:42.897 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 20:08:42.897 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 20:08:42.897 -05:00 [DBG] Start userinfo request
2021-02-01 20:08:42.897 -05:00 [DBG] Bearer token found in header
2021-02-01 20:08:42.898 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 20:08:42.898 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 20:08:42.899 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 20:08:42.899 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"ED498B5FDED969DBA67702F4B6FA83CD","Claims":{"nbf":1612228122,"exp":1612231722,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612228122,"idp":"local","jti":"ED498B5FDED969DBA67702F4B6FA83CD","sid":"6552B976F394E5E4F79CE0A6D850C5BA","iat":1612228122,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 20:08:42.899 -05:00 [DBG] Creating userinfo response
2021-02-01 20:08:42.899 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 20:08:42.899 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 20:08:42.900 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 20:08:42.900 -05:00 [DBG] End userinfo request
2021-02-01 20:08:42.906 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:08:42.906 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:08:42.906 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:08:42.906 -05:00 [DBG] Start discovery request
2021-02-01 20:08:42.920 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 20:08:42.920 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 20:08:42.920 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 20:08:42.920 -05:00 [DBG] Rendering check session result
2021-02-01 20:08:42.972 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:08:42.972 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:08:42.972 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:08:42.972 -05:00 [DBG] Start discovery request
2021-02-01 20:08:42.987 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 20:08:42.988 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 20:08:42.988 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 20:08:42.988 -05:00 [DBG] Rendering check session result
2021-02-01 20:08:48.937 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:08:48.938 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:08:48.938 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:08:48.938 -05:00 [DBG] Start discovery request
2021-02-01 20:08:48.948 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 20:08:48.948 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 20:08:48.948 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 20:08:48.948 -05:00 [DBG] Rendering check session result
2021-02-01 20:08:50.593 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:08:50.593 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:08:50.593 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:08:50.593 -05:00 [DBG] Start discovery request
2021-02-01 20:08:50.601 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 20:08:50.601 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 20:08:50.601 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 20:08:50.601 -05:00 [DBG] Rendering check session result
2021-02-01 20:13:02.093 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:13:02.093 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:13:02.093 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:13:02.093 -05:00 [DBG] Start discovery request
2021-02-01 20:13:02.105 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 20:13:02.105 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:13:02.105 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 20:13:02.105 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 20:13:02.105 -05:00 [DBG] Rendering check session result
2021-02-01 20:13:02.107 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:13:02.107 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:13:02.107 -05:00 [DBG] Processing signout request for 4
2021-02-01 20:13:02.107 -05:00 [DBG] Start end session request validation
2021-02-01 20:13:02.108 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:13:02.108 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:13:02.113 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 20:40:26.875 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:40:26.875 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:40:26.875 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:40:26.875 -05:00 [DBG] Start discovery request
2021-02-01 20:40:26.893 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:40:26.893 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:40:26.893 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:40:26.893 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:40:26.893 -05:00 [DBG] Start end session request validation
2021-02-01 20:40:26.893 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:40:26.893 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:40:28.206 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:40:28.206 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:40:28.206 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:40:28.206 -05:00 [DBG] Start discovery request
2021-02-01 20:40:28.221 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:40:28.221 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:40:28.221 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:40:28.221 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:40:28.221 -05:00 [DBG] Start end session request validation
2021-02-01 20:40:28.221 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:40:28.221 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:40:28.868 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:40:28.868 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:40:28.868 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:40:28.868 -05:00 [DBG] Start discovery request
2021-02-01 20:40:28.883 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:40:28.883 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:40:28.883 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:40:28.883 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:40:28.883 -05:00 [DBG] Start end session request validation
2021-02-01 20:40:28.883 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:40:28.883 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:40:29.256 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:40:29.256 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:40:29.256 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:40:29.256 -05:00 [DBG] Start discovery request
2021-02-01 20:40:29.269 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:40:29.269 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:40:29.269 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:40:29.269 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:40:29.269 -05:00 [DBG] Start end session request validation
2021-02-01 20:40:29.269 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:40:29.269 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:40:29.699 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:40:29.699 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:40:29.699 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:40:29.699 -05:00 [DBG] Start discovery request
2021-02-01 20:40:29.712 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:40:29.712 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:40:29.712 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:40:29.712 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:40:29.712 -05:00 [DBG] Start end session request validation
2021-02-01 20:40:29.712 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:40:29.712 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:40:31.573 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:40:31.573 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:40:31.573 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:40:31.573 -05:00 [DBG] Start discovery request
2021-02-01 20:40:31.585 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:40:31.585 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:40:31.585 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:40:31.585 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:40:31.585 -05:00 [DBG] Start end session request validation
2021-02-01 20:40:31.585 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:40:31.585 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:40:43.536 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:40:43.536 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:40:43.536 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:40:43.537 -05:00 [DBG] Start discovery request
2021-02-01 20:40:43.548 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:40:43.548 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:40:43.548 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:40:43.548 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:40:43.548 -05:00 [DBG] Start end session request validation
2021-02-01 20:40:43.548 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:40:43.548 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:40:44.266 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:40:44.267 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:40:44.267 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:40:44.267 -05:00 [DBG] Start discovery request
2021-02-01 20:40:44.277 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:40:44.278 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:40:44.278 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:40:44.278 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:40:44.278 -05:00 [DBG] Start end session request validation
2021-02-01 20:40:44.278 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:40:44.278 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:41:26.800 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:41:26.800 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:41:26.800 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:41:26.800 -05:00 [DBG] Start discovery request
2021-02-01 20:41:26.812 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:41:26.812 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:41:26.812 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:41:26.812 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:41:26.812 -05:00 [DBG] Start end session request validation
2021-02-01 20:41:26.812 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:41:26.812 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:42:22.045 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:42:22.045 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:42:22.045 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:42:22.045 -05:00 [DBG] Start discovery request
2021-02-01 20:42:22.059 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:42:22.059 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:42:22.059 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:42:22.059 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:42:22.059 -05:00 [DBG] Start end session request validation
2021-02-01 20:42:22.059 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:42:22.059 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:42:23.517 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:42:23.517 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:42:23.517 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:42:23.518 -05:00 [DBG] Start discovery request
2021-02-01 20:42:23.529 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:42:23.529 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:42:23.529 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:42:23.529 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:42:23.529 -05:00 [DBG] Start end session request validation
2021-02-01 20:42:23.529 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:42:23.529 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:42:24.109 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:42:24.109 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:42:24.109 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:42:24.109 -05:00 [DBG] Start discovery request
2021-02-01 20:42:24.123 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:42:24.123 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:42:24.123 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:42:24.123 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:42:24.123 -05:00 [DBG] Start end session request validation
2021-02-01 20:42:24.123 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:42:24.123 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:42:24.617 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:42:24.617 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:42:24.617 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:42:24.618 -05:00 [DBG] Start discovery request
2021-02-01 20:42:24.629 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:42:24.629 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:42:24.629 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:42:24.629 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:42:24.629 -05:00 [DBG] Start end session request validation
2021-02-01 20:42:24.629 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:42:24.629 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:42:30.924 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 20:42:30.942 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 20:42:30.942 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 20:42:30.942 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 20:42:30.942 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 20:42:30.942 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 20:42:30.942 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 20:42:31.018 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 20:42:31.019 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 20:42:31.019 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 20:42:31.019 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 20:42:31.019 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 20:42:31.019 -05:00 [DBG] Error Url: /home/error
2021-02-01 20:42:31.019 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 20:42:31.026 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:42:31.033 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:42:31.033 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:42:31.034 -05:00 [DBG] Start discovery request
2021-02-01 20:42:31.070 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:42:31.070 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:42:31.070 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:42:31.070 -05:00 [DBG] Start discovery request
2021-02-01 20:42:31.095 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:42:31.096 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:42:31.096 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:42:31.099 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:42:31.100 -05:00 [DBG] Start end session request validation
2021-02-01 20:42:31.108 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:42:31.112 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:42:31.116 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:42:31.123 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:42:31.123 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:42:31.123 -05:00 [DBG] Start discovery request
2021-02-01 20:42:31.138 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:42:31.139 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:42:31.139 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:42:31.139 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:42:31.139 -05:00 [DBG] Start end session request validation
2021-02-01 20:42:31.139 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:42:31.139 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:42:47.040 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:42:47.040 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:42:47.040 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:42:47.040 -05:00 [DBG] Start discovery request
2021-02-01 20:42:47.051 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:42:47.054 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:42:47.054 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:42:47.054 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:42:47.054 -05:00 [DBG] Start end session request validation
2021-02-01 20:42:47.054 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:42:47.054 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:42:48.421 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:42:48.421 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:42:48.421 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:42:48.421 -05:00 [DBG] Start discovery request
2021-02-01 20:42:48.433 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:42:48.433 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:42:48.433 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:42:48.433 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:42:48.433 -05:00 [DBG] Start end session request validation
2021-02-01 20:42:48.433 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:42:48.433 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:45:01.928 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:45:01.928 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:45:01.928 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:45:01.928 -05:00 [DBG] Start discovery request
2021-02-01 20:45:01.941 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:45:01.941 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:45:01.941 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:45:01.941 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:45:01.941 -05:00 [DBG] Start end session request validation
2021-02-01 20:45:01.941 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:45:01.941 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:45:29.958 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:45:29.958 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:45:29.958 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:45:29.958 -05:00 [DBG] Start discovery request
2021-02-01 20:45:29.970 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:45:29.971 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:45:29.971 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:45:29.971 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:45:29.971 -05:00 [DBG] Start end session request validation
2021-02-01 20:45:29.971 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:45:29.971 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:45:31.037 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:45:31.037 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:45:31.037 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:45:31.037 -05:00 [DBG] Start discovery request
2021-02-01 20:45:31.050 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:45:31.051 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:45:31.051 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:45:31.051 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:45:31.051 -05:00 [DBG] Start end session request validation
2021-02-01 20:45:31.051 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:45:31.051 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:45:31.698 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:45:31.699 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:45:31.699 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:45:31.699 -05:00 [DBG] Start discovery request
2021-02-01 20:45:31.710 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:45:31.711 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:45:31.711 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:45:31.711 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:45:31.711 -05:00 [DBG] Start end session request validation
2021-02-01 20:45:31.711 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:45:31.711 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:45:32.297 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:45:32.297 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:45:32.297 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:45:32.297 -05:00 [DBG] Start discovery request
2021-02-01 20:45:32.311 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:45:32.311 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:45:32.311 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:45:32.311 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:45:32.311 -05:00 [DBG] Start end session request validation
2021-02-01 20:45:32.311 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:45:32.311 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:45:32.795 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:45:32.795 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:45:32.795 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:45:32.795 -05:00 [DBG] Start discovery request
2021-02-01 20:45:32.808 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:45:32.809 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:45:32.809 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:45:32.809 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:45:32.809 -05:00 [DBG] Start end session request validation
2021-02-01 20:45:32.809 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:45:32.809 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:46:31.224 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:46:31.224 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:46:31.224 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:46:31.224 -05:00 [DBG] Start discovery request
2021-02-01 20:46:31.240 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:46:31.240 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:46:31.240 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:46:31.240 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:46:31.240 -05:00 [DBG] Start end session request validation
2021-02-01 20:46:31.240 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:46:31.240 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:51:45.668 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:51:45.668 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:51:45.668 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:51:45.668 -05:00 [DBG] Start discovery request
2021-02-01 20:51:45.680 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:51:45.681 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:51:45.681 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:51:45.681 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:51:45.681 -05:00 [DBG] Start end session request validation
2021-02-01 20:51:45.681 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:51:45.681 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:51:46.912 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:51:46.912 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:51:46.912 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:51:46.912 -05:00 [DBG] Start discovery request
2021-02-01 20:51:46.923 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:51:46.923 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:51:46.923 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:51:46.923 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:51:46.923 -05:00 [DBG] Start end session request validation
2021-02-01 20:51:46.923 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:51:46.923 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:57:49.398 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:57:49.398 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:57:49.398 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:57:49.398 -05:00 [DBG] Start discovery request
2021-02-01 20:57:49.414 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:57:49.414 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:57:49.414 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:57:49.414 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:57:49.414 -05:00 [DBG] Start end session request validation
2021-02-01 20:57:49.414 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:57:49.414 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:57:50.889 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 20:57:50.889 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 20:57:50.889 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 20:57:50.889 -05:00 [DBG] Start discovery request
2021-02-01 20:57:50.903 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 20:57:50.903 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 20:57:50.903 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 20:57:50.903 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 20:57:50.903 -05:00 [DBG] Start end session request validation
2021-02-01 20:57:50.903 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 20:57:50.903 -05:00 [DBG] Success validating end session request from null
2021-02-01 20:58:27.596 -05:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2021-02-01 21:00:02.425 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:00:02.425 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:00:02.425 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:00:02.425 -05:00 [DBG] Start discovery request
2021-02-01 21:00:02.438 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 21:00:02.438 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 21:00:02.438 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 21:00:02.438 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 21:00:02.438 -05:00 [DBG] Start end session request validation
2021-02-01 21:00:02.438 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 21:00:02.438 -05:00 [DBG] Success validating end session request from null
2021-02-01 21:00:13.342 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:00:13.342 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:00:13.342 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:00:13.342 -05:00 [DBG] Start discovery request
2021-02-01 21:00:13.355 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 21:00:13.355 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 21:00:13.355 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 21:00:13.355 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 21:00:13.355 -05:00 [DBG] Start end session request validation
2021-02-01 21:00:13.355 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 21:00:13.355 -05:00 [DBG] Success validating end session request from null
2021-02-01 21:00:14.098 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:00:14.098 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:00:14.098 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:00:14.098 -05:00 [DBG] Start discovery request
2021-02-01 21:00:14.112 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 21:00:14.112 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 21:00:14.112 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 21:00:14.112 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 21:00:14.112 -05:00 [DBG] Start end session request validation
2021-02-01 21:00:14.112 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 21:00:14.112 -05:00 [DBG] Success validating end session request from null
2021-02-01 21:00:14.519 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:00:14.519 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:00:14.519 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:00:14.519 -05:00 [DBG] Start discovery request
2021-02-01 21:00:14.529 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 21:00:14.530 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 21:00:14.530 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 21:00:14.530 -05:00 [DBG] Processing signout request for anonymous
2021-02-01 21:00:14.530 -05:00 [DBG] Start end session request validation
2021-02-01 21:00:14.530 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"unknown","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 21:00:14.530 -05:00 [DBG] Success validating end session request from null
2021-02-01 21:05:51.150 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:05:51.167 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:05:51.168 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:05:51.168 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:05:51.168 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:05:51.168 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:05:51.168 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:05:51.225 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:05:51.226 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:05:51.226 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:05:51.226 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:05:51.226 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:05:51.226 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:05:51.226 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:05:51.234 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:05:51.241 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:05:51.241 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:05:51.241 -05:00 [DBG] Start discovery request
2021-02-01 21:05:51.290 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 21:05:51.293 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 21:05:51.293 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 21:05:51.294 -05:00 [DBG] Start authorize request
2021-02-01 21:05:51.296 -05:00 [DBG] No user present in authorize request
2021-02-01 21:05:51.298 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 21:05:51.304 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:05:51.319 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 21:05:51.325 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"anonymous","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"a011ba1e63ae4fe58af56dfd4feb483d","UiLocales":null,"Nonce":"a0f7cb4f80b94addb0d765eeb8cc23b5","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"a011ba1e63ae4fe58af56dfd4feb483d","nonce":"a0f7cb4f80b94addb0d765eeb8cc23b5"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 21:05:51.331 -05:00 [INF] Showing login: User is not authenticated
2021-02-01 21:05:51.387 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 21:05:51.387 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:05:51.387 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 21:05:51.388 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:05:57.765 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 21:05:57.765 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:05:57.765 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 21:05:58.130 -05:00 [DBG] Augmenting SignInContext
2021-02-01 21:05:58.131 -05:00 [DBG] Adding idp claim with value: local
2021-02-01 21:05:58.131 -05:00 [DBG] Adding amr claim with value: pwd
2021-02-01 21:05:58.131 -05:00 [DBG] Adding auth_time claim with value: 1612231558
2021-02-01 21:05:58.139 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 21:05:58.148 -05:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2021-02-01 21:05:58.149 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2021-02-01 21:05:58.149 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2021-02-01 21:05:58.150 -05:00 [DBG] Start authorize callback request
2021-02-01 21:05:58.151 -05:00 [DBG] User in authorize request: 4
2021-02-01 21:05:58.151 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 21:05:58.151 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:05:58.152 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 21:05:58.152 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"a011ba1e63ae4fe58af56dfd4feb483d","UiLocales":null,"Nonce":"a0f7cb4f80b94addb0d765eeb8cc23b5","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"1A9CD50BCD5F284F735CD35E1CF8D3AE","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"a011ba1e63ae4fe58af56dfd4feb483d","nonce":"a0f7cb4f80b94addb0d765eeb8cc23b5"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 21:05:58.195 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 21:05:58.196 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 21:05:58.202 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 21:05:58.203 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 21:05:58.302 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 21:05:58.302 -05:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2021-02-01 21:05:58.306 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"a011ba1e63ae4fe58af56dfd4feb483d","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 21:05:58.308 -05:00 [DBG] Augmenting SignInContext
2021-02-01 21:05:58.308 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 21:05:59.012 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:05:59.012 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:05:59.012 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:05:59.013 -05:00 [DBG] Start discovery request
2021-02-01 21:05:59.024 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 21:05:59.025 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 21:05:59.025 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 21:05:59.025 -05:00 [DBG] Start key discovery request
2021-02-01 21:05:59.046 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:05:59.053 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:05:59.053 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:05:59.053 -05:00 [DBG] Start discovery request
2021-02-01 21:05:59.060 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 21:05:59.061 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 21:05:59.061 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 21:05:59.063 -05:00 [DBG] Start userinfo request
2021-02-01 21:05:59.064 -05:00 [DBG] Bearer token found in header
2021-02-01 21:05:59.096 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:05:59.097 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:05:59.101 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 21:05:59.101 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"9DE8CC3E41B7A52149AB362DEF3D46C9","Claims":{"nbf":1612231558,"exp":1612235158,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612231558,"idp":"local","jti":"9DE8CC3E41B7A52149AB362DEF3D46C9","sid":"1A9CD50BCD5F284F735CD35E1CF8D3AE","iat":1612231558,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 21:05:59.104 -05:00 [DBG] Creating userinfo response
2021-02-01 21:05:59.105 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 21:05:59.106 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 21:05:59.108 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 21:05:59.108 -05:00 [DBG] End userinfo request
2021-02-01 21:05:59.113 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:05:59.113 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:05:59.113 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:05:59.113 -05:00 [DBG] Start discovery request
2021-02-01 21:05:59.124 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:05:59.124 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:05:59.125 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:05:59.125 -05:00 [DBG] Rendering check session result
2021-02-01 21:05:59.191 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:05:59.192 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:05:59.192 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:05:59.192 -05:00 [DBG] Start discovery request
2021-02-01 21:05:59.200 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:05:59.200 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:05:59.200 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:05:59.200 -05:00 [DBG] Rendering check session result
2021-02-01 21:05:59.302 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:05:59.303 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:05:59.303 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:05:59.303 -05:00 [DBG] Start discovery request
2021-02-01 21:05:59.400 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 21:05:59.400 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 21:05:59.400 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 21:05:59.400 -05:00 [DBG] Start key discovery request
2021-02-01 21:05:59.762 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:05:59.762 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:05:59.762 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:05:59.762 -05:00 [DBG] Start discovery request
2021-02-01 21:05:59.768 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:05:59.769 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:05:59.769 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:05:59.769 -05:00 [DBG] Rendering check session result
2021-02-01 21:06:10.275 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:06:10.275 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:06:10.275 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:06:10.275 -05:00 [DBG] Start discovery request
2021-02-01 21:06:10.285 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:06:10.285 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:06:10.285 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:06:10.285 -05:00 [DBG] Rendering check session result
2021-02-01 21:06:10.316 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:06:10.316 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:06:10.317 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:06:10.317 -05:00 [DBG] Start discovery request
2021-02-01 21:06:10.325 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:06:10.325 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:06:10.325 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:06:10.325 -05:00 [DBG] Rendering check session result
2021-02-01 21:07:03.760 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:07:03.760 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:07:03.760 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:07:03.760 -05:00 [DBG] Start discovery request
2021-02-01 21:07:03.775 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:07:03.775 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:07:03.775 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:07:03.775 -05:00 [DBG] Rendering check session result
2021-02-01 21:07:19.818 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:07:19.818 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:07:19.819 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:07:19.819 -05:00 [DBG] Start discovery request
2021-02-01 21:07:19.837 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:07:19.837 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:07:19.837 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:07:19.837 -05:00 [DBG] Rendering check session result
2021-02-01 21:07:21.229 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:07:21.229 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:07:21.230 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:07:21.230 -05:00 [DBG] Start discovery request
2021-02-01 21:07:21.251 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:07:21.251 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:07:21.251 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:07:21.252 -05:00 [DBG] Rendering check session result
2021-02-01 21:07:23.430 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:07:23.430 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:07:23.430 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:07:23.430 -05:00 [DBG] Start discovery request
2021-02-01 21:07:23.449 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:07:23.449 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:07:23.449 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:07:23.449 -05:00 [DBG] Rendering check session result
2021-02-01 21:07:24.692 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 21:07:24.692 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:07:24.692 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 21:07:24.692 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:07:25.721 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 21:07:25.721 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:07:25.721 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 21:07:25.721 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:07:28.345 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:07:28.345 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:07:28.345 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:07:28.345 -05:00 [DBG] Start discovery request
2021-02-01 21:07:28.360 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:07:28.360 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:07:28.360 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:07:28.360 -05:00 [DBG] Rendering check session result
2021-02-01 21:07:28.361 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 21:07:28.361 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 21:07:28.361 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 21:07:28.362 -05:00 [DBG] Processing signout request for 4
2021-02-01 21:07:28.363 -05:00 [DBG] Start end session request validation
2021-02-01 21:07:28.365 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 21:07:28.365 -05:00 [DBG] Success validating end session request from null
2021-02-01 21:07:28.394 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 21:07:31.084 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:07:31.084 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:07:31.084 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:07:31.084 -05:00 [DBG] Start discovery request
2021-02-01 21:07:31.098 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 21:07:31.098 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 21:07:31.098 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 21:07:31.099 -05:00 [DBG] Start authorize request
2021-02-01 21:07:31.099 -05:00 [DBG] User in authorize request: 4
2021-02-01 21:07:31.099 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 21:07:31.099 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:07:31.099 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 21:07:31.099 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"00c922d11e7146bb98e75cacaab8fe0f","UiLocales":null,"Nonce":"0fd30eb4e0414e99b496071fadbfdada","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"1A9CD50BCD5F284F735CD35E1CF8D3AE","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"00c922d11e7146bb98e75cacaab8fe0f","nonce":"0fd30eb4e0414e99b496071fadbfdada"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 21:07:31.101 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 21:07:31.101 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 21:07:31.101 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 21:07:31.101 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 21:07:31.106 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 21:07:31.106 -05:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2021-02-01 21:07:31.106 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"00c922d11e7146bb98e75cacaab8fe0f","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 21:07:31.441 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:07:31.441 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:07:31.441 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:07:31.441 -05:00 [DBG] Start discovery request
2021-02-01 21:07:31.449 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 21:07:31.449 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 21:07:31.450 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 21:07:31.450 -05:00 [DBG] Start key discovery request
2021-02-01 21:07:31.464 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:07:31.465 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:07:31.465 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:07:31.465 -05:00 [DBG] Start discovery request
2021-02-01 21:07:31.470 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 21:07:31.470 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 21:07:31.470 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 21:07:31.470 -05:00 [DBG] Start userinfo request
2021-02-01 21:07:31.470 -05:00 [DBG] Bearer token found in header
2021-02-01 21:07:31.471 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:07:31.471 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:07:31.474 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 21:07:31.474 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"7083E584F6A952F6D6CBEE4E412C9156","Claims":{"nbf":1612231651,"exp":1612235251,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612231558,"idp":"local","jti":"7083E584F6A952F6D6CBEE4E412C9156","sid":"1A9CD50BCD5F284F735CD35E1CF8D3AE","iat":1612231651,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 21:07:31.474 -05:00 [DBG] Creating userinfo response
2021-02-01 21:07:31.474 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 21:07:31.474 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 21:07:31.475 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 21:07:31.475 -05:00 [DBG] End userinfo request
2021-02-01 21:07:31.480 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:07:31.480 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:07:31.480 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:07:31.480 -05:00 [DBG] Start discovery request
2021-02-01 21:07:31.497 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:07:31.497 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:07:31.497 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:07:31.497 -05:00 [DBG] Rendering check session result
2021-02-01 21:07:31.562 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:07:31.562 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:07:31.562 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:07:31.562 -05:00 [DBG] Start discovery request
2021-02-01 21:07:31.570 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:07:31.570 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:07:31.570 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:07:31.570 -05:00 [DBG] Rendering check session result
2021-02-01 21:07:31.698 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:07:31.698 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:07:31.698 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:07:31.698 -05:00 [DBG] Start discovery request
2021-02-01 21:07:31.704 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:07:31.704 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:07:31.704 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:07:31.704 -05:00 [DBG] Rendering check session result
2021-02-01 21:08:41.933 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:08:41.933 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:08:41.933 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:08:41.933 -05:00 [DBG] Start discovery request
2021-02-01 21:08:41.947 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 21:08:41.949 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 21:08:41.949 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 21:08:41.949 -05:00 [DBG] Start authorize request
2021-02-01 21:08:41.949 -05:00 [DBG] No user present in authorize request
2021-02-01 21:08:41.949 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 21:08:41.950 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:08:41.950 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 21:08:41.950 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"anonymous","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"25902aa45cf34087a9917f9558359c55","UiLocales":null,"Nonce":"494d9b744ed24348a6d39c86451f4f2d","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"25902aa45cf34087a9917f9558359c55","nonce":"494d9b744ed24348a6d39c86451f4f2d"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 21:08:41.950 -05:00 [INF] Showing login: User is not authenticated
2021-02-01 21:08:41.954 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 21:08:41.954 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:08:41.954 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 21:08:41.954 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:08:47.815 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 21:08:47.815 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:08:47.815 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 21:08:47.822 -05:00 [DBG] Augmenting SignInContext
2021-02-01 21:08:47.822 -05:00 [DBG] Adding idp claim with value: local
2021-02-01 21:08:47.823 -05:00 [DBG] Adding amr claim with value: pwd
2021-02-01 21:08:47.823 -05:00 [DBG] Adding auth_time claim with value: 1612231727
2021-02-01 21:08:47.823 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 21:08:47.828 -05:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2021-02-01 21:08:47.828 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2021-02-01 21:08:47.828 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2021-02-01 21:08:47.828 -05:00 [DBG] Start authorize callback request
2021-02-01 21:08:47.828 -05:00 [DBG] User in authorize request: 4
2021-02-01 21:08:47.828 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 21:08:47.828 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:08:47.828 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 21:08:47.828 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"25902aa45cf34087a9917f9558359c55","UiLocales":null,"Nonce":"494d9b744ed24348a6d39c86451f4f2d","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"41583568F1CE1937F4E68AA39304341B","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"25902aa45cf34087a9917f9558359c55","nonce":"494d9b744ed24348a6d39c86451f4f2d"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 21:08:47.831 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 21:08:47.831 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 21:08:47.831 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 21:08:47.831 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 21:08:47.835 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 21:08:47.835 -05:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2021-02-01 21:08:47.836 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"25902aa45cf34087a9917f9558359c55","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 21:08:47.837 -05:00 [DBG] Augmenting SignInContext
2021-02-01 21:08:47.837 -05:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-02-01 21:08:48.480 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:08:48.480 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:08:48.480 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:08:48.480 -05:00 [DBG] Start discovery request
2021-02-01 21:08:48.489 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 21:08:48.489 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 21:08:48.489 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 21:08:48.489 -05:00 [DBG] Start key discovery request
2021-02-01 21:08:48.507 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:08:48.507 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:08:48.507 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:08:48.507 -05:00 [DBG] Start discovery request
2021-02-01 21:08:48.512 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 21:08:48.513 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 21:08:48.513 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 21:08:48.513 -05:00 [DBG] Start userinfo request
2021-02-01 21:08:48.513 -05:00 [DBG] Bearer token found in header
2021-02-01 21:08:48.513 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:08:48.514 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:08:48.515 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 21:08:48.515 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"C68213379304461E614C5C1BC736E7A2","Claims":{"nbf":1612231727,"exp":1612235327,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612231727,"idp":"local","jti":"C68213379304461E614C5C1BC736E7A2","sid":"41583568F1CE1937F4E68AA39304341B","iat":1612231727,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 21:08:48.515 -05:00 [DBG] Creating userinfo response
2021-02-01 21:08:48.515 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 21:08:48.515 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 21:08:48.516 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 21:08:48.516 -05:00 [DBG] End userinfo request
2021-02-01 21:08:48.524 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:08:48.524 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:08:48.524 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:08:48.524 -05:00 [DBG] Start discovery request
2021-02-01 21:08:48.544 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:08:48.544 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:08:48.544 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:08:48.544 -05:00 [DBG] Rendering check session result
2021-02-01 21:08:48.592 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:08:48.592 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:08:48.592 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:08:48.593 -05:00 [DBG] Start discovery request
2021-02-01 21:08:48.598 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:08:48.598 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:08:48.598 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:08:48.598 -05:00 [DBG] Rendering check session result
2021-02-01 21:08:48.720 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:08:48.721 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:08:48.721 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:08:48.721 -05:00 [DBG] Start discovery request
2021-02-01 21:08:48.727 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:08:48.727 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:08:48.727 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:08:48.727 -05:00 [DBG] Rendering check session result
2021-02-01 21:10:53.021 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:10:53.022 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:10:53.022 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:10:53.022 -05:00 [DBG] Start discovery request
2021-02-01 21:10:53.035 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:10:53.035 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 21:10:53.035 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:10:53.035 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:10:53.035 -05:00 [DBG] Rendering check session result
2021-02-01 21:10:53.035 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 21:10:53.035 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 21:10:53.035 -05:00 [DBG] Processing signout request for 4
2021-02-01 21:10:53.035 -05:00 [DBG] Start end session request validation
2021-02-01 21:10:53.035 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 21:10:53.035 -05:00 [DBG] Success validating end session request from null
2021-02-01 21:10:53.041 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 21:10:56.172 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:10:56.172 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:10:56.172 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:10:56.172 -05:00 [DBG] Start discovery request
2021-02-01 21:10:56.186 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 21:10:56.186 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 21:10:56.186 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 21:10:56.186 -05:00 [DBG] Start authorize request
2021-02-01 21:10:56.186 -05:00 [DBG] User in authorize request: 4
2021-02-01 21:10:56.186 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 21:10:56.186 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:10:56.186 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 21:10:56.186 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"1a8db64da65041aa9a31597645ce7104","UiLocales":null,"Nonce":"7d89221d347e4867935ea884c986bd88","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"41583568F1CE1937F4E68AA39304341B","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"1a8db64da65041aa9a31597645ce7104","nonce":"7d89221d347e4867935ea884c986bd88"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 21:10:56.189 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 21:10:56.189 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 21:10:56.189 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 21:10:56.189 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 21:10:56.193 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 21:10:56.193 -05:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2021-02-01 21:10:56.194 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"1a8db64da65041aa9a31597645ce7104","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 21:10:56.537 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:10:56.537 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:10:56.537 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:10:56.537 -05:00 [DBG] Start discovery request
2021-02-01 21:10:56.545 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 21:10:56.545 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 21:10:56.545 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 21:10:56.545 -05:00 [DBG] Start key discovery request
2021-02-01 21:10:56.558 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:10:56.559 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:10:56.559 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:10:56.559 -05:00 [DBG] Start discovery request
2021-02-01 21:10:56.563 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 21:10:56.563 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 21:10:56.563 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 21:10:56.563 -05:00 [DBG] Start userinfo request
2021-02-01 21:10:56.563 -05:00 [DBG] Bearer token found in header
2021-02-01 21:10:56.564 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:10:56.564 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:10:56.565 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 21:10:56.565 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"2DB2FD008C3B4B5E44FD270D4892830E","Claims":{"nbf":1612231856,"exp":1612235456,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612231727,"idp":"local","jti":"2DB2FD008C3B4B5E44FD270D4892830E","sid":"41583568F1CE1937F4E68AA39304341B","iat":1612231856,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 21:10:56.565 -05:00 [DBG] Creating userinfo response
2021-02-01 21:10:56.565 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 21:10:56.565 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 21:10:56.566 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 21:10:56.566 -05:00 [DBG] End userinfo request
2021-02-01 21:10:56.569 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:10:56.570 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:10:56.570 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:10:56.570 -05:00 [DBG] Start discovery request
2021-02-01 21:10:56.579 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:10:56.579 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:10:56.580 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:10:56.580 -05:00 [DBG] Rendering check session result
2021-02-01 21:10:56.647 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:10:56.647 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:10:56.647 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:10:56.647 -05:00 [DBG] Start discovery request
2021-02-01 21:10:56.655 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:10:56.655 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:10:56.656 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:10:56.656 -05:00 [DBG] Rendering check session result
2021-02-01 21:10:56.760 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:10:56.760 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:10:56.760 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:10:56.760 -05:00 [DBG] Start discovery request
2021-02-01 21:10:56.767 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:10:56.767 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:10:56.767 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:10:56.767 -05:00 [DBG] Rendering check session result
2021-02-01 21:12:02.915 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:12:02.916 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:12:02.916 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:12:02.916 -05:00 [DBG] Start discovery request
2021-02-01 21:12:02.929 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:12:02.929 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:12:02.929 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:12:02.929 -05:00 [DBG] Rendering check session result
2021-02-01 21:12:02.929 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 21:12:02.931 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 21:12:02.931 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 21:12:02.931 -05:00 [DBG] Processing signout request for 4
2021-02-01 21:12:02.931 -05:00 [DBG] Start end session request validation
2021-02-01 21:12:02.931 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 21:12:02.931 -05:00 [DBG] Success validating end session request from null
2021-02-01 21:12:02.935 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 21:12:04.240 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:12:04.240 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:12:04.240 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:12:04.240 -05:00 [DBG] Start discovery request
2021-02-01 21:12:04.255 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 21:12:04.256 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 21:12:04.256 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 21:12:04.256 -05:00 [DBG] Start authorize request
2021-02-01 21:12:04.256 -05:00 [DBG] User in authorize request: 4
2021-02-01 21:12:04.256 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 21:12:04.256 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:12:04.256 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 21:12:04.256 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"b8f4a09f2dd44b55b4a5f3fda0fae491","UiLocales":null,"Nonce":"474bc44cc11d4c23939f5c8cfd53ec97","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"41583568F1CE1937F4E68AA39304341B","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"b8f4a09f2dd44b55b4a5f3fda0fae491","nonce":"474bc44cc11d4c23939f5c8cfd53ec97"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 21:12:04.258 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 21:12:04.258 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 21:12:04.258 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 21:12:04.258 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 21:12:04.262 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 21:12:04.262 -05:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2021-02-01 21:12:04.262 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"b8f4a09f2dd44b55b4a5f3fda0fae491","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 21:12:04.605 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:12:04.605 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:12:04.605 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:12:04.605 -05:00 [DBG] Start discovery request
2021-02-01 21:12:04.613 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 21:12:04.613 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 21:12:04.613 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 21:12:04.613 -05:00 [DBG] Start key discovery request
2021-02-01 21:12:04.628 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:12:04.628 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:12:04.628 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:12:04.628 -05:00 [DBG] Start discovery request
2021-02-01 21:12:04.633 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 21:12:04.633 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 21:12:04.633 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 21:12:04.633 -05:00 [DBG] Start userinfo request
2021-02-01 21:12:04.633 -05:00 [DBG] Bearer token found in header
2021-02-01 21:12:04.633 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:12:04.634 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:12:04.635 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 21:12:04.635 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"5FFD1FA4AF0F8D9F9874F692ED0622DD","Claims":{"nbf":1612231924,"exp":1612235524,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612231727,"idp":"local","jti":"5FFD1FA4AF0F8D9F9874F692ED0622DD","sid":"41583568F1CE1937F4E68AA39304341B","iat":1612231924,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 21:12:04.635 -05:00 [DBG] Creating userinfo response
2021-02-01 21:12:04.635 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 21:12:04.635 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 21:12:04.636 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 21:12:04.636 -05:00 [DBG] End userinfo request
2021-02-01 21:12:04.641 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:12:04.641 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:12:04.641 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:12:04.641 -05:00 [DBG] Start discovery request
2021-02-01 21:12:04.652 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:12:04.652 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:12:04.652 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:12:04.652 -05:00 [DBG] Rendering check session result
2021-02-01 21:12:04.719 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:12:04.719 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:12:04.719 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:12:04.719 -05:00 [DBG] Start discovery request
2021-02-01 21:12:04.727 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:12:04.728 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:12:04.728 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:12:04.728 -05:00 [DBG] Rendering check session result
2021-02-01 21:12:06.215 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:12:06.215 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:12:06.215 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:12:06.215 -05:00 [DBG] Start discovery request
2021-02-01 21:12:06.225 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:12:06.226 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:12:06.226 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:12:06.226 -05:00 [DBG] Rendering check session result
2021-02-01 21:12:06.227 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 21:12:06.227 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 21:12:06.227 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 21:12:06.227 -05:00 [DBG] Processing signout request for 4
2021-02-01 21:12:06.227 -05:00 [DBG] Start end session request validation
2021-02-01 21:12:06.227 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 21:12:06.227 -05:00 [DBG] Success validating end session request from null
2021-02-01 21:12:06.233 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 21:21:32.061 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:21:32.062 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:21:32.062 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:21:32.062 -05:00 [DBG] Start discovery request
2021-02-01 21:21:32.077 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 21:21:32.077 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 21:21:32.077 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 21:21:32.077 -05:00 [DBG] Start authorize request
2021-02-01 21:21:32.077 -05:00 [DBG] User in authorize request: 4
2021-02-01 21:21:32.077 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 21:21:32.078 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:21:32.078 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 21:21:32.078 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"b8bc10b257854fd4ae246bf512c7e4bc","UiLocales":null,"Nonce":"ab1e82d44ab04df9a0e79eabb1dbe113","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"41583568F1CE1937F4E68AA39304341B","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"b8bc10b257854fd4ae246bf512c7e4bc","nonce":"ab1e82d44ab04df9a0e79eabb1dbe113"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 21:21:32.085 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 21:21:32.085 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 21:21:32.085 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 21:21:32.085 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 21:21:32.089 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 21:21:32.089 -05:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2021-02-01 21:21:32.090 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"b8bc10b257854fd4ae246bf512c7e4bc","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 21:21:32.577 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:21:32.578 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:21:32.578 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:21:32.578 -05:00 [DBG] Start discovery request
2021-02-01 21:21:32.585 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 21:21:32.585 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 21:21:32.585 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 21:21:32.585 -05:00 [DBG] Start key discovery request
2021-02-01 21:21:32.601 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:21:32.601 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:21:32.601 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:21:32.601 -05:00 [DBG] Start discovery request
2021-02-01 21:21:32.607 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 21:21:32.607 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 21:21:32.607 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 21:21:32.607 -05:00 [DBG] Start userinfo request
2021-02-01 21:21:32.607 -05:00 [DBG] Bearer token found in header
2021-02-01 21:21:32.607 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:21:32.607 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:21:32.608 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 21:21:32.608 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"4DEEDFEA8655DF9810BAD444D24494B0","Claims":{"nbf":1612232492,"exp":1612236092,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612231727,"idp":"local","jti":"4DEEDFEA8655DF9810BAD444D24494B0","sid":"41583568F1CE1937F4E68AA39304341B","iat":1612232492,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 21:21:32.608 -05:00 [DBG] Creating userinfo response
2021-02-01 21:21:32.608 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 21:21:32.608 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 21:21:32.609 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 21:21:32.609 -05:00 [DBG] End userinfo request
2021-02-01 21:21:32.613 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:21:32.613 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:21:32.613 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:21:32.613 -05:00 [DBG] Start discovery request
2021-02-01 21:21:32.622 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:21:32.623 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:21:32.623 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:21:32.623 -05:00 [DBG] Rendering check session result
2021-02-01 21:21:32.689 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:21:32.690 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:21:32.690 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:21:32.690 -05:00 [DBG] Start discovery request
2021-02-01 21:21:32.698 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:21:32.698 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:21:32.698 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:21:32.698 -05:00 [DBG] Rendering check session result
2021-02-01 21:21:36.030 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:21:36.030 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:21:36.030 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:21:36.030 -05:00 [DBG] Start discovery request
2021-02-01 21:21:36.042 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:21:36.042 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:21:36.042 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:21:36.042 -05:00 [DBG] Rendering check session result
2021-02-01 21:21:36.044 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 21:21:36.044 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 21:21:36.044 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 21:21:36.044 -05:00 [DBG] Processing signout request for 4
2021-02-01 21:21:36.044 -05:00 [DBG] Start end session request validation
2021-02-01 21:21:36.044 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 21:21:36.044 -05:00 [DBG] Success validating end session request from null
2021-02-01 21:21:36.050 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 21:21:42.036 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:21:42.036 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:21:42.036 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:21:42.036 -05:00 [DBG] Start discovery request
2021-02-01 21:21:42.050 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 21:21:42.050 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 21:21:42.050 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 21:21:42.050 -05:00 [DBG] Start authorize request
2021-02-01 21:21:42.050 -05:00 [DBG] User in authorize request: 4
2021-02-01 21:21:42.050 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 21:21:42.050 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:21:42.050 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 21:21:42.050 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"7bea0ee7fe4a45fc93c7a9c8bbc3f2f6","UiLocales":null,"Nonce":"5a6b14fbf05b44fa9200d8f24897515a","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"41583568F1CE1937F4E68AA39304341B","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"7bea0ee7fe4a45fc93c7a9c8bbc3f2f6","nonce":"5a6b14fbf05b44fa9200d8f24897515a"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 21:21:42.051 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 21:21:42.052 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 21:21:42.052 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 21:21:42.052 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 21:21:42.053 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 21:21:42.053 -05:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2021-02-01 21:21:42.054 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"7bea0ee7fe4a45fc93c7a9c8bbc3f2f6","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 21:21:42.430 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:21:42.430 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:21:42.430 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:21:42.430 -05:00 [DBG] Start discovery request
2021-02-01 21:21:42.437 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 21:21:42.438 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 21:21:42.438 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 21:21:42.438 -05:00 [DBG] Start key discovery request
2021-02-01 21:21:42.451 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:21:42.451 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:21:42.451 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:21:42.451 -05:00 [DBG] Start discovery request
2021-02-01 21:21:42.455 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 21:21:42.455 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 21:21:42.455 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 21:21:42.455 -05:00 [DBG] Start userinfo request
2021-02-01 21:21:42.455 -05:00 [DBG] Bearer token found in header
2021-02-01 21:21:42.456 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:21:42.456 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:21:42.457 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 21:21:42.457 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"E5576F9D0BD3FDE0FBC54E9DEC499741","Claims":{"nbf":1612232502,"exp":1612236102,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612231727,"idp":"local","jti":"E5576F9D0BD3FDE0FBC54E9DEC499741","sid":"41583568F1CE1937F4E68AA39304341B","iat":1612232502,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 21:21:42.457 -05:00 [DBG] Creating userinfo response
2021-02-01 21:21:42.457 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 21:21:42.457 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 21:21:42.458 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 21:21:42.458 -05:00 [DBG] End userinfo request
2021-02-01 21:21:42.462 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:21:42.462 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:21:42.462 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:21:42.462 -05:00 [DBG] Start discovery request
2021-02-01 21:21:42.472 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:21:42.472 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:21:42.472 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:21:42.472 -05:00 [DBG] Rendering check session result
2021-02-01 21:21:42.541 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:21:42.541 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:21:42.541 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:21:42.541 -05:00 [DBG] Start discovery request
2021-02-01 21:21:42.559 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:21:42.559 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:21:42.559 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:21:42.559 -05:00 [DBG] Rendering check session result
2021-02-01 21:23:01.164 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:23:01.165 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:23:01.165 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:23:01.165 -05:00 [DBG] Start discovery request
2021-02-01 21:23:01.174 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:23:01.174 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:23:01.174 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:23:01.174 -05:00 [DBG] Rendering check session result
2021-02-01 21:26:24.072 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:26:24.072 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:26:24.072 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:26:24.072 -05:00 [DBG] Start discovery request
2021-02-01 21:26:24.085 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:26:24.085 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 21:26:24.085 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:26:24.085 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:26:24.085 -05:00 [DBG] Rendering check session result
2021-02-01 21:26:24.086 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 21:26:24.086 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 21:26:24.086 -05:00 [DBG] Processing signout request for 4
2021-02-01 21:26:24.086 -05:00 [DBG] Start end session request validation
2021-02-01 21:26:24.086 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 21:26:24.086 -05:00 [DBG] Success validating end session request from null
2021-02-01 21:26:24.091 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 21:26:26.726 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:26:26.727 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:26:26.727 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:26:26.727 -05:00 [DBG] Start discovery request
2021-02-01 21:26:26.740 -05:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2021-02-01 21:26:26.740 -05:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2021-02-01 21:26:26.740 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2021-02-01 21:26:26.740 -05:00 [DBG] Start authorize request
2021-02-01 21:26:26.740 -05:00 [DBG] User in authorize request: 4
2021-02-01 21:26:26.740 -05:00 [DBG] Start authorize request protocol validation
2021-02-01 21:26:26.740 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:26:26.740 -05:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2021-02-01 21:26:26.740 -05:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"wewantdoughnuts","ClientName":"We Want Doughnuts","RedirectUri":"http://localhost:3000/signin-oidc","AllowedRedirectUris":["http://localhost:3000/signin-oidc","http://localhost:3000"],"SubjectId":"4","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile email doughnutapi","State":"904b500d65a24b128c1b43264a5c8627","UiLocales":null,"Nonce":"7e75bc936cd145d7879fd9238b0eed0b","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"41583568F1CE1937F4E68AA39304341B","Raw":{"client_id":"wewantdoughnuts","redirect_uri":"http://localhost:3000/signin-oidc","response_type":"id_token token","scope":"openid profile email doughnutapi","state":"904b500d65a24b128c1b43264a5c8627","nonce":"7e75bc936cd145d7879fd9238b0eed0b"},"$type":"AuthorizeRequestValidationLog"}
2021-02-01 21:26:26.742 -05:00 [DBG] Client is configured to not require consent, no consent is required
2021-02-01 21:26:26.742 -05:00 [DBG] Creating Implicit Flow response.
2021-02-01 21:26:26.742 -05:00 [DBG] Getting claims for access token for client: wewantdoughnuts
2021-02-01 21:26:26.742 -05:00 [DBG] Getting claims for access token for subject: 4
2021-02-01 21:26:26.746 -05:00 [DBG] Getting claims for identity token for subject: 4 and client: wewantdoughnuts
2021-02-01 21:26:26.746 -05:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2021-02-01 21:26:26.747 -05:00 [DBG] Authorize endpoint response
{"SubjectId":"4","ClientId":"wewantdoughnuts","RedirectUri":"http://localhost:3000/signin-oidc","State":"904b500d65a24b128c1b43264a5c8627","Scope":"openid profile email doughnutapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2021-02-01 21:26:27.222 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:26:27.222 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:26:27.222 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:26:27.222 -05:00 [DBG] Start discovery request
2021-02-01 21:26:27.230 -05:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2021-02-01 21:26:27.230 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2021-02-01 21:26:27.230 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2021-02-01 21:26:27.230 -05:00 [DBG] Start key discovery request
2021-02-01 21:26:27.246 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:26:27.246 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:26:27.246 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:26:27.246 -05:00 [DBG] Start discovery request
2021-02-01 21:26:27.252 -05:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2021-02-01 21:26:27.253 -05:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2021-02-01 21:26:27.253 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2021-02-01 21:26:27.253 -05:00 [DBG] Start userinfo request
2021-02-01 21:26:27.253 -05:00 [DBG] Bearer token found in header
2021-02-01 21:26:27.253 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:26:27.253 -05:00 [DBG] client configuration validation for client wewantdoughnuts succeeded.
2021-02-01 21:26:27.255 -05:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2021-02-01 21:26:27.255 -05:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"122C402A34C085287808E2C899DFC8D2","Claims":{"nbf":1612232786,"exp":1612236386,"iss":"https://localhost:44374","client_id":"wewantdoughnuts","sub":"4","auth_time":1612231727,"idp":"local","jti":"122C402A34C085287808E2C899DFC8D2","sid":"41583568F1CE1937F4E68AA39304341B","iat":1612232786,"scope":["openid","profile","email","doughnutapi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2021-02-01 21:26:27.255 -05:00 [DBG] Creating userinfo response
2021-02-01 21:26:27.255 -05:00 [DBG] Scopes in access token: openid profile email doughnutapi
2021-02-01 21:26:27.256 -05:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified
2021-02-01 21:26:27.259 -05:00 [INF] Profile service returned the following claim types: sub preferred_username name email email_verified
2021-02-01 21:26:27.259 -05:00 [DBG] End userinfo request
2021-02-01 21:26:27.264 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:26:27.264 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:26:27.264 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:26:27.264 -05:00 [DBG] Start discovery request
2021-02-01 21:26:27.276 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:26:27.276 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:26:27.276 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:26:27.276 -05:00 [DBG] Rendering check session result
2021-02-01 21:26:27.343 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:26:27.343 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:26:27.343 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:26:27.343 -05:00 [DBG] Start discovery request
2021-02-01 21:26:27.353 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:26:27.353 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:26:27.353 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:26:27.353 -05:00 [DBG] Rendering check session result
2021-02-01 21:27:00.683 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:27:00.683 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:27:00.683 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:27:00.683 -05:00 [DBG] Start discovery request
2021-02-01 21:27:00.696 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:27:00.696 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:27:00.696 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:27:00.696 -05:00 [DBG] Rendering check session result
2021-02-01 21:27:45.056 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:27:45.056 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:27:45.056 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:27:45.056 -05:00 [DBG] Start discovery request
2021-02-01 21:27:45.067 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:27:45.067 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:27:45.067 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:27:45.067 -05:00 [DBG] Rendering check session result
2021-02-01 21:28:02.969 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:28:02.969 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:28:02.969 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:28:02.969 -05:00 [DBG] Start discovery request
2021-02-01 21:28:02.980 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:28:02.980 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:28:02.980 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:28:02.980 -05:00 [DBG] Rendering check session result
2021-02-01 21:28:16.182 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:28:16.182 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:28:16.182 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:28:16.182 -05:00 [DBG] Start discovery request
2021-02-01 21:28:16.191 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:28:16.191 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:28:16.191 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:28:16.191 -05:00 [DBG] Rendering check session result
2021-02-01 21:28:32.815 -05:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2021-02-01 21:28:32.815 -05:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2021-02-01 21:28:32.815 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2021-02-01 21:28:32.815 -05:00 [DBG] Start discovery request
2021-02-01 21:28:32.830 -05:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2021-02-01 21:28:32.830 -05:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2021-02-01 21:28:32.830 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2021-02-01 21:28:32.830 -05:00 [DBG] Rendering check session result
2021-02-01 21:28:32.830 -05:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2021-02-01 21:28:32.830 -05:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2021-02-01 21:28:32.830 -05:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2021-02-01 21:28:32.830 -05:00 [DBG] Processing signout request for 4
2021-02-01 21:28:32.830 -05:00 [DBG] Start end session request validation
2021-02-01 21:28:32.830 -05:00 [INF] End session request validation success
{"ClientId":null,"ClientName":null,"SubjectId":"4","PostLogOutUri":null,"State":null,"Raw":{"post_logout_redirect_uri":"http://localhost:3000/signout-oidc"},"$type":"EndSessionRequestValidationLog"}
2021-02-01 21:28:32.830 -05:00 [DBG] Success validating end session request from null
2021-02-01 21:28:32.835 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 21:38:35.471 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:38:35.489 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:38:35.489 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:38:35.489 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:38:35.489 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:38:35.489 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:38:35.489 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:38:35.548 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:38:35.548 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:38:35.548 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:38:35.548 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:38:35.548 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:38:35.548 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:38:35.548 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:39:14.160 -05:00 [INF] AuthenticationScheme: Identity.Application signed out.
2021-02-01 21:39:14.161 -05:00 [INF] AuthenticationScheme: Identity.External signed out.
2021-02-01 21:39:14.161 -05:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2021-02-01 21:39:14.163 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 21:39:14.165 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 21:39:14.169 -05:00 [DBG] SignOutCalled set; processing post-signout session cleanup.
2021-02-01 21:39:14.170 -05:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2021-02-01 21:39:16.546 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:39:16.564 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:39:16.564 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:39:16.564 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:39:16.564 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:39:16.564 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:39:16.564 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:39:16.624 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:39:16.625 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:39:16.625 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:39:16.625 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:39:16.625 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:39:16.625 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:39:16.625 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:39:18.970 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:39:18.988 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:39:18.988 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:39:18.988 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:39:18.988 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:39:18.988 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:39:18.988 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:39:19.047 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:39:19.047 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:39:19.047 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:39:19.047 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:39:19.047 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:39:19.047 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:39:19.047 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:42:32.248 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:42:32.267 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:42:32.267 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:42:32.267 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:42:32.267 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:42:32.267 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:42:32.267 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:42:32.333 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:42:32.333 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:42:32.333 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:42:32.333 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:42:32.333 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:42:32.333 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:42:32.334 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:43:22.770 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:43:22.788 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:43:22.788 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:43:22.788 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:43:22.788 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:43:22.788 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:43:22.788 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:43:22.845 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:43:22.845 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:43:22.845 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:43:22.845 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:43:22.845 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:43:22.845 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:43:22.845 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:43:36.713 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:43:36.731 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:43:36.731 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:43:36.731 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:43:36.731 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:43:36.731 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:43:36.731 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:43:36.788 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:43:36.789 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:43:36.789 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:43:36.789 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:43:36.789 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:43:36.789 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:43:36.789 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:43:53.239 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:43:53.257 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:43:53.257 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:43:53.257 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:43:53.257 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:43:53.257 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:43:53.257 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:43:53.314 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:43:53.314 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:43:53.314 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:43:53.314 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:43:53.314 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:43:53.314 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:43:53.314 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:44:39.674 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:44:39.692 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:44:39.692 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:44:39.692 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:44:39.692 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:44:39.692 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:44:39.692 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:44:39.748 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:44:39.749 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:44:39.749 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:44:39.749 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:44:39.749 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:44:39.749 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:44:39.749 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:45:33.275 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:45:33.292 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:45:33.293 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:45:33.293 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:45:33.293 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:45:33.293 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:45:33.293 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:45:33.349 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:45:33.350 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:45:33.350 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:45:33.350 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:45:33.350 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:45:33.350 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:45:33.350 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:45:54.061 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:45:54.079 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:45:54.079 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:45:54.079 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:45:54.079 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:45:54.079 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:45:54.080 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:45:54.137 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:45:54.137 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:45:54.137 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:45:54.137 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:45:54.137 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:45:54.137 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:45:54.137 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:46:27.241 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:46:27.259 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:46:27.259 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:46:27.259 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:46:27.259 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:46:27.259 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:46:27.259 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:46:27.318 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:46:27.318 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:46:27.318 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:46:27.318 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:46:27.318 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:46:27.319 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:46:27.319 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:46:48.097 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:46:48.115 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:46:48.115 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:46:48.115 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:46:48.115 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:46:48.115 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:46:48.115 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:46:48.172 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:46:48.173 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:46:48.173 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:46:48.173 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:46:48.173 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:46:48.173 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:46:48.173 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:47:11.584 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:47:11.602 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:47:11.602 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:47:11.602 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:47:11.602 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:47:11.602 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:47:11.602 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:47:11.658 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:47:11.659 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:47:11.659 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:47:11.659 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:47:11.659 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:47:11.659 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:47:11.659 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:47:38.033 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:47:38.052 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:47:38.052 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:47:38.052 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:47:38.052 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:47:38.052 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:47:38.052 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:47:38.110 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:47:38.111 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:47:38.111 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:47:38.111 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:47:38.111 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:47:38.111 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:47:38.111 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:48:05.638 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:48:05.656 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:48:05.657 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:48:05.657 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:48:05.657 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:48:05.657 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:48:05.657 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:48:05.713 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:48:05.714 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:48:05.714 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:48:05.714 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:48:05.714 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:48:05.714 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:48:05.714 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:48:24.078 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:48:24.097 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:48:24.097 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:48:24.097 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:48:24.097 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:48:24.097 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:48:24.097 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:48:24.155 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:48:24.155 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:48:24.155 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:48:24.156 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:48:24.156 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:48:24.156 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:48:24.156 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:49:46.928 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:49:46.946 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:49:46.946 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:49:46.946 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:49:46.946 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:49:46.946 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:49:46.946 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:49:47.004 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:49:47.005 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:49:47.005 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:49:47.005 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:49:47.005 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:49:47.005 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:49:47.005 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:50:01.531 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:50:01.548 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:50:01.548 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:50:01.549 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:50:01.549 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:50:01.549 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:50:01.549 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:50:01.605 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:50:01.606 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:50:01.606 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:50:01.606 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:50:01.606 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:50:01.606 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:50:01.606 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:50:30.010 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:50:30.028 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:50:30.028 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:50:30.028 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:50:30.028 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:50:30.028 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:50:30.028 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:50:30.085 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:50:30.086 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:50:30.086 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:50:30.086 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:50:30.086 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:50:30.086 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:50:30.086 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:51:33.800 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:51:33.818 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:51:33.818 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:51:33.818 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:51:33.818 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:51:33.818 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:51:33.818 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:51:33.875 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:51:33.876 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:51:33.876 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:51:33.876 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:51:33.876 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:51:33.876 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:51:33.876 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:52:01.469 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:52:01.487 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:52:01.487 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:52:01.487 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:52:01.487 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:52:01.487 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:52:01.487 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:52:01.544 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:52:01.545 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:52:01.545 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:52:01.545 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:52:01.545 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:52:01.545 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:52:01.545 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:52:45.589 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:52:45.607 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:52:45.607 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:52:45.607 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:52:45.607 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:52:45.607 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:52:45.607 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:52:45.666 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:52:45.666 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:52:45.666 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:52:45.666 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:52:45.666 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:52:45.666 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:52:45.666 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:52:53.106 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:52:53.124 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:52:53.124 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:52:53.124 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:52:53.124 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:52:53.124 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:52:53.124 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:52:53.180 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:52:53.181 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:52:53.181 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:52:53.181 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:52:53.181 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:52:53.181 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:52:53.181 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:53:04.516 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:53:04.534 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:53:04.534 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:53:04.534 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:53:04.534 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:53:04.534 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:53:04.534 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:53:04.590 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:53:04.591 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:53:04.591 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:53:04.591 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:53:04.591 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:53:04.591 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:53:04.591 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:53:47.149 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:53:47.169 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:53:47.169 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:53:47.169 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:53:47.170 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:53:47.170 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:53:47.170 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:53:47.235 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:53:47.236 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:53:47.236 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:53:47.236 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:53:47.236 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:53:47.236 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:53:47.236 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:53:54.429 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:53:54.450 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:53:54.450 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:53:54.450 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:53:54.450 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:53:54.450 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:53:54.450 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:53:54.519 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:53:54.519 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:53:54.519 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:53:54.519 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:53:54.519 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:53:54.519 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:53:54.519 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:54:16.364 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:54:16.382 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:54:16.382 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:54:16.382 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:54:16.382 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:54:16.382 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:54:16.382 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:54:16.439 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:54:16.439 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:54:16.439 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:54:16.439 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:54:16.439 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:54:16.439 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:54:16.439 -05:00 [DBG] Error Id Parameter: errorId
2021-02-01 21:55:05.692 -05:00 [INF] Starting IdentityServer4 version 4.1.1+cebd52f5bc61bdefc262fd20739d4d087c6f961f
2021-02-01 21:55:05.711 -05:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2021-02-01 21:55:05.711 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2021-02-01 21:55:05.711 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2021-02-01 21:55:05.711 -05:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2021-02-01 21:55:05.711 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2021-02-01 21:55:05.711 -05:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2021-02-01 21:55:05.769 -05:00 [DBG] Login Url: /Account/Login
2021-02-01 21:55:05.770 -05:00 [DBG] Login Return Url Parameter: ReturnUrl
2021-02-01 21:55:05.770 -05:00 [DBG] Logout Url: /Account/Logout
2021-02-01 21:55:05.770 -05:00 [DBG] ConsentUrl Url: /consent
2021-02-01 21:55:05.770 -05:00 [DBG] Consent Return Url Parameter: returnUrl
2021-02-01 21:55:05.770 -05:00 [DBG] Error Url: /home/error
2021-02-01 21:55:05.770 -05:00 [DBG] Error Id Parameter: errorId
